webpackJsonp(["main"],{

/***/ "./node_modules/moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\n<!-- <div class=\"container\"> -->\n  <router-outlet></router-outlet>\n<!-- </div> -->\n<footer class=\"footer\">\n  <div class=\"container\">\n      <p class=\"text-muted\">&copy; Copyright 2018 by PT CERDAS | kaXet app&trade;</p>\n  </div>\n</footer>"

/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.title = 'kaXet';
    }
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-root',
            template: __webpack_require__("./src/app/app.component.html"),
            styles: [__webpack_require__("./src/app/app.component.css")]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.global.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Globals; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var Globals = /** @class */ (function () {
    function Globals() {
        this.artistuploadpath = 'kaxet/images/artists/';
        this.albumuploadpath = 'kaxet/images/albums/';
        this.configuploadpath = 'kaxet/images/genres/';
        this.prvwuploadpath = 'kaxet/previews/';
        this.songuploadpath = 'kaxet/songs/';
        //adminurl: String = 'http://localhost:2002';
        this.adminurl = 'https://kxadminp-kaxetprd.4b63.pro-ap-southeast-2.openshiftapps.com';
        //notifurl: String = 'http://localhost:2004';
        this.notifurl = 'https://kxnotifp-kaxetprd.4b63.pro-ap-southeast-2.openshiftapps.com';
        //filetransferurl: String = 'http://localhost:2005';
        this.filetransferurl = 'https://kxfiletrfp-kaxetprd.4b63.pro-ap-southeast-2.openshiftapps.com';
        this.kaxeturl = 'https://www.kaxet.id';
        //kaxeturl: String = 'http://localhost:2000';
    }
    Globals = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], Globals);
    return Globals;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ngx_loading__ = __webpack_require__("./node_modules/ngx-loading/ngx-loading/ngx-loading.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_platform_browser_animations__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/animations.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_material_progress_bar__ = __webpack_require__("./node_modules/@angular/material/esm5/progress-bar.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_angular2_fontawesome_angular2_fontawesome__ = __webpack_require__("./node_modules/angular2-fontawesome/angular2-fontawesome.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_angular2_fontawesome_angular2_fontawesome___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_angular2_fontawesome_angular2_fontawesome__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_ngx_bootstrap_datepicker__ = __webpack_require__("./node_modules/ngx-bootstrap/datepicker/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__ = __webpack_require__("./src/app/guards/auth.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__services_admin_songadmin_service__ = __webpack_require__("./src/app/services/admin/songadmin.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__services_songpurchase_service__ = __webpack_require__("./src/app/services/songpurchase.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__services_transaction_service__ = __webpack_require__("./src/app/services/transaction.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__services_activitylog_service__ = __webpack_require__("./src/app/services/activitylog.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__services_trfbalance_service__ = __webpack_require__("./src/app/services/trfbalance.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__services_admin_trfbalancemgt_service__ = __webpack_require__("./src/app/services/admin/trfbalancemgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__services_admin_adjustment_service__ = __webpack_require__("./src/app/services/admin/adjustment.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__components_navbar_navbar_component__ = __webpack_require__("./src/app/components/navbar/navbar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__components_user_login_login_component__ = __webpack_require__("./src/app/components/user/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__components_user_register_register_component__ = __webpack_require__("./src/app/components/user/register/register.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__components_user_password_password_component__ = __webpack_require__("./src/app/components/user/password/password.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__components_user_profile_profile_component__ = __webpack_require__("./src/app/components/user/profile/profile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__components_user_logout_component__ = __webpack_require__("./src/app/components/user/logout.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__components_about_about_component__ = __webpack_require__("./src/app/components/about/about.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__components_dashboard_dashboard_component__ = __webpack_require__("./src/app/components/dashboard/dashboard.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__components_artist_editartist_editartist_component__ = __webpack_require__("./src/app/components/artist/editartist/editartist.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__components_artist_listartist_listartist_component__ = __webpack_require__("./src/app/components/artist/listartist/listartist.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__components_artist_viewartist_viewartist_component__ = __webpack_require__("./src/app/components/artist/viewartist/viewartist.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__components_artist_addartist_addartist_component__ = __webpack_require__("./src/app/components/artist/addartist/addartist.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__components_artist_editartistphoto_editartistphoto_component__ = __webpack_require__("./src/app/components/artist/editartistphoto/editartistphoto.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__components_album_addalbum_addalbum_component__ = __webpack_require__("./src/app/components/album/addalbum/addalbum.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__components_album_listalbum_listalbum_component__ = __webpack_require__("./src/app/components/album/listalbum/listalbum.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__components_album_viewalbum_viewalbum_component__ = __webpack_require__("./src/app/components/album/viewalbum/viewalbum.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__components_album_editalbum_editalbum_component__ = __webpack_require__("./src/app/components/album/editalbum/editalbum.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__components_album_editalbumphoto_editalbumphoto_component__ = __webpack_require__("./src/app/components/album/editalbumphoto/editalbumphoto.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__components_song_addsong_addsong_component__ = __webpack_require__("./src/app/components/song/addsong/addsong.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__components_song_listsong_listsong_component__ = __webpack_require__("./src/app/components/song/listsong/listsong.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__components_song_editsongfiles_editsongfiles_component__ = __webpack_require__("./src/app/components/song/editsongfiles/editsongfiles.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__components_song_viewsong_viewsong_component__ = __webpack_require__("./src/app/components/song/viewsong/viewsong.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__components_song_editsong_editsong_component__ = __webpack_require__("./src/app/components/song/editsong/editsong.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__components_user_postregistered_postregistered_component__ = __webpack_require__("./src/app/components/user/postregistered/postregistered.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__components_usermgt_usermgt_component__ = __webpack_require__("./src/app/components/usermgt/usermgt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__components_usermgt_viewlabel_viewlabel_component__ = __webpack_require__("./src/app/components/usermgt/viewlabel/viewlabel.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__components_user_updateemail_updateemail_component__ = __webpack_require__("./src/app/components/user/updateemail/updateemail.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__components_user_emailverification_emailverification_component__ = __webpack_require__("./src/app/components/user/emailverification/emailverification.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__components_songmgt_songmgt_component__ = __webpack_require__("./src/app/components/songmgt/songmgt.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__components_msconfig_addconfig_addconfig_component__ = __webpack_require__("./src/app/components/msconfig/addconfig/addconfig.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__components_msconfig_addgroup_addgroup_component__ = __webpack_require__("./src/app/components/msconfig/addgroup/addgroup.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__components_msconfig_listconfig_listconfig_component__ = __webpack_require__("./src/app/components/msconfig/listconfig/listconfig.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__components_msconfig_viewconfig_viewconfig_component__ = __webpack_require__("./src/app/components/msconfig/viewconfig/viewconfig.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__components_msconfig_editconfigfile_editconfigfile_component__ = __webpack_require__("./src/app/components/msconfig/editconfigfile/editconfigfile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__components_msconfig_editconfig_editconfig_component__ = __webpack_require__("./src/app/components/msconfig/editconfig/editconfig.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__components_kx_info_dialog_kx_info_dialog_component__ = __webpack_require__("./src/app/components/kx-info-dialog/kx-info-dialog.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__components_user_forgotpassword_forgotpassword_component__ = __webpack_require__("./src/app/components/user/forgotpassword/forgotpassword.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70__components_user_resetuserpasswd_resetuserpasswd_component__ = __webpack_require__("./src/app/components/user/resetuserpasswd/resetuserpasswd.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71__components_artiststats_artiststats_component__ = __webpack_require__("./src/app/components/artiststats/artiststats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72__components_albumstats_albumstats_component__ = __webpack_require__("./src/app/components/albumstats/albumstats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73__components_songstats_songstats_component__ = __webpack_require__("./src/app/components/songstats/songstats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74__components_labelstats_labelstats_component__ = __webpack_require__("./src/app/components/labelstats/labelstats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75__components_labelstats_viewlabelstats_viewlabelstats_component__ = __webpack_require__("./src/app/components/labelstats/viewlabelstats/viewlabelstats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76__components_artiststats_viewartiststats_viewartiststats_component__ = __webpack_require__("./src/app/components/artiststats/viewartiststats/viewartiststats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77__components_albumstats_viewalbumstats_viewalbumstats_component__ = __webpack_require__("./src/app/components/albumstats/viewalbumstats/viewalbumstats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78__components_songstats_viewsongstats_viewsongstats_component__ = __webpack_require__("./src/app/components/songstats/viewsongstats/viewsongstats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79__components_purchase_songpendingpurchase_songpendingpurchase_component__ = __webpack_require__("./src/app/components/purchase/songpendingpurchase/songpendingpurchase.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80__components_purchase_songcompletepurchase_songcompletepurchase_component__ = __webpack_require__("./src/app/components/purchase/songcompletepurchase/songcompletepurchase.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81__components_purchase_viewsongpurchase_viewsongpurchase_component__ = __webpack_require__("./src/app/components/purchase/viewsongpurchase/viewsongpurchase.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82__components_purchase_viewpurchase_viewpurchase_component__ = __webpack_require__("./src/app/components/purchase/viewpurchase/viewpurchase.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83__components_transaction_transaction_component__ = __webpack_require__("./src/app/components/transaction/transaction.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84__components_purchase_songpurchasestats_songpurchasestats_component__ = __webpack_require__("./src/app/components/purchase/songpurchasestats/songpurchasestats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85__components_transactionstats_transactionstats_component__ = __webpack_require__("./src/app/components/transactionstats/transactionstats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_86__components_labelbalancedialog_labelbalancedialog_component__ = __webpack_require__("./src/app/components/labelbalancedialog/labelbalancedialog.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_87__components_activitylog_activitylog_component__ = __webpack_require__("./src/app/components/activitylog/activitylog.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_88__components_activitylogstats_activitylogstats_component__ = __webpack_require__("./src/app/components/activitylogstats/activitylogstats.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89__components_user_postresetpasswd_postresetpasswd_component__ = __webpack_require__("./src/app/components/user/postresetpasswd/postresetpasswd.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90__components_errorpage_errorpage_component__ = __webpack_require__("./src/app/components/errorpage/errorpage.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__components_trfbalancereq_addtrfbalancereq_addtrfbalancereq_component__ = __webpack_require__("./src/app/components/trfbalancereq/addtrfbalancereq/addtrfbalancereq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__components_trfbalancereq_listtrfbalancereq_listtrfbalancereq_component__ = __webpack_require__("./src/app/components/trfbalancereq/listtrfbalancereq/listtrfbalancereq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__components_trfbalancereq_viewtrfbalancereq_viewtrfbalancereq_component__ = __webpack_require__("./src/app/components/trfbalancereq/viewtrfbalancereq/viewtrfbalancereq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_94__components_trfbalancereq_pendingtrfbalancereq_pendingtrfbalancereq_component__ = __webpack_require__("./src/app/components/trfbalancereq/pendingtrfbalancereq/pendingtrfbalancereq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__components_trfbalancereq_updatetrfbalancereq_updatetrfbalancereq_component__ = __webpack_require__("./src/app/components/trfbalancereq/updatetrfbalancereq/updatetrfbalancereq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__components_trfbalancereq_admlisttransferbalancereq_admlisttransferbalancereq_component__ = __webpack_require__("./src/app/components/trfbalancereq/admlisttransferbalancereq/admlisttransferbalancereq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__components_trfbalancereq_editposttransferbalancereq_editposttransferbalancereq_component__ = __webpack_require__("./src/app/components/trfbalancereq/editposttransferbalancereq/editposttransferbalancereq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_98__components_adjustment_addadjustment_addadjustment_component__ = __webpack_require__("./src/app/components/adjustment/addadjustment/addadjustment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_99__components_adjustment_listadjustment_listadjustment_component__ = __webpack_require__("./src/app/components/adjustment/listadjustment/listadjustment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_100__components_adjustment_viewadjustment_viewadjustment_component__ = __webpack_require__("./src/app/components/adjustment/viewadjustment/viewadjustment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_101__components_adjustment_editadjustment_editadjustment_component__ = __webpack_require__("./src/app/components/adjustment/editadjustment/editadjustment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_102__components_adjustment_pendingadjustment_pendingadjustment_component__ = __webpack_require__("./src/app/components/adjustment/pendingadjustment/pendingadjustment.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_103__components_othertransaction_othertransaction_component__ = __webpack_require__("./src/app/components/othertransaction/othertransaction.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_104__components_othertransactionstats_othertransactionstats_component__ = __webpack_require__("./src/app/components/othertransactionstats/othertransactionstats.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













/* Global Variables */

/* Services Modules */


















/* common Modules */











































































var appRoutes = [
    { path: '', redirectTo: 'about', pathMatch: 'full' },
    { path: 'register', component: __WEBPACK_IMPORTED_MODULE_35__components_user_register_register_component__["a" /* RegisterComponent */] },
    { path: 'forgotpassword', component: __WEBPACK_IMPORTED_MODULE_69__components_user_forgotpassword_forgotpassword_component__["a" /* ForgotpasswordComponent */] },
    { path: 'postregistered/:nm', component: __WEBPACK_IMPORTED_MODULE_56__components_user_postregistered_postregistered_component__["a" /* PostregisteredComponent */] },
    { path: 'login', component: __WEBPACK_IMPORTED_MODULE_34__components_user_login_login_component__["a" /* LoginComponent */] },
    { path: 'about', component: __WEBPACK_IMPORTED_MODULE_39__components_about_about_component__["a" /* AboutComponent */] },
    { path: 'logout', component: __WEBPACK_IMPORTED_MODULE_38__components_user_logout_component__["a" /* LogoutComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'profile', component: __WEBPACK_IMPORTED_MODULE_37__components_user_profile_profile_component__["a" /* ProfileComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'password', component: __WEBPACK_IMPORTED_MODULE_36__components_user_password_password_component__["a" /* PasswordComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'report', component: __WEBPACK_IMPORTED_MODULE_40__components_dashboard_dashboard_component__["a" /* DashboardComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'addartist', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_44__components_artist_addartist_addartist_component__["a" /* AddartistComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editartist/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_41__components_artist_editartist_editartist_component__["a" /* EditartistComponent */], runGuardsAndResolvers: 'always' },
    { path: 'listartist', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_42__components_artist_listartist_listartist_component__["a" /* ListartistComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editartistphoto/:id', component: __WEBPACK_IMPORTED_MODULE_45__components_artist_editartistphoto_editartistphoto_component__["a" /* EditartistphotoComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'viewartist/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_43__components_artist_viewartist_viewartist_component__["a" /* ViewartistComponent */], runGuardsAndResolvers: 'always' },
    { path: 'addalbum', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_46__components_album_addalbum_addalbum_component__["a" /* AddalbumComponent */], runGuardsAndResolvers: 'always' },
    { path: 'listalbum', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_47__components_album_listalbum_listalbum_component__["a" /* ListalbumComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewalbum/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_48__components_album_viewalbum_viewalbum_component__["a" /* ViewalbumComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editalbum/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_49__components_album_editalbum_editalbum_component__["a" /* EditalbumComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editalbumphoto/:id', component: __WEBPACK_IMPORTED_MODULE_50__components_album_editalbumphoto_editalbumphoto_component__["a" /* EditalbumphotoComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'addsong', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_51__components_song_addsong_addsong_component__["a" /* AddsongComponent */], runGuardsAndResolvers: 'always' },
    { path: 'listsong', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_52__components_song_listsong_listsong_component__["a" /* ListsongComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editsongfiles/:id', component: __WEBPACK_IMPORTED_MODULE_53__components_song_editsongfiles_editsongfiles_component__["a" /* EditsongfilesComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'viewsong/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_54__components_song_viewsong_viewsong_component__["a" /* ViewsongComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editsong/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_55__components_song_editsong_editsong_component__["a" /* EditsongComponent */], runGuardsAndResolvers: 'always' },
    { path: 'usermanagement', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_57__components_usermgt_usermgt_component__["a" /* UsermgtComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewlabel/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_58__components_usermgt_viewlabel_viewlabel_component__["a" /* ViewlabelComponent */], runGuardsAndResolvers: 'always' },
    { path: 'updateemail', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_59__components_user_updateemail_updateemail_component__["a" /* UpdateemailComponent */], runGuardsAndResolvers: 'always' },
    { path: 'verify', component: __WEBPACK_IMPORTED_MODULE_60__components_user_emailverification_emailverification_component__["a" /* EmailverificationComponent */] },
    { path: 'songmanagement', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_61__components_songmgt_songmgt_component__["a" /* SongmgtComponent */], runGuardsAndResolvers: 'always' },
    { path: 'addconfig', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_62__components_msconfig_addconfig_addconfig_component__["a" /* AddconfigComponent */], runGuardsAndResolvers: 'always' },
    { path: 'addgroup', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_63__components_msconfig_addgroup_addgroup_component__["a" /* AddgroupComponent */], runGuardsAndResolvers: 'always' },
    { path: 'listconfig', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_64__components_msconfig_listconfig_listconfig_component__["a" /* ListconfigComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewconfig/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_65__components_msconfig_viewconfig_viewconfig_component__["a" /* ViewconfigComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editconfigfile/:id', component: __WEBPACK_IMPORTED_MODULE_66__components_msconfig_editconfigfile_editconfigfile_component__["a" /* EditconfigfileComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'editconfig/:id', component: __WEBPACK_IMPORTED_MODULE_67__components_msconfig_editconfig_editconfig_component__["a" /* EditconfigComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'resetpassword', component: __WEBPACK_IMPORTED_MODULE_70__components_user_resetuserpasswd_resetuserpasswd_component__["a" /* ResetuserpasswdComponent */] },
    { path: 'labelstats', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_74__components_labelstats_labelstats_component__["a" /* LabelstatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'artiststats', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_71__components_artiststats_artiststats_component__["a" /* ArtiststatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'albumstats', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_72__components_albumstats_albumstats_component__["a" /* AlbumstatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'songstats', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_73__components_songstats_songstats_component__["a" /* SongstatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewlabelstats/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_75__components_labelstats_viewlabelstats_viewlabelstats_component__["a" /* ViewlabelstatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewartiststats/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_76__components_artiststats_viewartiststats_viewartiststats_component__["a" /* ViewartiststatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewalbumstats/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_77__components_albumstats_viewalbumstats_viewalbumstats_component__["a" /* ViewalbumstatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewsongstats/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_78__components_songstats_viewsongstats_viewsongstats_component__["a" /* ViewsongstatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'songpendingpurchase', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_79__components_purchase_songpendingpurchase_songpendingpurchase_component__["a" /* SongpendingpurchaseComponent */], runGuardsAndResolvers: 'always' },
    { path: 'songcompletepurchase', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_80__components_purchase_songcompletepurchase_songcompletepurchase_component__["a" /* SongcompletepurchaseComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewsongpurchase/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_81__components_purchase_viewsongpurchase_viewsongpurchase_component__["a" /* ViewsongpurchaseComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewpurchase/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_82__components_purchase_viewpurchase_viewpurchase_component__["a" /* ViewpurchaseComponent */], runGuardsAndResolvers: 'always' },
    { path: 'transaction', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_83__components_transaction_transaction_component__["a" /* TransactionComponent */], runGuardsAndResolvers: 'always' },
    { path: 'songpurchasestats', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_84__components_purchase_songpurchasestats_songpurchasestats_component__["a" /* SongpurchasestatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'transactionstats', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_85__components_transactionstats_transactionstats_component__["a" /* TransactionstatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'activitylog', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_87__components_activitylog_activitylog_component__["a" /* ActivitylogComponent */], runGuardsAndResolvers: 'always' },
    { path: 'activitylogstats', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_88__components_activitylogstats_activitylogstats_component__["a" /* ActivitylogstatsComponent */], runGuardsAndResolvers: 'always' },
    { path: 'postresetpasswd', component: __WEBPACK_IMPORTED_MODULE_89__components_user_postresetpasswd_postresetpasswd_component__["a" /* PostresetpasswdComponent */] },
    { path: 'errorpage', component: __WEBPACK_IMPORTED_MODULE_90__components_errorpage_errorpage_component__["a" /* ErrorpageComponent */] },
    { path: 'addtrfbalancereq', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_91__components_trfbalancereq_addtrfbalancereq_addtrfbalancereq_component__["a" /* AddtrfbalancereqComponent */], runGuardsAndResolvers: 'always' },
    { path: 'listtrfbalancereq', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_92__components_trfbalancereq_listtrfbalancereq_listtrfbalancereq_component__["a" /* ListtrfbalancereqComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewtrfbalancereq/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_93__components_trfbalancereq_viewtrfbalancereq_viewtrfbalancereq_component__["a" /* ViewtrfbalancereqComponent */], runGuardsAndResolvers: 'always' },
    { path: 'pendingtrfbalancereq', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_94__components_trfbalancereq_pendingtrfbalancereq_pendingtrfbalancereq_component__["a" /* PendingtrfbalancereqComponent */], runGuardsAndResolvers: 'always' },
    { path: 'updatetrfbalancereq/:id', component: __WEBPACK_IMPORTED_MODULE_95__components_trfbalancereq_updatetrfbalancereq_updatetrfbalancereq_component__["a" /* UpdatetrfbalancereqComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'admlisttrfbalancereq', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_96__components_trfbalancereq_admlisttransferbalancereq_admlisttransferbalancereq_component__["a" /* AdmlisttransferbalancereqComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editposttrfbalancereq/:id', component: __WEBPACK_IMPORTED_MODULE_97__components_trfbalancereq_editposttransferbalancereq_editposttransferbalancereq_component__["a" /* EditposttransferbalancereqComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], runGuardsAndResolvers: 'always' },
    { path: 'addadjustment', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_98__components_adjustment_addadjustment_addadjustment_component__["a" /* AddadjustmentComponent */], runGuardsAndResolvers: 'always' },
    { path: 'listadjustment', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_99__components_adjustment_listadjustment_listadjustment_component__["a" /* ListadjustmentComponent */], runGuardsAndResolvers: 'always' },
    { path: 'viewadjustment/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_100__components_adjustment_viewadjustment_viewadjustment_component__["a" /* ViewadjustmentComponent */], runGuardsAndResolvers: 'always' },
    { path: 'editadjustment/:id', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_101__components_adjustment_editadjustment_editadjustment_component__["a" /* EditadjustmentComponent */], runGuardsAndResolvers: 'always' },
    { path: 'pendingadjustment', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_102__components_adjustment_pendingadjustment_pendingadjustment_component__["a" /* PendingadjustmentComponent */], runGuardsAndResolvers: 'always' },
    { path: 'othertransaction', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_103__components_othertransaction_othertransaction_component__["a" /* OthertransactionComponent */], runGuardsAndResolvers: 'always' },
    { path: 'othertransactionstats', canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */]], component: __WEBPACK_IMPORTED_MODULE_104__components_othertransactionstats_othertransactionstats_component__["a" /* OthertransactionstatsComponent */], runGuardsAndResolvers: 'always' },
];
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_32__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_33__components_navbar_navbar_component__["a" /* NavbarComponent */],
                __WEBPACK_IMPORTED_MODULE_34__components_user_login_login_component__["a" /* LoginComponent */],
                __WEBPACK_IMPORTED_MODULE_35__components_user_register_register_component__["a" /* RegisterComponent */],
                __WEBPACK_IMPORTED_MODULE_36__components_user_password_password_component__["a" /* PasswordComponent */],
                __WEBPACK_IMPORTED_MODULE_37__components_user_profile_profile_component__["a" /* ProfileComponent */],
                __WEBPACK_IMPORTED_MODULE_38__components_user_logout_component__["a" /* LogoutComponent */],
                __WEBPACK_IMPORTED_MODULE_39__components_about_about_component__["a" /* AboutComponent */],
                __WEBPACK_IMPORTED_MODULE_40__components_dashboard_dashboard_component__["a" /* DashboardComponent */],
                __WEBPACK_IMPORTED_MODULE_41__components_artist_editartist_editartist_component__["a" /* EditartistComponent */],
                __WEBPACK_IMPORTED_MODULE_42__components_artist_listartist_listartist_component__["a" /* ListartistComponent */],
                __WEBPACK_IMPORTED_MODULE_43__components_artist_viewartist_viewartist_component__["a" /* ViewartistComponent */],
                __WEBPACK_IMPORTED_MODULE_44__components_artist_addartist_addartist_component__["a" /* AddartistComponent */],
                __WEBPACK_IMPORTED_MODULE_45__components_artist_editartistphoto_editartistphoto_component__["a" /* EditartistphotoComponent */],
                __WEBPACK_IMPORTED_MODULE_46__components_album_addalbum_addalbum_component__["a" /* AddalbumComponent */],
                __WEBPACK_IMPORTED_MODULE_47__components_album_listalbum_listalbum_component__["a" /* ListalbumComponent */],
                __WEBPACK_IMPORTED_MODULE_48__components_album_viewalbum_viewalbum_component__["a" /* ViewalbumComponent */],
                __WEBPACK_IMPORTED_MODULE_49__components_album_editalbum_editalbum_component__["a" /* EditalbumComponent */],
                __WEBPACK_IMPORTED_MODULE_50__components_album_editalbumphoto_editalbumphoto_component__["a" /* EditalbumphotoComponent */],
                __WEBPACK_IMPORTED_MODULE_51__components_song_addsong_addsong_component__["a" /* AddsongComponent */],
                __WEBPACK_IMPORTED_MODULE_52__components_song_listsong_listsong_component__["a" /* ListsongComponent */],
                __WEBPACK_IMPORTED_MODULE_53__components_song_editsongfiles_editsongfiles_component__["a" /* EditsongfilesComponent */],
                __WEBPACK_IMPORTED_MODULE_54__components_song_viewsong_viewsong_component__["a" /* ViewsongComponent */],
                __WEBPACK_IMPORTED_MODULE_55__components_song_editsong_editsong_component__["a" /* EditsongComponent */],
                __WEBPACK_IMPORTED_MODULE_56__components_user_postregistered_postregistered_component__["a" /* PostregisteredComponent */],
                __WEBPACK_IMPORTED_MODULE_57__components_usermgt_usermgt_component__["a" /* UsermgtComponent */],
                __WEBPACK_IMPORTED_MODULE_58__components_usermgt_viewlabel_viewlabel_component__["a" /* ViewlabelComponent */],
                __WEBPACK_IMPORTED_MODULE_59__components_user_updateemail_updateemail_component__["a" /* UpdateemailComponent */],
                __WEBPACK_IMPORTED_MODULE_60__components_user_emailverification_emailverification_component__["a" /* EmailverificationComponent */],
                __WEBPACK_IMPORTED_MODULE_61__components_songmgt_songmgt_component__["a" /* SongmgtComponent */],
                __WEBPACK_IMPORTED_MODULE_62__components_msconfig_addconfig_addconfig_component__["a" /* AddconfigComponent */],
                __WEBPACK_IMPORTED_MODULE_63__components_msconfig_addgroup_addgroup_component__["a" /* AddgroupComponent */],
                __WEBPACK_IMPORTED_MODULE_64__components_msconfig_listconfig_listconfig_component__["a" /* ListconfigComponent */],
                __WEBPACK_IMPORTED_MODULE_65__components_msconfig_viewconfig_viewconfig_component__["a" /* ViewconfigComponent */],
                __WEBPACK_IMPORTED_MODULE_66__components_msconfig_editconfigfile_editconfigfile_component__["a" /* EditconfigfileComponent */],
                __WEBPACK_IMPORTED_MODULE_67__components_msconfig_editconfig_editconfig_component__["a" /* EditconfigComponent */],
                __WEBPACK_IMPORTED_MODULE_68__components_kx_info_dialog_kx_info_dialog_component__["a" /* KxInfoDialogComponent */],
                __WEBPACK_IMPORTED_MODULE_69__components_user_forgotpassword_forgotpassword_component__["a" /* ForgotpasswordComponent */],
                __WEBPACK_IMPORTED_MODULE_70__components_user_resetuserpasswd_resetuserpasswd_component__["a" /* ResetuserpasswdComponent */],
                __WEBPACK_IMPORTED_MODULE_71__components_artiststats_artiststats_component__["a" /* ArtiststatsComponent */],
                __WEBPACK_IMPORTED_MODULE_72__components_albumstats_albumstats_component__["a" /* AlbumstatsComponent */],
                __WEBPACK_IMPORTED_MODULE_73__components_songstats_songstats_component__["a" /* SongstatsComponent */],
                __WEBPACK_IMPORTED_MODULE_74__components_labelstats_labelstats_component__["a" /* LabelstatsComponent */],
                __WEBPACK_IMPORTED_MODULE_75__components_labelstats_viewlabelstats_viewlabelstats_component__["a" /* ViewlabelstatsComponent */],
                __WEBPACK_IMPORTED_MODULE_76__components_artiststats_viewartiststats_viewartiststats_component__["a" /* ViewartiststatsComponent */],
                __WEBPACK_IMPORTED_MODULE_77__components_albumstats_viewalbumstats_viewalbumstats_component__["a" /* ViewalbumstatsComponent */],
                __WEBPACK_IMPORTED_MODULE_78__components_songstats_viewsongstats_viewsongstats_component__["a" /* ViewsongstatsComponent */],
                __WEBPACK_IMPORTED_MODULE_79__components_purchase_songpendingpurchase_songpendingpurchase_component__["a" /* SongpendingpurchaseComponent */],
                __WEBPACK_IMPORTED_MODULE_80__components_purchase_songcompletepurchase_songcompletepurchase_component__["a" /* SongcompletepurchaseComponent */],
                __WEBPACK_IMPORTED_MODULE_81__components_purchase_viewsongpurchase_viewsongpurchase_component__["a" /* ViewsongpurchaseComponent */],
                __WEBPACK_IMPORTED_MODULE_82__components_purchase_viewpurchase_viewpurchase_component__["a" /* ViewpurchaseComponent */],
                __WEBPACK_IMPORTED_MODULE_83__components_transaction_transaction_component__["a" /* TransactionComponent */],
                __WEBPACK_IMPORTED_MODULE_84__components_purchase_songpurchasestats_songpurchasestats_component__["a" /* SongpurchasestatsComponent */],
                __WEBPACK_IMPORTED_MODULE_85__components_transactionstats_transactionstats_component__["a" /* TransactionstatsComponent */],
                __WEBPACK_IMPORTED_MODULE_86__components_labelbalancedialog_labelbalancedialog_component__["a" /* LabelbalancedialogComponent */],
                __WEBPACK_IMPORTED_MODULE_87__components_activitylog_activitylog_component__["a" /* ActivitylogComponent */],
                __WEBPACK_IMPORTED_MODULE_88__components_activitylogstats_activitylogstats_component__["a" /* ActivitylogstatsComponent */],
                __WEBPACK_IMPORTED_MODULE_89__components_user_postresetpasswd_postresetpasswd_component__["a" /* PostresetpasswdComponent */],
                __WEBPACK_IMPORTED_MODULE_90__components_errorpage_errorpage_component__["a" /* ErrorpageComponent */],
                __WEBPACK_IMPORTED_MODULE_91__components_trfbalancereq_addtrfbalancereq_addtrfbalancereq_component__["a" /* AddtrfbalancereqComponent */],
                __WEBPACK_IMPORTED_MODULE_92__components_trfbalancereq_listtrfbalancereq_listtrfbalancereq_component__["a" /* ListtrfbalancereqComponent */],
                __WEBPACK_IMPORTED_MODULE_93__components_trfbalancereq_viewtrfbalancereq_viewtrfbalancereq_component__["a" /* ViewtrfbalancereqComponent */],
                __WEBPACK_IMPORTED_MODULE_94__components_trfbalancereq_pendingtrfbalancereq_pendingtrfbalancereq_component__["a" /* PendingtrfbalancereqComponent */],
                __WEBPACK_IMPORTED_MODULE_95__components_trfbalancereq_updatetrfbalancereq_updatetrfbalancereq_component__["a" /* UpdatetrfbalancereqComponent */],
                __WEBPACK_IMPORTED_MODULE_96__components_trfbalancereq_admlisttransferbalancereq_admlisttransferbalancereq_component__["a" /* AdmlisttransferbalancereqComponent */],
                __WEBPACK_IMPORTED_MODULE_97__components_trfbalancereq_editposttransferbalancereq_editposttransferbalancereq_component__["a" /* EditposttransferbalancereqComponent */],
                __WEBPACK_IMPORTED_MODULE_98__components_adjustment_addadjustment_addadjustment_component__["a" /* AddadjustmentComponent */],
                __WEBPACK_IMPORTED_MODULE_99__components_adjustment_listadjustment_listadjustment_component__["a" /* ListadjustmentComponent */],
                __WEBPACK_IMPORTED_MODULE_100__components_adjustment_viewadjustment_viewadjustment_component__["a" /* ViewadjustmentComponent */],
                __WEBPACK_IMPORTED_MODULE_101__components_adjustment_editadjustment_editadjustment_component__["a" /* EditadjustmentComponent */],
                __WEBPACK_IMPORTED_MODULE_102__components_adjustment_pendingadjustment_pendingadjustment_component__["a" /* PendingadjustmentComponent */],
                __WEBPACK_IMPORTED_MODULE_103__components_othertransaction_othertransaction_component__["a" /* OthertransactionComponent */],
                __WEBPACK_IMPORTED_MODULE_104__components_othertransactionstats_othertransactionstats_component__["a" /* OthertransactionstatsComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["e" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["j" /* ReactiveFormsModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_http__["c" /* HttpModule */],
                __WEBPACK_IMPORTED_MODULE_7__angular_material__["e" /* MatDialogModule */],
                __WEBPACK_IMPORTED_MODULE_7__angular_material__["b" /* MatButtonModule */],
                __WEBPACK_IMPORTED_MODULE_8__angular_material_progress_bar__["a" /* MatProgressBarModule */],
                __WEBPACK_IMPORTED_MODULE_7__angular_material__["c" /* MatCardModule */],
                __WEBPACK_IMPORTED_MODULE_6__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
                __WEBPACK_IMPORTED_MODULE_9_angular2_fontawesome_angular2_fontawesome__["Angular2FontawesomeModule"],
                __WEBPACK_IMPORTED_MODULE_5_ngx_loading__["b" /* LoadingModule */].forRoot({
                    animationType: __WEBPACK_IMPORTED_MODULE_5_ngx_loading__["a" /* ANIMATION_TYPES */].threeBounce,
                    backdropBackgroundColour: 'rgba(0,0,0,0.1)',
                    backdropBorderRadius: '4px',
                    primaryColour: '#ce3b3b',
                    secondaryColour: '#ce3b3b',
                    tertiaryColour: '#ce3b3b'
                }),
                __WEBPACK_IMPORTED_MODULE_10_ngx_bootstrap_datepicker__["a" /* BsDatepickerModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["e" /* RouterModule */].forRoot(appRoutes, { onSameUrlNavigation: 'reload' })
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_68__components_kx_info_dialog_kx_info_dialog_component__["a" /* KxInfoDialogComponent */],
                __WEBPACK_IMPORTED_MODULE_86__components_labelbalancedialog_labelbalancedialog_component__["a" /* LabelbalancedialogComponent */]
            ],
            providers: [__WEBPACK_IMPORTED_MODULE_11__app_global__["a" /* Globals */],
                __WEBPACK_IMPORTED_MODULE_30__common_toastr_service__["a" /* ToastrService */],
                __WEBPACK_IMPORTED_MODULE_12__services_auth_service__["a" /* AuthService */],
                __WEBPACK_IMPORTED_MODULE_13__guards_auth_guard__["a" /* AuthGuard */],
                __WEBPACK_IMPORTED_MODULE_14__services_user_service__["a" /* UserService */],
                __WEBPACK_IMPORTED_MODULE_15__services_artist_service__["a" /* ArtistService */],
                __WEBPACK_IMPORTED_MODULE_16__services_album_service__["a" /* AlbumService */],
                __WEBPACK_IMPORTED_MODULE_17__services_song_service__["a" /* SongService */],
                __WEBPACK_IMPORTED_MODULE_31__angular_common__["DatePipe"],
                __WEBPACK_IMPORTED_MODULE_18__services_admin_usermgt_service__["a" /* UsermgtService */],
                __WEBPACK_IMPORTED_MODULE_19__services_admin_songadmin_service__["a" /* SongadminService */],
                __WEBPACK_IMPORTED_MODULE_20__services_admin_msconfig_service__["a" /* MsconfigService */],
                __WEBPACK_IMPORTED_MODULE_21__services_notif_service__["a" /* NotifService */],
                __WEBPACK_IMPORTED_MODULE_22__services_filetransfer_service__["a" /* FiletransferService */],
                __WEBPACK_IMPORTED_MODULE_23__services_songpurchase_service__["a" /* SongpurchaseService */],
                __WEBPACK_IMPORTED_MODULE_24__services_transaction_service__["a" /* TransactionService */],
                __WEBPACK_IMPORTED_MODULE_25__services_activitylog_service__["a" /* ActivitylogService */],
                __WEBPACK_IMPORTED_MODULE_26__services_navbar_service__["a" /* NavbarService */],
                __WEBPACK_IMPORTED_MODULE_27__services_trfbalance_service__["a" /* TrfbalanceService */],
                __WEBPACK_IMPORTED_MODULE_28__services_admin_trfbalancemgt_service__["a" /* TrfbalancemgtService */],
                __WEBPACK_IMPORTED_MODULE_29__services_admin_adjustment_service__["a" /* AdjustmentService */]],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_32__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/common/toastr.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToastrService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ToastrService = /** @class */ (function () {
    function ToastrService() {
        toastr.options = {
            //timeOut : 0,
            //extendedTimeOut : 100,
            //tapToDismiss : true,
            //debug : false,
            //fadeOut: 10,
            positionClass: "toast-top-right"
        };
    }
    ToastrService.prototype.success = function (message, title) {
        toastr.success(message, title);
    };
    ToastrService.prototype.info = function (message, title) {
        toastr.info(message, title);
    };
    ToastrService.prototype.warning = function (message, title) {
        toastr.warning(message, title);
    };
    ToastrService.prototype.error = function (message, title) {
        toastr.error(message, title);
    };
    ToastrService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], ToastrService);
    return ToastrService;
}());



/***/ }),

/***/ "./src/app/components/about/about.component.css":
/***/ (function(module, exports) {

module.exports = "/*------------------------------------------------------------------\n    [Full Screen Carousel]\n------------------------------------------------------------------*/\n.full-screen {\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n  }\n/*------------------------------------------------------------------\n      [Carousel]\n  ------------------------------------------------------------------*/\n.carousel-indicators {\n    left: auto;\n    width: auto;\n    padding-left: 0;\n    margin-left: 0;\n  }\n.carousel-centered {\n    position: absolute;\n    top: 50%;\n    -webkit-transform: translate3d(0, -50%, 0);\n    transform: translate3d(0, -50%, 0);\n  }\n.carousel-title {\n    font-size: 60px;\n    font-weight: 700;\n    /* color: #fff; */\n    color: #fce86c;\n    line-height: 1.1;\n    text-transform: uppercase;\n  }\n#carousel-example-generic .item img {\n    /* opacity: 0.0;\n    filter: alpha(opacity=0); */\n    width: 100%;\n    height: 700px;\n  }\n@media (max-width: 768px) {\n    .carousel-title {\n      font-size: 40px;\n    }\n    #carousel-example-generic .item img {\n      height:100%;\n      -o-object-fit:cover;\n         object-fit:cover;\n    }\n  }\n/*------------------------------------------------------------------\n        [Button]\n  ------------------------------------------------------------------*/\n.btn-theme {\n    position: relative;\n    display: inline-block;\n    line-height: 1.4;\n    text-align: center;\n    background-image: none;\n    border-style: solid;\n    white-space: nowrap;\n    vertical-align: middle;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n  }\n.btn-theme:focus, .btn-theme:active:focus, .btn-theme.active:focus, .btn-theme.focus, .btn-theme:active.focus, .btn-theme.active.focus {\n    outline: none;\n  }\n.btn-theme:hover {\n    -webkit-transition-duration: 300ms;\n            transition-duration: 300ms;\n    -webkit-transition-property: all;\n    transition-property: all;\n    -webkit-transition-timing-function: cubic-bezier(0.7, 1, 0.7, 1);\n            transition-timing-function: cubic-bezier(0.7, 1, 0.7, 1);\n  }\n.btn-theme:hover, .btn-theme:focus, .btn-theme.focus {\n    text-decoration: none;\n  }\n.btn-theme:active, .btn-theme.active {\n    background-image: none;\n    outline: 0;\n  }\n.btn-theme.disabled, .btn-theme[disabled],\n  fieldset[disabled] .btn-theme {\n    cursor: not-allowed;\n    -webkit-box-shadow: none;\n            box-shadow: none;\n    opacity: .65;\n    pointer-events: none;\n  }\n.btn-white-brd {\n    color: #fff;\n    background: transparent;\n    border-color: rgba(255, 255, 255, 0.3);\n    border-width: 1px;\n  }\n.btn-white-brd:hover, .btn-white-brd:focus, .btn-white-brd.focus {\n    color: #515769;\n    background: #fff;\n    border-color: transparent;\n  }\n.btn-yellow-brd {\n    color: #fce86c;\n    background: transparent;\n    border-color: rgba(255, 255, 255, 0.3);\n    border-width: 1px;\n  }\n.btn-yellow-brd:hover, .btn-yellow-brd:focus, .btn-yellow-brd.focus {\n    color: #515769;\n    background: #fce86c;\n    border-color: transparent;\n  }\n.btn-default-bg {\n    color: #515769;\n    background: #f3f4f5;\n    border-color: transparent;\n    border-width: 0;\n  }\n.btn-default-bg:hover, .btn-default-bg:focus, .btn-default-bg.focus {\n    color: #fff;\n    background: #17bed2;\n    border-color: transparent;\n  }\n.btn-base-bg {\n    color: #fff;\n    background: #17bed2;\n    border-color: transparent;\n    border-width: 0;\n  }\n.btn-base-bg:hover, .btn-base-bg:focus, .btn-base-bg.focus {\n    color: #fff;\n    background: #63cbd7;\n    border-color: transparent;\n  }\n.btn-theme-sm {\n    font-size: 13px;\n    font-weight: 600;\n    padding: 15px 30px;\n  }\n.pcarousel {\n    font-size:16px;\n    color:#fce86c;\n}\n@media (max-width: 768px) {\n    .pcarousel {\n        font-size:14px;\n    }\n    .sm-margin-b-2 {\n        margin-bottom: 2px !important;\n    }\n}\n.bg-color-sky-light {\n    background: #fafafa;\n}\n.content-lg {\n    padding-top: 50px;\n    padding-bottom: 100px;\n}\n.row-space-1 {\n    margin-right: -1px;\n    margin-left: -1px;\n}\n.margin-b-2 {\n    margin-bottom: 2px !important;\n}\n.margin-b-5 {\n    margin-bottom: 5px !important;\n}\n.margin-b-40 {\n    margin-bottom: 40px !important;\n}\n.center {\n    margin: auto;\n    text-align: center;\n    width: 100%;\n    /* border: 3px solid #73AD21; */\n    padding-bottom: 20px;\n}\n.service-header {\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    /* margin-top: 0.3em;  */\n    /* margin-left: 1em; */\n}\n.service-header > label {\n    margin-left: 0.5em;\n}\n.service-header > .headericon {\n    margin-top: 0.3em;\n    font-size: 20px;\n}\n.service-header > .headericon-right {\n    margin-top: 0.3em;\n    margin-left: 0.5em;\n    font-size: 20px;\n}\n.service {\n    background: #333;\n    padding: 50px;\n}\n.service .service-element,\n.service .service-info {\n  color: #fce86c;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  -webkit-transition-duration: 300ms;\n          transition-duration: 300ms;\n  -webkit-transition-property: all;\n  transition-property: all;\n  -webkit-transition-timing-function: cubic-bezier(0.7, 1, 0.7, 1);\n          transition-timing-function: cubic-bezier(0.7, 1, 0.7, 1);\n}\n.service .service-icon {\n  display: block;\n  font-size: 50px;\n  color: #fce86c;\n  margin-bottom: 30px;\n}\n.service:hover .service-element {\n  opacity: 0;\n  -webkit-transform: translate3d(0, -100%, 0);\n  transform: translate3d(0, -100%, 0);\n  -webkit-transition-duration: 300ms;\n          transition-duration: 300ms;\n  -webkit-transition-property: all;\n  transition-property: all;\n  -webkit-transition-timing-function: cubic-bezier(0.7, 1, 0.7, 1);\n          transition-timing-function: cubic-bezier(0.7, 1, 0.7, 1);\n}\n.service:hover .service-info {\n  -webkit-transform: translate3d(0, -30%, 0);\n  transform: translate3d(0, -30%, 0);\n  -webkit-transition-duration: 300ms;\n          transition-duration: 300ms;\n  -webkit-transition-property: all;\n  transition-property: all;\n  -webkit-transition-timing-function: cubic-bezier(0.7, 1, 0.7, 1);\n          transition-timing-function: cubic-bezier(0.7, 1, 0.7, 1);\n}\n.content-wrapper-link {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: block;\n    z-index: 3;\n    text-decoration: none;\n}"

/***/ }),

/***/ "./src/app/components/about/about.component.html":
/***/ (function(module, exports) {

module.exports = "  <!-- <div class=\"page-header\">\n    <h1></h1>\n  </div> -->\n  <!-- <div class=\"jumbotron\">\n    <img src=\"../../../cassetteicon.png\">\n      <h2>kaXet v1.0</h2>\n      <p>An app for inspiring and commercial music</p>\n  </div> -->\n  <!--========== SLIDER ==========-->\n  <div id=\"carousel-example-generic\" class=\"carousel slide\" data-ride=\"carousel\">\n    <div class=\"container\">\n        <!-- Indicators -->\n        <ol class=\"carousel-indicators\">\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"0\" class=\"active\"></li>\n            <li data-target=\"#carousel-example-generic\" data-slide-to=\"1\"></li>\n        </ol>\n    </div>\n\n    <!-- Wrapper for slides -->\n    <div class=\"carousel-inner\" role=\"listbox\">\n        <div class=\"item active\" id=\"slide1\">\n            <img src=\"assets/images/earphones.jpeg\" alt=\"Slider Image\">\n            <div class=\"container\">\n                <div class=\"carousel-centered\">\n                    <div class=\"margin-b-40\">\n                        <h2 class=\"carousel-title\">Level UP</h2>\n                        <p class=\"pcarousel\">We bring your music to the Next Level <br/> Kaxet is online music store for artists who want to get fair and worth royalty of their music art</p>\n                    </div>\n                    <a class=\"btn-theme btn-theme-sm btn-yellow-brd text-uppercase\" routerLink=\"../login\" routerLinkActive=\"active\">Login / Register</a>\n                </div>\n                \n            </div>\n        </div>\n        <div class=\"item\" id=\"slide2\">\n           <img src=\"assets/images/saxophone-3.jpg\" alt=\"Slider Image\">\n            <div class=\"container\">\n                <div class=\"carousel-centered\">\n                    <div class=\"margin-b-40\">\n                        <h1 class=\"carousel-title\">Profit UP</h1>\n                        <p class=\"pcarousel\">Monetize your music is never been easier.<br/>Sign up and publish your song anywhere </p>\n                    </div>\n                    <!-- <a routerLink=\"../login\" routerLinkActive=\"active\" class=\"btn-theme btn-theme-sm btn-yellow-brd text-uppercase\">Login / Register</a> -->\n                </div>\n            </div>\n        </div>\n    </div>\n  </div>\n  <!--========== SLIDER ==========-->\n\n  <!-- Service -->\n  <div class=\"bg-color-sky-light\" data-auto-height=\"true\">\n    <div class=\"content-lg container\">\n        <hr class=\"line-grey-center\">\n        <div class=\"center\">\n            <div class=\"service-header\">\n                <div class=\"headericon\">\n                    <i class=\"service-icon icon-action-redo\"></i>\n                </div>\n                <label><h3>Getting started is As simple As ever</h3></label>\n                <div class=\"headericon-right\">\n                    <i class=\"service-icon icon-action-undo\"></i>\n                </div>\n            </div>\n        </div>\n        <div class=\"row row-space-1 margin-b-2\">\n            <div class=\"col-sm-4 sm-margin-b-2\">\n                <div class=\"wow fadeInLeft\" data-wow-duration=\".3\" data-wow-delay=\".3s\">\n                    <div class=\"service\" data-height=\"height\">\n                        <div class=\"service-element\">\n                            <i class=\"service-icon icon-cloud-download\"></i>\n                        </div>\n                        <div class=\"service-info\">\n                            <h3>Download Kaxet app. FREE</h3>\n                            <p class=\"margin-b-5\">To purchase songs, Download kaxet app through Play Store and install it.</p>\n                        </div>\n                        <a href=\"#\" class=\"content-wrapper-link\"></a>    \n                    </div>\n                </div>\n            </div>\n            <div class=\"col-sm-4 sm-margin-b-2\">\n                <div class=\"wow fadeInLeft\" data-wow-duration=\".3\" data-wow-delay=\".2s\">\n                    <div class=\"service\" data-height=\"height\">\n                        <div class=\"service-element\">\n                            <i class=\"service-icon icon-note\"></i>\n                        </div>\n                        <div class=\"service-info\">\n                            <h3>Sign UP</h3>\n                            <p class=\"margin-b-5\">Sign UP through this website as a label to publish your songs.</p>\n                        </div>\n                        <a routerLink=\"../login\" routerLinkActive=\"active\" class=\"content-wrapper-link\"></a>    \n                    </div>\n                </div>\n            </div>\n            <div class=\"col-sm-4\">\n                <div class=\"wow fadeInLeft\" data-wow-duration=\".3\" data-wow-delay=\".1s\">\n                    <div class=\"service\" data-height=\"height\">\n                        <div class=\"service-element\">\n                            <i class=\"service-icon icon-check\"></i>\n                        </div>\n                        <div class=\"service-info\">\n                            <h3>Ready for Business</h3>\n                            <p class=\"margin-b-5\">Use the app to sell your music, anywhere, anytime.</p>\n                        </div>\n                        <!-- <a href=\"#\" class=\"content-wrapper-link\"></a>     -->\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!--// end row -->\n    </div>\n  </div>\n  <!-- End Service -->"

/***/ }),

/***/ "./src/app/components/about/about.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AboutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AboutComponent = /** @class */ (function () {
    function AboutComponent() {
        try {
            document.getElementById("layout").remove();
            var layoutScript = document.createElement("script");
            layoutScript.setAttribute("id", "layout");
            layoutScript.setAttribute("src", "assets/js/layout.js");
            document.body.appendChild(layoutScript);
        }
        catch (error) {
            //console.log('first time loading layout. Err: '+ error); 
            var layoutScript = document.createElement("script");
            layoutScript.setAttribute("id", "layout");
            layoutScript.setAttribute("src", "assets/js/layout.js");
            document.body.appendChild(layoutScript);
        }
        try {
            document.getElementById("jquerywow").remove();
            var jquery1Script = document.createElement("script");
            jquery1Script.setAttribute("id", "jquerywow");
            jquery1Script.setAttribute("src", "assets/js/jquery.wow.min.js");
            document.body.appendChild(jquery1Script);
        }
        catch (error) {
            //console.log('first time loading jquerywow. Err: '+ error); 
            var jquery1Script = document.createElement("script");
            jquery1Script.setAttribute("id", "jquerywow");
            jquery1Script.setAttribute("src", "assets/js/jquery.wow.min.js");
            document.body.appendChild(jquery1Script);
        }
        try {
            document.getElementById("jswow").remove();
            var jswowScript = document.createElement("script");
            jswowScript.setAttribute("id", "jswow");
            jswowScript.setAttribute("src", "assets/js/wow.min.js");
            document.body.appendChild(jswowScript);
        }
        catch (error) {
            //console.log('first time loading jswow. Err: '+ error); 
            var jswowScript = document.createElement("script");
            jswowScript.setAttribute("id", "jswow");
            jswowScript.setAttribute("src", "assets/js/wow.min.js");
            document.body.appendChild(jswowScript);
        }
        try {
            document.getElementById("bootstrapjs").remove();
            var bootstrapScript = document.createElement("script");
            bootstrapScript.setAttribute("id", "bootstrapjs");
            bootstrapScript.setAttribute("src", "assets/js/bootstrap.min.js");
            document.body.appendChild(bootstrapScript);
        }
        catch (error) {
            //console.log('first time loading bootstrapjs. Err: '+ error); 
            var bootstrapScript = document.createElement("script");
            bootstrapScript.setAttribute("id", "bootstrapjs");
            bootstrapScript.setAttribute("src", "assets/js/bootstrap.min.js");
            document.body.appendChild(bootstrapScript);
        }
    }
    AboutComponent.prototype.ngOnInit = function () {
    };
    AboutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-about',
            template: __webpack_require__("./src/app/components/about/about.component.html"),
            styles: [__webpack_require__("./src/app/components/about/about.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], AboutComponent);
    return AboutComponent;
}());



/***/ }),

/***/ "./src/app/components/activitylog/activitylog.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/activitylog/activitylog.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Activity Log</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Search Parameter</h3>\n    </div>\n    <div class=\"panel-body\">\n        <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                <label class=\"col-sm-6 paddingsearch\">Activity Date</label>\n              </div>  \n          </div>\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-3 col-md-3\">\n                  <div class=\"radio\">\n                      <label>\n                          <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                          Today\n                      </label>\n                  </div>\n              </div>\n              <div class=\"col-sm-3 col-md-3\">\n                  <div class=\"radio\">\n                      <label>\n                          <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                          Current month\n                      </label>\n                  </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                  <div class=\"radio\">\n                      <label>\n                          <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                          Date Range (yyyy-mm-dd)\n                      </label>\n                  </div>\n                  <div class=\"row\" style=\"padding: 8px\">\n                      <div class=\"col-sm-6 col-md-6\">\n                          <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                              <div class=\"input-group\">\n                                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                  <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                              </div>\n                              <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                  <span class=\"col-sm-2\"></span>\n                                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                              </div>\n                          </div>\n                      </div>\n                      <div class=\"col-sm-6 col-md-6\">\n                          <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                              <div class=\"input-group\">\n                                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                  <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                              </div>\n                              <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                  <span class=\"col-sm-2\"></span>\n                                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n              </div> \n\n          </div>\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                <label for=\"status\" class=\"col-sm-2 paddingsearch\">Activity Type</label>\n                <div class=\"col-sm-10\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control\" [formControl]=\"activitytype\">\n                      <option ng-selected=\"true\" value=\"\">Select the activity</option>\n                      <option *ngFor=\"let a of activitylist\" [ngValue]=\"a.code\">{{a.value}}</option>\n                    </select>\n                </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                  <div class=\"col-sm-6\" style=\"margin:0;padding:0\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                  </div>\n              </div>                  \n          </div>\n        </form>\n    </div>    \n  </div>\n  <div class=\"panel panel-danger\" *ngIf=\"activitylog && totalrows < 1\">\n      <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">No activity found</h3> \n      </div>\n\n      <div class=\"panel-body\">\n        There is NO activity found for the selected criteria.\n      </div>\n  </div>\n  <div class=\"panel panel-default\" *ngIf=\"activitylog && totalrows > 0 && this.loading == false\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n      </div>\n      <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortActivitylog('logdate')\">Activity Date</a></th>\n                          <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortActivitylog('activitytype')\">Activity type</a></th>\n                          <th width=\"45%\" scope=\"col\">Remarks</th>\n                          <th width=\"20%\" scope=\"col\">Status</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let log of activitylog; let logIndex = index'>\n                          <!-- <td data-label=\"Transaction Date\" scope=\"row\"><a style=\"cursor:pointer\" (click)=\"showTransaction(trx._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ trx.transactiondt | date: 'd MMM y'}}</a></td>   -->\n                          <td data-label=\"Activity Date\" scope=\"row\">{{ log.logdate | date: 'd MMM y'}}</td>\n                          <td data-label=\"Activity Type\">{{ log.activity }}</td>\n                          <td data-label=\"Remarks\">{{ log.remarks }}</td>\n                          <td data-label=\"Status\">{{ log.stsval }}</td>\n                      </tr>\n                  </tbody>\n              </table>\n          </div> \n          <div style=\"text-align:center\" *ngIf=\"activitylog && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div> \n      </div>\n\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/activitylog/activitylog.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActivitylogComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_activitylog_service__ = __webpack_require__("./src/app/services/activitylog.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







//import { SongService } from '../../services/song.service';

var ActivitylogComponent = /** @class */ (function () {
    function ActivitylogComponent(fb, authService, route, router, toastr, datePipe, activitylogService, msconfigService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.activitylogService = activitylogService;
        this.msconfigService = msconfigService;
        this.loading = false;
        this.activitytype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    ActivitylogComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            activitytype: this.activitytype,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.getMsconfigGroupList('ALOG');
        this.route.queryParams.forEach(function (params) {
            _this.qactivitytype = params['activitytype'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.activitytype = _this.qactivitytype;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    activitytype: _this.qactivitytype,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    ActivitylogComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    ActivitylogComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    ActivitylogComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'ALOG') {
                        _this.activitylist = data.data;
                    }
                }
                else {
                    _this.activitylist = [{ code: '', value: 'Empty ms config list' }];
                }
            }
        }, function (err) {
            _this.activitylist = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ActivitylogComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['activitylog'], {
                            queryParams: {
                                activitytype: this.reportForm.value.activitytype,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['activitylog'], {
                    queryParams: {
                        activitytype: this.reportForm.value.activitytype,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    ActivitylogComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.activitylogService.getActivitylogAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.activitylog = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qactivitytype = formval.activitytype;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    activitytype: _this.qactivitytype,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ActivitylogComponent.prototype.setPage = function (page) {
        this.router.navigate(['activitylog'], {
            queryParams: {
                activitytype: this.qactivitytype,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    ActivitylogComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ActivitylogComponent.prototype.sortActivitylog = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['activitylog'], {
            queryParams: {
                activitytype: this.qactivitytype,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ActivitylogComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-activitylog',
            template: __webpack_require__("./src/app/components/activitylog/activitylog.component.html"),
            styles: [__webpack_require__("./src/app/components/activitylog/activitylog.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_activitylog_service__["a" /* ActivitylogService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], ActivitylogComponent);
    return ActivitylogComponent;
}());



/***/ }),

/***/ "./src/app/components/activitylogstats/activitylogstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/activitylogstats/activitylogstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Activity Log</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">Search Parameter</h3>\n      </div>\n      <div class=\"panel-body\">\n          <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                  <label class=\"col-sm-6 paddingsearch\">Activity Date</label>\n                </div>  \n            </div>\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-3 col-md-3\">\n                    <div class=\"radio\">\n                        <label>\n                            <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                            Today\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-sm-3 col-md-3\">\n                    <div class=\"radio\">\n                        <label>\n                            <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                            Current month\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <div class=\"radio\">\n                        <label>\n                            <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                            Date Range (yyyy-mm-dd)\n                        </label>\n                    </div>\n                    <div class=\"row\" style=\"padding: 8px\">\n                        <div class=\"col-sm-6 col-md-6\">\n                            <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                <div class=\"input-group\">\n                                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                    <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                </div>\n                                <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                    <span class=\"col-sm-2\"></span>\n                                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 col-md-6\">\n                            <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                <div class=\"input-group\">\n                                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                    <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                </div>\n                                <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                    <span class=\"col-sm-2\"></span>\n                                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div> \n  \n            </div>\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"status\" class=\"col-sm-2 paddingsearch\">Activity Type</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"activitytype\">\n                        <option ng-selected=\"true\" value=\"\">Select the activity</option>\n                        <option *ngFor=\"let a of activitylist\" [ngValue]=\"a.code\">{{a.value}}</option>\n                      </select>\n                  </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"labelid\">\n                            <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                            <option value=\"\">Select the label</option>\n                            <!-- <option value=\"system\">system</option> -->\n                            <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                        </select>\n                      </div>\n                </div>\n            </div>\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <div class=\"col-sm-6\" style=\"margin:0;padding:0\">\n                      <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                    </div>\n                </div>                  \n            </div>\n          </form>\n      </div>    \n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"activitylog && totalrows < 1\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No activity found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n          There is NO activity found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"activitylog && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortActivitylog('logdate')\">Activity Date</a></th>\n                            <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortActivitylog('activitytype')\">Activity type</a></th>\n                            <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortActivitylog('performed')\">Performed by</a></th>                            \n                            <th width=\"40%\" scope=\"col\">Remarks</th>\n                            <th width=\"10%\" scope=\"col\">Status</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let log of activitylog; let logIndex = index'>\n                            <!-- <td data-label=\"Transaction Date\" scope=\"row\"><a style=\"cursor:pointer\" (click)=\"showTransaction(trx._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ trx.transactiondt | date: 'd MMM y'}}</a></td>   -->\n                            <td data-label=\"Activity Date\" scope=\"row\">{{ log.logdate | date: 'd MMM y'}}</td>\n                            <td data-label=\"Activity Type\">{{ log.activity }}</td>\n                            <td data-label=\"Performed by\">{{ log.performed }}</td>\n                            <td data-label=\"Remarks\">{{ log.remarks }}</td>\n                            <td data-label=\"Status\">{{ log.stsval }}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"activitylog && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n  </div>"

/***/ }),

/***/ "./src/app/components/activitylogstats/activitylogstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActivitylogstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_activitylog_service__ = __webpack_require__("./src/app/services/activitylog.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








//import { SongService } from '../../services/song.service';

var ActivitylogstatsComponent = /** @class */ (function () {
    function ActivitylogstatsComponent(fb, authService, route, router, toastr, datePipe, labelmgtService, activitylogService, msconfigService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.labelmgtService = labelmgtService;
        this.activitylogService = activitylogService;
        this.msconfigService = msconfigService;
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.activitytype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    ActivitylogstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            activitytype: this.activitytype,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.getMsconfigGroupList('ALOG');
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qactivitytype = params['activitytype'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.labelid = _this.qlabelid;
                payload.activitytype = _this.qactivitytype;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    activitytype: _this.qactivitytype,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    ActivitylogstatsComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    ActivitylogstatsComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    ActivitylogstatsComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Error label list' }];
                }
            }
        }, function (err) {
            _this.userlist = [{ _id: '', name: 'Error label list' }];
        });
    };
    ActivitylogstatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'ALOG') {
                        _this.activitylist = data.data;
                    }
                }
                else {
                    _this.activitylist = [{ code: '', value: 'Empty ms config list' }];
                }
            }
        }, function (err) {
            _this.activitylist = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ActivitylogstatsComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['activitylogstats'], {
                            queryParams: {
                                labelid: this.reportForm.value.labelid,
                                activitytype: this.reportForm.value.activitytype,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['activitylogstats'], {
                    queryParams: {
                        labelid: this.reportForm.value.labelid,
                        activitytype: this.reportForm.value.activitytype,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    ActivitylogstatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.activitylogService.getAdmActivitylogAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.activitylog = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qactivitytype = formval.activitytype;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    activitytype: _this.qactivitytype,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ActivitylogstatsComponent.prototype.setPage = function (page) {
        this.router.navigate(['activitylogstats'], {
            queryParams: {
                labelid: this.qlabelid,
                activitytype: this.qactivitytype,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    ActivitylogstatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ActivitylogstatsComponent.prototype.sortActivitylog = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['activitylogstats'], {
            queryParams: {
                labelid: this.qlabelid,
                activitytype: this.qactivitytype,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ActivitylogstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-activitylogstats',
            template: __webpack_require__("./src/app/components/activitylogstats/activitylogstats.component.html"),
            styles: [__webpack_require__("./src/app/components/activitylogstats/activitylogstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_6__services_activitylog_service__["a" /* ActivitylogService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], ActivitylogstatsComponent);
    return ActivitylogstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/adjustment/addadjustment/addadjustment.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/adjustment/addadjustment/addadjustment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Add Adjustment</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form  [formGroup]=\"addAdjustmentForm\" (ngSubmit)=\"addAdjustment(addAdjustmentForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n      <div class=\"form-group\" [ngClass]=\"{'has-error': addAdjustmentForm.get('labelid').invalid && addAdjustmentForm.get('labelid').dirty}\">\n          <label for=\"labelid\" class=\"col-sm-2 control-label\">Label <sup>*</sup></label>\n          <div class=\"col-sm-10\">\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n              <select #inputlabel [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"labelid\">\n                  <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                  <option value=\"\">Select the label</option>\n                  <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n              </select>\n            </div>\n          <div class=\"text-danger\" *ngIf=\"addAdjustmentForm.get('labelid').dirty && addAdjustmentForm.get('labelid').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 15px 0\" *ngIf=\"addAdjustmentForm.get('labelid').errors.required\">\n                  Please enter label\n              </span>\n          </div>\n      </div>\n      <div class=\"form-group\" [ngClass]=\"{'has-error': addAdjustmentForm.get('amount').invalid && addAdjustmentForm.get('amount').dirty}\">\n          <label for=\"amount\" class=\"col-sm-2 control-label\">Amount<sup>*</sup></label>\n          <div class=\"input-group col-sm-10\" style=\"padding:0 15px\">\n              <div class=\"input-group-addon\">Rp</div>\n              <input [disabled]=\"this.loading == true\" type=\"number\" class=\"form-control\" id=\"amount\" [formControl]=\"amount\" placeholder=\"Amount\">\n          </div>\n          <div class=\"text-danger\" *ngIf=\"addAdjustmentForm.get('amount').dirty && addAdjustmentForm.get('amount').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 15px 0\" *ngIf=\"addAdjustmentForm.get('amount').errors.required\">\n                  Please enter amount\n              </span>\n              <span class=\"col-sm-10\" style=\"padding:4px 15px 0\" *ngIf=\"addAdjustmentForm.get('amount').errors.pattern\">\n                  Please enter a valid amount\n              </span>\n          </div>\n      </div>\n      <div class=\"form-group\" [ngClass]=\"{'has-error': addAdjustmentForm.get('dbcr').invalid && addAdjustmentForm.get('dbcr').dirty}\">\n          <label for=\"dbcr\" class=\"col-sm-2 control-label\">IN/OUT<sup>*</sup></label>\n          <div class=\"col-sm-10\">\n            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n            <select #inputdbcr [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"dbcr\">\n                <option ng-selected=\"true\" value=\"\">Select the option</option>\n                <option *ngFor=\"let a of dc\" [ngValue]=\"a.code\">{{a.value}}</option>\n            </select>\n          </div>\n          <div class=\"text-danger\" *ngIf=\"addAdjustmentForm.get('dbcr').dirty && addAdjustmentForm.get('dbcr').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 15px 0\" *ngIf=\"addAdjustmentForm.get('dbcr').errors.required\">\n                  Please enter IN or OUT sign\n              </span>\n          </div>\n      </div>\n      <div class=\"form-group\">\n          <label for=\"remarks\" class=\"col-sm-2 control-label\">Remarks <sup>*</sup></label>\n          <div class=\"input-group col-xs-12 col-sm-10\" style=\"padding:0 15px\">\n              <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"remarks\" rows=\"10\" [formControl]=\"remarks\" placeholder=\"Remarks\"></textarea>\n          </div>\n          <div class=\"text-danger\" *ngIf=\"addAdjustmentForm.get('remarks').dirty && addAdjustmentForm.get('remarks').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 15px 0\" *ngIf=\"addAdjustmentForm.get('remarks').errors.required\">\n                  Please input the adjustment remarks\n              </span>\n          </div>\n      </div>\n\n      <div class=\"form-group\">\n           <label class=\"col-sm-2 control-label\">  </label>\n         <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n         <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n      </div>\n      <div class=\"form-group\">\n          <label class=\"col-sm-2 control-label\"></label>\n          <div class=\"col-sm-5\" style=\"padding:0 15px;margin:0;\">\n              <button type=\"submit\" [disabled]=\"addAdjustmentForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n              <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n          </div>\n          <div class=\"col-sm-5\" style=\"text-align:right\">\n              <sup>*</sup> required\n          </div>\n      </div>\n    </form>\n</div>"

/***/ }),

/***/ "./src/app/components/adjustment/addadjustment/addadjustment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddadjustmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_adjustment_service__ = __webpack_require__("./src/app/services/admin/adjustment.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AddadjustmentComponent = /** @class */ (function () {
    function AddadjustmentComponent(fb, authService, route, router, toastr, datePipe, adjustmentService, labelmgtService) {
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.adjustmentService = adjustmentService;
        this.labelmgtService = labelmgtService;
        this.dc = [{ code: '-', value: 'OUT / -' },
            { code: '+', value: 'IN / +' }];
        this.loading = false;
        this.progressvalue = 0;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.amount = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.remarks = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.dbcr = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    AddadjustmentComponent.prototype.ngOnInit = function () {
        this.userObj = this.authService.currentUser;
        this.progressvalue = 0;
        this.getLabels();
        this.addAdjustmentForm = this.fb.group({
            labelid: this.labelid,
            amount: this.amount,
            remarks: this.remarks,
            dbcr: this.dbcr
        });
        //saveAdjustment
    };
    AddadjustmentComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AddadjustmentComponent.prototype.addAdjustment = function (formdata) {
        var _this = this;
        this.progressvalue = 0;
        if (this.addAdjustmentForm.dirty && this.addAdjustmentForm.valid) {
            this.progressvalue = 10;
            var theForm = this.addAdjustmentForm.value;
            this.progressvalue = 30;
            theForm.username = this.userObj.username;
            this.loading = true;
            this.adjustmentService.saveAdjustment(this.userObj.userid, theForm)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    _this.toastr.error(data.message);
                }
                else {
                    _this.progressvalue = 50;
                    _this.loading = false;
                    _this.progressvalue = 100;
                    _this.toastr.success(data.message);
                }
                _this.addAdjustmentForm.reset();
                _this.labelVar.nativeElement.selectedIndex = 0;
                _this.dbcrVar.nativeElement.selectedIndex = 0;
                _this.progressvalue = 0;
            }, function (err) {
                _this.progressvalue = 0;
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
        else {
            this.toastr.error('Please provide correct input...');
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputlabel'),
        __metadata("design:type", Object)
    ], AddadjustmentComponent.prototype, "labelVar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputdbcr'),
        __metadata("design:type", Object)
    ], AddadjustmentComponent.prototype, "dbcrVar", void 0);
    AddadjustmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-addadjustment',
            template: __webpack_require__("./src/app/components/adjustment/addadjustment/addadjustment.component.html"),
            styles: [__webpack_require__("./src/app/components/adjustment/addadjustment/addadjustment.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_adjustment_service__["a" /* AdjustmentService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__["a" /* UsermgtService */]])
    ], AddadjustmentComponent);
    return AddadjustmentComponent;
}());



/***/ }),

/***/ "./src/app/components/adjustment/editadjustment/editadjustment.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/adjustment/editadjustment/editadjustment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Edit Adjustment Detail</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"adjustmentForm\" (ngSubmit)=\"saveAdjustment(adjustmentForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\">\n            <label for=\"label\" class=\"col-sm-2 control-label\">Label </label>\n            <div class=\"col-sm-10\" style=\"padding:7px 15px 0\">{{ adjustment?.label }}\n                <!-- <div class=\"input-group-addon\">Rp</div> -->\n                <!-- <div class=\"form-ele\">{{ song?.songprice | currency: 'IDR':true }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"requestdt\" class=\"col-sm-2 control-label\">Request Date</label>\n            <div class=\"input-group col-sm-10\" style=\"padding:7px 15px 0\"> {{ adjustment?.requestdt | date: 'd MMM y'}}</div>\n        </div> \n        <div class=\"form-group\">\n            <label for=\"requestby\" class=\"col-sm-2 control-label\">Request By</label>\n            <div class=\"input-group col-sm-10\" style=\"padding:7px 15px 0\">{{ adjustment?.requestby }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"col-sm-10\" style=\"padding:7px 15px 0\">{{ adjustment?.stsvalue }}</div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': adjustmentForm.get('amount').invalid && adjustmentForm.get('amount').dirty}\">\n            <label for=\"amount\" class=\"col-sm-2 control-label\">Amount <sup>*</sup></label>\n            <div class=\"input-group col-sm-10\" style=\"padding:0 15px 0\">\n                <div class=\"input-group-addon\">Rp</div>\n                <input [disabled]=\"this.loading == true\" type=\"number\" class=\"form-control\" id=\"amount\" [formControl]=\"amount\" placeholder=\"Amount\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"adjustmentForm.get('amount').dirty && adjustmentForm.get('amount').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"adjustmentForm.get('amount').errors.required\">\n                    Please input the amount\n                </span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"adjustmentForm.get('amount').errors.pattern\">\n                    Please enter a valid amount\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': adjustmentForm.get('dbcr').invalid && adjustmentForm.get('dbcr').dirty}\">\n            <label for=\"dbcr\" class=\"col-sm-2 control-label\">IN/OUT<sup>*</sup></label>\n            <div class=\"col-sm-10\">\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n              <select #inputdbcr [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"dbcr\">\n                  <option ng-selected=\"true\" value=\"\">Select the option</option>\n                  <option *ngFor=\"let a of dc\" [ngValue]=\"a.code\">{{a.value}}</option>\n              </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"adjustmentForm.get('dbcr').dirty && adjustmentForm.get('dbcr').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 15px 0\" *ngIf=\"adjustmentForm.get('dbcr').errors.required\">\n                    Please enter IN or OUT sign\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': adjustmentForm.get('remarks').invalid && adjustmentForm.get('remarks').dirty}\">\n            <label for=\"remarks\" class=\"col-sm-2 control-label\">Remarks <sup>*</sup></label>\n            <div class=\"input-group col-xs-12 col-sm-10\" style=\"padding:0 15px\">\n                <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"remarks\" rows=\"10\" [formControl]=\"remarks\" placeholder=\"Remarks\"></textarea>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"adjustmentForm.get('remarks').dirty && adjustmentForm.get('remarks').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 15px 0\" *ngIf=\"adjustmentForm.get('remarks').errors.required\">\n                    Please input the adjustment remarks\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">  </label>\n          <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n          <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n       </div>\n       <div class=\"form-group\">\n           <label class=\"col-sm-2 control-label\"></label>\n           <div class=\"col-sm-5\" style=\"padding:0 15px;margin:0;\">\n               <button type=\"submit\" [disabled]=\"adjustmentForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n               <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Back</button>\n           </div>\n           <div class=\"col-sm-5\" style=\"text-align:right\">\n               <sup>*</sup> required\n           </div>\n       </div>\n    </form>\n</div>"

/***/ }),

/***/ "./src/app/components/adjustment/editadjustment/editadjustment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditadjustmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_adjustment_service__ = __webpack_require__("./src/app/services/admin/adjustment.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var EditadjustmentComponent = /** @class */ (function () {
    function EditadjustmentComponent(fb, authService, route, router, toastr, datePipe, adjustmentService, labelmgtService) {
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.adjustmentService = adjustmentService;
        this.labelmgtService = labelmgtService;
        this.loading = false;
        this.dc = [{ code: '-', value: 'OUT / -' },
            { code: '+', value: 'IN / +' }];
        this.progressvalue = 0;
        this.amount = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.remarks = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.dbcr = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    EditadjustmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.adjid = params['id'];
            _this.btnLbl = "Update";
        });
        this.getSelectedAdj(this.adjid);
        this.userObj = this.authService.currentUser;
        this.adjustmentForm = this.fb.group({
            amount: this.amount,
            remarks: this.remarks,
            dbcr: this.dbcr
        });
    };
    EditadjustmentComponent.prototype.getSelectedAdj = function (id) {
        var _this = this;
        this.adjustmentService.getAdjustmentAgg(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.adjustment = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Empty adjustment data result');
                    _this.router.navigate(['listadjustment']);
                }
            }
            else {
                _this.toastr.error('Adjustment id is incorrect in the URL');
                _this.router.navigate(['listadjustment']);
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['listadjustment']);
        });
    };
    EditadjustmentComponent.prototype.populateForm = function (data) {
        this.adjustmentForm.patchValue({
            amount: data.amount,
            remarks: data.remarks,
            dbcr: data.dbcr
        });
    };
    EditadjustmentComponent.prototype.saveAdjustment = function (formdata) {
        var _this = this;
        if (this.adjustmentForm.valid) {
            var theForm = this.adjustmentForm.value;
            theForm.adminuser = this.userObj.username;
            theForm.adminuserid = this.userObj.userid;
            this.loading = true;
            this.adjustmentService.editAdjustment(this.adjid, theForm)
                .subscribe(function (data) {
                _this.loading = false;
                if (data.success === false) {
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.toastr.success(data.message);
                }
                if (!_this.adjid) {
                    _this.adjustmentForm.reset();
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    EditadjustmentComponent.prototype.onBack = function () {
        this.router.navigate(['/listadjustment'], { preserveQueryParams: true });
    };
    EditadjustmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editadjustment',
            template: __webpack_require__("./src/app/components/adjustment/editadjustment/editadjustment.component.html"),
            styles: [__webpack_require__("./src/app/components/adjustment/editadjustment/editadjustment.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_adjustment_service__["a" /* AdjustmentService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__["a" /* UsermgtService */]])
    ], EditadjustmentComponent);
    return EditadjustmentComponent;
}());



/***/ }),

/***/ "./src/app/components/adjustment/listadjustment/listadjustment.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/adjustment/listadjustment/listadjustment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>List Adjustment</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n  \n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"fromamt\" class=\"col-sm-2 paddingsearch\">From Amount</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"fromamt\" [formControl]=\"fromamt\" placeholder=\"From Amount\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"toamt\" class=\"col-sm-2 paddingsearch\">To Amount</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"toamt\" [formControl]=\"toamt\" placeholder=\"To Amount\">\n                    </div>\n                  </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label class=\"col-sm-6 paddingsearch\">Request Date</label>\n                  </div>  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                              Today\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                              Current month\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                              Date Range (yyyy-mm-dd)\n                          </label>\n                      </div>\n                      <div class=\"row\" style=\"padding: 8px\">\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n                  </div> \n  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"labelid\">\n                          <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                          <option value=\"\">Select the label</option>\n                          <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                      </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                  <div class=\"col-sm-10\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control\" [formControl]=\"status\">\n                        <option ng-selected=\"true\" value=\"\">Select the status</option>\n                        <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                    </select>\n                  </div>\n                </div>                    \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                  </div>\n              </div>\n            </form>\n        </div>    \n    </div>  \n    <div class=\"panel panel-danger\" *ngIf=\"adjustments && totalrows < 1\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No adjustment found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n          There is NO adjustment data found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"adjustments && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <span class=\"panel-title\"><i>{{reportTitle}}</i> <b> {{ totalrows }} records found</b> </span> \n        </div>\n        <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAdjustment('requestdt')\">Request Date</a></th>\n                          <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAdjustment('label')\">Label</a></th>\n                          <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAdjustment('amount')\">Amount</a></th>\n                          <th width=\"10%\" scope=\"col\">IN+ / OUT-</th>\n                          <th width=\"15%\" scope=\"col\">Status</th>\n                          <th width=\"25%\" scope=\"col\" >Action</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let adj of adjustments; let adjIndex = index'>\n                          <td data-label=\"Request Date\" scope=\"row\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showAdjustment(adj._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Adjustment\">{{ adj.requestdt | date: 'd MMM y'}}</a></td>  \n                          <td data-label=\"Label\">{{ adj.label }}</td>\n                          <td data-label=\"Amount\" class=\"text-right\">{{ adj.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                          <td data-label=\"IN+ / OUT-\">{{ adj.dbcr}}</td>\n                          <td data-label=\"Status\">{{ adj.stsvalue}}</td>\n                          <td data-label=\"Action\">\n                              <a *ngIf=\"adj.status === 'STSPEND' && authService.currentUser.usertype == 'ADM'\" style=\"cursor:pointer;color:darkgreen\" aria-label=\"Edit\" (click)=\"updateAdjustment(adjIndex, adj._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Update Adjustment\">Edit</a>\n                              <!-- &nbsp;&nbsp;\n                              <a *ngIf=\"adj.status === 'STSPEND'\" style=\"cursor:pointer;color:red\" aria-label=\"Reject\" (click)=\"rejectAdjustment(adjIndex, adj._id, adj.label)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Reject Adjustment\">Reject</a> -->\n                          </td>\n                      </tr>\n                  </tbody>\n              </table>\n          </div> \n          <div style=\"text-align:center\" *ngIf=\"adjustments && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div> \n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/adjustment/listadjustment/listadjustment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListadjustmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_adjustment_service__ = __webpack_require__("./src/app/services/admin/adjustment.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ListadjustmentComponent = /** @class */ (function () {
    function ListadjustmentComponent(fb, authService, route, router, toastr, datePipe, adjustmentService, labelmgtService, msconfigService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.adjustmentService = adjustmentService;
        this.labelmgtService = labelmgtService;
        this.msconfigService = msconfigService;
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.fromamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.toamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    ListadjustmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            fromamt: this.fromamt,
            toamt: this.toamt,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt,
            status: this.status,
        });
        this.getLabels();
        this.getMsconfigGroupList('TRFBLSTATUS');
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qstatus = params['status'] || '';
            _this.qfromamt = params['fromamt'] || '';
            _this.qtoamt = params['toamt'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.labelid = _this.qlabelid;
                payload.status = _this.qstatus;
                payload.fromamt = _this.qfromamt;
                payload.toamt = _this.qtoamt;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    status: _this.qstatus,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    ListadjustmentComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    ListadjustmentComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    ListadjustmentComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListadjustmentComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'TRFBLSTATUS') {
                        _this.sts = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListadjustmentComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['listadjustment'], {
                            queryParams: {
                                labelid: this.reportForm.value.labelid,
                                status: this.reportForm.value.status,
                                fromamt: this.reportForm.value.fromamt,
                                toamt: this.reportForm.value.toamt,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['listadjustment'], {
                    queryParams: {
                        labelid: this.reportForm.value.labelid,
                        status: this.reportForm.value.status,
                        fromamt: this.reportForm.value.fromamt,
                        toamt: this.reportForm.value.toamt,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    ListadjustmentComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.adjustmentService.getSumAdjustmentAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.adjustments = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qstatus = formval.status;
                _this.qfromamt = formval.fromamt;
                _this.qtoamt = formval.toamt;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    status: _this.qstatus,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListadjustmentComponent.prototype.setPage = function (page) {
        this.router.navigate(['listadjustment'], {
            queryParams: {
                labelid: this.qlabelid,
                status: this.qstatus,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    ListadjustmentComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ListadjustmentComponent.prototype.sortAdjustment = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['listadjustment'], {
            queryParams: {
                labelid: this.qlabelid,
                status: this.qstatus,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListadjustmentComponent.prototype.showAdjustment = function (adjustmentid) {
        this.router.navigate(["viewadjustment/" + adjustmentid], {
            queryParams: {
                src: 'list',
                labelid: this.qlabelid,
                status: this.qstatus,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    /* rejectAdjustment(idx, adjid, label): void {
      
      if(confirm('Do you really want to reject this adjustment of: ' + label + ' record?')){
          
          this.loading = true;
          let payloadData: any = {};
          payloadData.status = 'STSRJCT';
          this.adjustmentService.updateStatusadjustment(adjid, payloadData)
          .subscribe(data => {
            if (data.success === false) {
              this.loading = false;
              if (data.errcode){
                this.authService.logout();
                this.router.navigate(['errorpage']);
              }
              this.toastr.error(data.message);
            } else {
              this.loading = false;
              this.adjustments.splice(idx, 1);
              this.totalrows = this.totalrows - 1;
              this.toastr.success(data.message);
            }
          },
          err => {
            this.loading = false;
            
            this.toastr.error(err);
          });
        }
    } */
    ListadjustmentComponent.prototype.updateAdjustment = function (idx, adjid) {
        this.router.navigate(["editadjustment/" + adjid], {
            queryParams: {
                labelid: this.qlabelid,
                status: this.qstatus,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListadjustmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-listadjustment',
            template: __webpack_require__("./src/app/components/adjustment/listadjustment/listadjustment.component.html"),
            styles: [__webpack_require__("./src/app/components/adjustment/listadjustment/listadjustment.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_adjustment_service__["a" /* AdjustmentService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], ListadjustmentComponent);
    return ListadjustmentComponent;
}());



/***/ }),

/***/ "./src/app/components/adjustment/pendingadjustment/pendingadjustment.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/adjustment/pendingadjustment/pendingadjustment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Pending Adjustment</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n  \n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"fromamt\" class=\"col-sm-2 paddingsearch\">From Amount</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"fromamt\" [formControl]=\"fromamt\" placeholder=\"From Amount\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"toamt\" class=\"col-sm-2 paddingsearch\">To Amount</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"toamt\" [formControl]=\"toamt\" placeholder=\"To Amount\">\n                    </div>\n                  </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label class=\"col-sm-6 paddingsearch\">Request Date</label>\n                  </div>  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                              Today\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                              Current month\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                              Date Range (yyyy-mm-dd)\n                          </label>\n                      </div>\n                      <div class=\"row\" style=\"padding: 8px\">\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n                  </div> \n  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"labelid\">\n                          <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                          <option value=\"\">Select the label</option>\n                          <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                      </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>                  \n                </div>                    \n              </div>\n\n            </form>\n        </div>    \n    </div>  \n    <div class=\"panel panel-danger\" *ngIf=\"adjustments && totalrows < 1\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No adjustment found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n          There is NO adjustment data found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"adjustments && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <span class=\"panel-title\"><i>{{reportTitle}}</i> <b> {{ totalrows }} records found</b> </span> \n        </div>\n        <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAdjustment('requestdt')\">Request Date</a></th>\n                          <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAdjustment('label')\">Label</a></th>\n                          <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAdjustment('amount')\">Amount</a></th>\n                          <th width=\"10%\" scope=\"col\">IN+ / OUT-</th>\n                          <th width=\"15%\" scope=\"col\">Status</th>\n                          <th width=\"25%\" scope=\"col\" >Action</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let adj of adjustments; let adjIndex = index'>\n                          <td data-label=\"Request Date\" scope=\"row\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showAdjustment(adj._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Adjustment\">{{ adj.requestdt | date: 'd MMM y'}}</a></td>  \n                          <td data-label=\"Label\">{{ adj.label }}</td>\n                          <td data-label=\"Amount\" class=\"text-right\">{{ adj.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                          <td data-label=\"IN+ / OUT-\">{{ adj.dbcr}}</td>\n                          <td data-label=\"Status\">{{ adj.stsvalue}}</td>\n                          <td data-label=\"Action\">\n                              <a *ngIf=\"adj.status === 'STSPEND'\" style=\"cursor:pointer;color:darkgreen\" aria-label=\"Approve\" (click)=\"approveAdjustment(adjIndex, adj._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Approve Adjustment\">Approve</a>\n                               &nbsp;&nbsp;\n                              <a *ngIf=\"adj.status === 'STSPEND'\" style=\"cursor:pointer;color:red\" aria-label=\"Reject\" (click)=\"rejectAdjustment(adjIndex, adj._id, adj.label)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Reject Adjustment\">Reject</a>\n                          </td>\n                      </tr>\n                  </tbody>\n              </table>\n          </div> \n          <div style=\"text-align:center\" *ngIf=\"adjustments && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div> \n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/adjustment/pendingadjustment/pendingadjustment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PendingadjustmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_adjustment_service__ = __webpack_require__("./src/app/services/admin/adjustment.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var PendingadjustmentComponent = /** @class */ (function () {
    function PendingadjustmentComponent(fb, authService, route, router, toastr, datePipe, adjustmentService, labelmgtService, msconfigService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.adjustmentService = adjustmentService;
        this.labelmgtService = labelmgtService;
        this.msconfigService = msconfigService;
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.fromamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.toamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    PendingadjustmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            fromamt: this.fromamt,
            toamt: this.toamt,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qfromamt = params['fromamt'] || '';
            _this.qtoamt = params['toamt'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.labelid = _this.qlabelid;
                payload.status = 'STSPEND';
                payload.fromamt = _this.qfromamt;
                payload.toamt = _this.qtoamt;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.reportForm.value.status = 'STSPEND';
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    PendingadjustmentComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    PendingadjustmentComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    PendingadjustmentComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    PendingadjustmentComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['pendingadjustment'], {
                            queryParams: {
                                labelid: this.reportForm.value.labelid,
                                fromamt: this.reportForm.value.fromamt,
                                toamt: this.reportForm.value.toamt,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['pendingadjustment'], {
                    queryParams: {
                        labelid: this.reportForm.value.labelid,
                        fromamt: this.reportForm.value.fromamt,
                        toamt: this.reportForm.value.toamt,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    PendingadjustmentComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.adjustmentService.getSumAdjustmentAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.adjustments = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qfromamt = formval.fromamt;
                _this.qtoamt = formval.toamt;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    PendingadjustmentComponent.prototype.setPage = function (page) {
        this.router.navigate(['pendingadjustment'], {
            queryParams: {
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    PendingadjustmentComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    PendingadjustmentComponent.prototype.sortAdjustment = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['pendingadjustment'], {
            queryParams: {
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    PendingadjustmentComponent.prototype.showAdjustment = function (adjustmentid) {
        this.router.navigate(["viewadjustment/" + adjustmentid], {
            queryParams: {
                src: 'pend',
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    PendingadjustmentComponent.prototype.rejectAdjustment = function (idx, adjid, label) {
        var _this = this;
        if (confirm('Do you really want to reject this adjustment of: ' + label + ' record?')) {
            this.loading = true;
            var payloadData = {};
            payloadData.status = 'STSRJCT';
            payloadData.adminuser = this.userObj.username;
            payloadData.adminuserid = this.userObj.userid;
            this.adjustmentService.updateStatusadjustment(adjid, payloadData)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.adjustments.splice(idx, 1);
                    _this.totalrows = _this.totalrows - 1;
                    _this.toastr.success(data.message);
                }
            }, function (err) {
                _this.loading = false;
                _this.toastr.error(err);
            });
        }
    };
    PendingadjustmentComponent.prototype.approveAdjustment = function (idx, adjid) {
        var _this = this;
        this.loading = true;
        var payloadData = {};
        payloadData.status = 'STSCMPL';
        payloadData.adminuser = this.userObj.username;
        payloadData.adminuserid = this.userObj.userid;
        this.adjustmentService.updateStatusadjustment(adjid, payloadData)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.adjustments.splice(idx, 1);
                _this.totalrows = _this.totalrows - 1;
                _this.toastr.success(data.message);
            }
        }, function (err) {
            _this.loading = false;
            _this.toastr.error(err);
        });
    };
    PendingadjustmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-pendingadjustment',
            template: __webpack_require__("./src/app/components/adjustment/pendingadjustment/pendingadjustment.component.html"),
            styles: [__webpack_require__("./src/app/components/adjustment/pendingadjustment/pendingadjustment.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_adjustment_service__["a" /* AdjustmentService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], PendingadjustmentComponent);
    return PendingadjustmentComponent;
}());



/***/ }),

/***/ "./src/app/components/adjustment/viewadjustment/viewadjustment.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/adjustment/viewadjustment/viewadjustment.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Adjustment Detail</h3>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-10\">\n            <form class=\"form-horizontal\">\n                <div class=\"form-group\">\n                    <label for=\"reqdate\" class=\"col-sm-4 control-label\">Request Date</label>\n                    <div class=\"form-ele col-sm-8\"> {{ adjustment?.requestdt | date: 'd MMM y'}}</div>\n                </div> \n                <div class=\"form-group\">\n                    <label for=\"label\" class=\"col-sm-4 control-label\">Label</label>\n                    <div class=\"form-ele col-sm-8\">{{ adjustment?.label }}\n                        <!-- <div class=\"input-group-addon\">Rp</div> -->\n                        <!-- <div class=\"form-ele\">{{ song?.songprice | currency: 'IDR':true }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"amount\" class=\"col-sm-4 control-label\">Amount</label>\n                    <div class=\"form-ele col-sm-8\">{{ adjustment?.amount | currency: 'IDR':'symbol-narrow' }}\n                        <!-- <div class=\"input-group-addon\">Rp</div> -->\n                        <!-- <div class=\"form-ele\">{{ song?.songprice | currency: 'IDR':true }}</div> -->\n                    </div>\n                </div>\n              <div class=\"form-group\">\n                    <label for=\"dbcr\" class=\"col-sm-4 control-label\">IN+ / OUT-</label>\n                    <div class=\"col-sm-8 form-ele\">{{ adjustment?.dbcr }}\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"status\" class=\"col-sm-4 control-label\">Status</label>\n                    <div class=\"col-sm-8 form-ele\">{{ adjustment?.stsvalue }}</div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"requestby\" class=\"col-sm-4 control-label\">Request By</label>\n                    <div class=\"col-sm-8 form-ele\">{{ adjustment?.requestby }}\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"remarks\" class=\"col-sm-4 control-label\">Remarks</label>\n                    <div class=\"form-ele col-sm-8\">{{ adjustment?.remarks }}</div>\n                </div>\n                <hr class=\"line-grey-center\">\n              \n                <div class=\"form-group\">\n                    <label for=\"apvdate\" class=\"col-sm-4 control-label\">Approve Date</label>\n                    <div class=\"form-ele col-sm-8\"> {{ adjustment?.approvedt | date: 'd MMM y'}}</div>\n                </div> \n                <div class=\"form-group\">\n                    <label for=\"apvby\" class=\"col-sm-4 control-label\">Approved By</label>\n                    <div class=\"col-sm-8 form-ele\">{{ adjustment?.approveby }}\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"editlog\" class=\"col-sm-4 control-label\">Edit Log</label>\n                    <div class=\"col-sm-8 form-ele\">{{ adjustment?.extfield1 }}\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                    </div>\n                </div>      \n            </form>\n        </div>\n        <div class=\"col-sm-2 thumbpadding\">\n\n        </div>\n        \n    </div>\n    <div class=\"form-group\">\n         <label class=\"col-sm-1\"></label>\n        <div class=\"col-sm-11\">\n            <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n        </div>\n    </div>\n    <hr>   \n</div>"

/***/ }),

/***/ "./src/app/components/adjustment/viewadjustment/viewadjustment.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewadjustmentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_admin_adjustment_service__ = __webpack_require__("./src/app/services/admin/adjustment.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ViewadjustmentComponent = /** @class */ (function () {
    function ViewadjustmentComponent(fb, authService, adjustmentService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.adjustmentService = adjustmentService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
    }
    ViewadjustmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var adjid = params['id'];
            _this.adjid = adjid;
            _this.getAdjustment(adjid);
        });
        this.route.queryParams.forEach(function (params) {
            _this.qsrcpg = params['src'] || '';
        });
    };
    ViewadjustmentComponent.prototype.getAdjustment = function (id) {
        var _this = this;
        this.adjustmentService.getAdjustmentAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.adjustment = data.data[0];
                }
                else {
                    _this.toastr.error('Adjustment id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewadjustmentComponent.prototype.onBack = function () {
        if (this.qsrcpg === 'list') {
            this.router.navigate(['/listadjustment'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'pend') {
            this.router.navigate(['/pendingadjustment'], { preserveQueryParams: true });
        } /*else if (this.qsrcpg === 'cmpl') {
          this.router.navigate(['/admlisttrfbalancereq'], { preserveQueryParams: true });
        } */
    };
    ViewadjustmentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewadjustment',
            template: __webpack_require__("./src/app/components/adjustment/viewadjustment/viewadjustment.component.html"),
            styles: [__webpack_require__("./src/app/components/adjustment/viewadjustment/viewadjustment.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_admin_adjustment_service__["a" /* AdjustmentService */],
            __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewadjustmentComponent);
    return ViewadjustmentComponent;
}());



/***/ }),

/***/ "./src/app/components/album/addalbum/addalbum.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/album/addalbum/addalbum.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Add Album</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <form [formGroup]=\"addAlbumForm\" (ngSubmit)=\"addAlbum(addAlbumForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addAlbumForm.get('artistid').invalid && addAlbumForm.get('artistid').dirty}\">\n      <label for=\"artistid\" class=\"col-sm-2 control-label\">Artist Id <sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n        <select #inputartist [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"artistid\">\n            <option ng-selected=\"true\" value=\"\">Select the artist</option>\n            <option *ngFor=\"let artist of artistlist\" [ngValue]=\"artist._id\">{{artist.artistname}}</option>\n        </select>\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addAlbumForm.get('artistid').dirty && addAlbumForm.get('artistid').errors\">\n          <span class=\"col-sm-2\"></span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addAlbumForm.get('artistid').errors.required\">\n              Please enter the artist\n          </span>\n      </div>\n    </div>\n\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addAlbumForm.get('albumname').invalid && addAlbumForm.get('albumname').dirty}\">\n        <label for=\"albumname\" class=\"col-sm-2 control-label\">Album Name <sup>*</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n            <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"albumname\" id=\"albumname\" placeholder=\"Album Name\">\n        </div>\n        <div class=\"text-danger\" *ngIf=\"addAlbumForm.get('albumname').dirty && addAlbumForm.get('albumname').errors\">\n            <span class=\"col-sm-2\"></span>\n            <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addAlbumForm.get('albumname').errors.required\">\n                Please enter the album name\n            </span>\n        </div>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addAlbumForm.get('albumyear').invalid && addAlbumForm.get('albumyear').dirty}\">\n      <label for=\"albumyear\" class=\"col-sm-2 control-label\">Album Year <sup>*</sup></label>\n      <div class=\"input-group col-sm-6\">\n          <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n          <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"albumyear\" id=\"albumyear\" placeholder=\"Album Year\">\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addAlbumForm.get('albumyear').dirty && addAlbumForm.get('albumyear').errors\">\n          <span class=\"col-sm-2\"></span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addAlbumForm.get('albumyear').errors.required\">\n              Please enter the album year\n          </span>\n      </div>\n    </div>\n\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addAlbumForm.get('albumgenre').invalid && addAlbumForm.get('albumgenre').dirty}\">\n      <label for=\"albumgenre\" class=\"col-sm-2 control-label\">Genre <sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n          <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n          <select #inputgenre [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"albumgenre\">\n              <option ng-selected=\"true\" value=\"\">Select the genre</option>\n              <option *ngFor=\"let a of genre\" [ngValue]=\"a.code\">{{a.value}}</option>\n          </select>\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addAlbumForm.get('albumgenre').dirty && addAlbumForm.get('albumgenre').errors\">\n          <span class=\"col-sm-2\"></span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addAlbumForm.get('albumgenre').errors.required\">\n              Please select album genre\n          </span>\n      </div>\n    </div>\n<!--     <div class=\"form-group\" [ngClass]=\"{'has-error': addAlbumForm.get('albumprice').invalid && addAlbumForm.get('albumprice').dirty}\">\n      <label for=\"albumprice\" class=\"col-sm-2 control-label\">Price <sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n          <div class=\"input-group-addon\">Rp</div>\n          <input [disabled]=\"this.loading == true\" type=\"number\" class=\"form-control\" id=\"albumprice\" [formControl]=\"albumprice\" placeholder=\"Album Price\">\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addAlbumForm.get('albumprice').dirty && addAlbumForm.get('albumprice').errors\">\n          <span class=\"col-sm-2\"></span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addAlbumForm.get('albumprice').errors.required\">\n              Please enter price\n          </span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addAlbumForm.get('albumprice').errors.pattern\">\n              Please enter a valid amount\n          </span>\n      </div>\n    </div> -->\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addAlbumForm.get('albumimage').invalid && addAlbumForm.get('albumimage').dirty}\">\n        <label for=\"albumimage\" class=\"col-sm-2 control-label\">Album Photo <sup>*</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-file\"></i></div>\n            <input [disabled]=\"this.loading == true\" #inputimg type=\"file\" accept=\"image/*\" (change)=\"fileChangeEvent($event)\" name=\"albumimage\" id=\"albumimage\" placeholder=\"Album image\">\n            <span class=\"control-label\" style=\"text-align:bottom;font-size:10px;color:red;\">&nbsp;&nbsp;<u><b>(MAX {{ +this.maxfilesize?.value/1000 }} KB)</b></u></span>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\">  </label>\n      <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n      <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n   </div>\n    <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\"></label>\n        <div class=\"col-sm-5\" style=\"padding:0;margin:0;\">\n            <button type=\"submit\" [disabled]=\"addAlbumForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n            <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n        </div>\n        <div class=\"col-sm-5\" style=\"text-align:right\">\n            <sup>*</sup> required\n        </div>\n    </div>\n  </form>\n</div>\n\n"

/***/ }),

/***/ "./src/app/components/album/addalbum/addalbum.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddalbumComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var AddalbumComponent = /** @class */ (function () {
    function AddalbumComponent(fb, authService, artistService, albumService, msconfigService, route, router, toastr, datePipe, ftService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.ftService = ftService;
        this.globals = globals;
        this.filesToUpload = [];
        this.loading = false;
        this.progressvalue = 0;
        this.artistid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.albumname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.albumyear = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.albumgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    AddalbumComponent.prototype.ngOnInit = function () {
        this.userObj = this.authService.currentUser;
        this.albumuploadpath = this.globals.albumuploadpath;
        this.progressvalue = 0;
        this.getArtistList(this.userObj.userid);
        this.getMsconfigGroupList('GENRE');
        this.getMsconfigVal('IMGSIZE', 'FSIZE');
        this.albumid = '';
        this.addAlbumForm = this.fb.group({
            artistid: this.artistid,
            albumname: this.albumname,
            albumyear: this.albumyear,
            albumgenre: this.albumgenre,
            //albumprice: this.albumprice,
            albumimage: this.filesToUpload,
            albumphotopath: this.albumphotopath,
            albumphotoname: this.albumphotoname
        });
    };
    AddalbumComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.genre = data.data;
                }
                else {
                    _this.genre = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.genre = [{ code: '', value: 'Error ms config list' }];
        });
    };
    AddalbumComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.maxfilesize = data.data[0];
                }
                else {
                    _this.maxfilesize = { code: '', value: '0' };
                }
            }
        }, function (err) {
            _this.maxfilesize = { code: '', value: '0' };
        });
    };
    AddalbumComponent.prototype.getArtistList = function (id) {
        var _this = this;
        this.artistService.getArtistList(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artistlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
                }
            }
        }, function (err) {
            _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
        });
    };
    AddalbumComponent.prototype.addAlbum = function (formdata) {
        var _this = this;
        this.progressvalue = 0;
        var files = this.filesToUpload;
        if (this.addAlbumForm.dirty && this.addAlbumForm.valid && files[0]) {
            this.progressvalue = 10;
            //const files: Array<File> = this.filesToUpload;
            var theForm_1 = this.addAlbumForm.value;
            this.albumService.checkAlbum(this.userObj.userid, theForm_1)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    _this.toastr.error(data.message);
                }
                else {
                    var lformData = new FormData();
                    //console.log('Ini file: '+ files[0]['name']);
                    _this.progressvalue = 20;
                    //lformData.append('albumimage',files[0],files[0]['name']);
                    lformData.append('fileinputsrc', files[0], files[0]['name']);
                    lformData.append('uploadpath', _this.albumuploadpath);
                    //console.dir(theForm);
                    _this.loading = true;
                    _this.progressvalue = 40;
                    _this.ftService.uploadInputFile(lformData)
                        .subscribe(function (data) {
                        if (data.success === false) {
                            _this.loading = false;
                            _this.progressvalue = 0;
                            _this.toastr.error(data.message);
                        }
                        else {
                            _this.progressvalue = 60;
                            theForm_1.albumphotopath = data.filedata.filepath;
                            theForm_1.albumphotoname = data.filedata.filename;
                            theForm_1.status = 'STSACT';
                            if (_this.albumid !== '') {
                                theForm_1.albumid = _this.albumid;
                            }
                            _this.progressvalue = 80;
                            _this.albumService.pubsaveAlbum(_this.userObj.userid, theForm_1)
                                .subscribe(function (data) {
                                if (data.success === false) {
                                    _this.loading = false;
                                    _this.progressvalue = 0;
                                    _this.toastr.error(data.message);
                                }
                                else {
                                    _this.progressvalue = 90;
                                    _this.loading = false;
                                    _this.toastr.success(data.message);
                                    //this.router.navigate(['listalbum']);
                                    _this.progressvalue = 100;
                                }
                                _this.addAlbumForm.reset();
                                _this.artistVar.nativeElement.selectedIndex = 0;
                                _this.genreVar.nativeElement.selectedIndex = 0;
                                _this.albumimageVar.nativeElement.value = "";
                                _this.progressvalue = 0;
                            }, function (err) {
                                _this.loading = false;
                                _this.progressvalue = 0;
                                //console.log(err);
                                _this.toastr.error(err);
                            });
                        }
                    }, function (err) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        //console.log(err);
                        _this.toastr.error(err);
                    });
                }
            }, function (err) {
                _this.loading = false;
                _this.progressvalue = 0;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
        else {
            this.toastr.error('Please provide the album cover/image...');
        }
    };
    /*   addAlbum(formdata:any): void {
        this.progressvalue = 0;
        const files: Array<File> = this.filesToUpload;
        if (this.addAlbumForm.dirty && this.addAlbumForm.valid && files[0]) {
          this.progressvalue = 10;
          //const files: Array<File> = this.filesToUpload;
          let theForm = this.addAlbumForm.value;
          let lformData: FormData = new FormData();
          //console.log('Ini file: '+ files[0]['name']);
          this.progressvalue = 20;
          //lformData.append('albumimage',files[0],files[0]['name']);
          lformData.append('fileinputsrc',files[0],files[0]['name']);
          lformData.append('uploadpath',this.albumuploadpath);
          //console.dir(theForm);
          this.loading = true;
          this.progressvalue = 40;
          this.ftService.uploadInputFile(lformData)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                this.progressvalue = 0;
                this.toastr.error(data.message);
              } else {
                  this.progressvalue = 60;
                  theForm.albumphotopath = data.filedata.filepath;
                  theForm.albumphotoname = data.filedata.filename;
                  theForm.status = 'STSACT';
                  if (this.albumid !== '') {
                    theForm.albumid = this.albumid;
                  }
                  this.progressvalue = 80;
                  this.albumService.saveAlbum(this.userObj.userid, theForm.artistid, theForm)
                  .subscribe(data => {
                    if (data.success === false) {
                      this.loading = false;
                      this.progressvalue = 0;
                      this.toastr.error(data.message);
                    } else {
                      this.progressvalue = 90;
                      this.loading = false;
                      this.toastr.success(data.message);
                      //this.router.navigate(['listalbum']);
                      this.progressvalue = 100;
                    }
                    this.addAlbumForm.reset();
                    this.artistVar.nativeElement.selectedIndex = 0;
                    this.genreVar.nativeElement.selectedIndex = 0;
                    this.albumimageVar.nativeElement.value = "";
                    this.progressvalue = 0;
                  },
                  err => {
                    this.loading = false;
                    //console.log(err);
                    this.toastr.error(err);
                  });
              }
            },
            err => {
              this.loading = false;
              //console.log(err);
              this.toastr.error(err);
            });
     
        } else {
          this.toastr.error('Please provide the album cover/image...');
        }
      } */
    AddalbumComponent.prototype.fileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        if (~files[0].type.indexOf("image/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.filesToUpload = fileInput.target.files;
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000;
                alert('Error file size. File size is maximum ' + mfsize + ' Kb');
                this.albumimageVar.nativeElement.value = "";
            }
        }
        else {
            alert('Error file type. You must input image file type.');
            this.albumimageVar.nativeElement.value = "";
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputimg'),
        __metadata("design:type", Object)
    ], AddalbumComponent.prototype, "albumimageVar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputartist'),
        __metadata("design:type", Object)
    ], AddalbumComponent.prototype, "artistVar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputgenre'),
        __metadata("design:type", Object)
    ], AddalbumComponent.prototype, "genreVar", void 0);
    AddalbumComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-addalbum',
            template: __webpack_require__("./src/app/components/album/addalbum/addalbum.component.html"),
            styles: [__webpack_require__("./src/app/components/album/addalbum/addalbum.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_7__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_9__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_10__app_global__["a" /* Globals */]])
    ], AddalbumComponent);
    return AddalbumComponent;
}());



/***/ }),

/***/ "./src/app/components/album/editalbum/editalbum.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/album/editalbum/editalbum.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Edit Album</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"albumForm\" (ngSubmit)=\"saveAlbum(albumForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\" [ngClass]=\"{'has-error': albumForm.get('albumname').invalid && albumForm.get('albumname').dirty}\">\n            <label for=\"albumname\" class=\"col-sm-2 control-label\">Album Name</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"albumname\" [formControl]=\"albumname\" placeholder=\"Album Name\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"albumForm.get('albumname').dirty && albumForm.get('albumname').invalid\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter your {{ userObj.username }} album name</span>\n            </div>\n        </div>\n        \n        <div class=\"form-group\" [ngClass]=\"{'has-error': albumForm.get('artistid').invalid && albumForm.get('artistid').dirty}\">\n            <label for=\"artistid\" class=\"col-sm-2 control-label\">Artist</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"artistid\">\n                    <option *ngFor=\"let artist of artistlist\" [ngValue]=\"artist._id\">{{artist.artistname}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"albumForm.get('artistid').dirty && albumForm.get('artistid').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"albumForm.get('artistid').errors.required\">\n                    Please select artist status\n                </span>\n            </div>\n        </div>\n\n        <div class=\"form-group\" [ngClass]=\"{'has-error': albumForm.get('albumyear').invalid && albumForm.get('albumyear').dirty}\">\n            <label for=\"albumyear\" class=\"col-sm-2 control-label\">Album Year</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"albumyear\" [formControl]=\"albumyear\" placeholder=\"Album Year\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"albumForm.get('albumyear').dirty && albumForm.get('albumyear').invalid\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter album year</span>\n            </div>\n        </div>\n\n        <div class=\"form-group\" [ngClass]=\"{'has-error': albumForm.get('albumgenre').invalid && albumForm.get('albumgenre').dirty}\">\n            <label for=\"albumgenre\" class=\"col-sm-2 control-label\">Album Genre</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"albumgenre\">\n                    <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"albumForm.get('albumgenre').dirty && albumForm.get('albumgenre').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"albumForm.get('albumgenre').errors.required\">\n                    Please select album genre\n                </span>\n            </div>\n        </div>\n<!--         <div class=\"form-group\" [ngClass]=\"{'has-error': albumForm.get('albumprice').invalid && albumForm.get('albumprice').dirty}\">\n            <label for=\"albumprice\" class=\"col-sm-2 control-label\">Price</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\">Rp</div>\n                <input [disabled]=\"this.loading == true\" type=\"number\" class=\"form-control\" id=\"albumprice\" [formControl]=\"albumprice\" placeholder=\"Enter price\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"albumForm.get('albumprice').dirty && albumForm.get('albumprice').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"albumForm.get('albumprice').errors.required\">\n                    Please enter price\n                </span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"albumForm.get('albumprice').errors.pattern\">\n                    Please enter a valid amount\n                </span>\n            </div>\n        </div> -->\n\n        <div class=\"form-group\" [ngClass]=\"{'has-error': albumForm.get('status').invalid && albumForm.get('status').dirty}\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"status\">\n                    <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"albumForm.get('status').dirty && albumForm.get('status').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"albumForm.get('status').errors.required\">\n                    Please select album status\n                </span>\n            </div>\n        </div>\n\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"submit\" [disabled]=\"albumForm.invalid || this.loading == true\" class=\"btn btn-primary\">{{ btnLbl }}</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Back</button>\n            </div>\n        </div>\n    </form>\n  </div>"

/***/ }),

/***/ "./src/app/components/album/editalbum/editalbum.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditalbumComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EditalbumComponent = /** @class */ (function () {
    function EditalbumComponent(fb, authService, artistService, albumService, msconfigService, route, router, toastr, datePipe) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.loading = false;
        this.artistid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.albumname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.albumyear = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.albumgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        //albumprice = new FormControl('', [Validators.required, Validators.pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    EditalbumComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.albumid = params['id'];
            _this.getAlbum(_this.albumid);
            _this.btnLbl = "Update";
        });
        this.userObj = this.authService.currentUser;
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.getArtistList(this.userObj.userid);
        this.albumForm = this.fb.group({
            artistid: this.artistid,
            albumname: this.albumname,
            albumyear: this.albumyear,
            albumgenre: this.albumgenre,
            //albumprice: this.albumprice,
            status: this.status
        });
    };
    EditalbumComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                    _this.genre = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
        });
    };
    EditalbumComponent.prototype.getArtistList = function (id) {
        var _this = this;
        this.artistService.getArtistList(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artistlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
                }
            }
        }, function (err) {
            _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
        });
    };
    EditalbumComponent.prototype.getAlbum = function (id) {
        var _this = this;
        this.albumService.getAlbum(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Album id is incorrect in the URL');
                    _this.router.navigate(['listalbum']);
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['listalbum']);
        });
    };
    EditalbumComponent.prototype.populateForm = function (data) {
        this.albumForm.patchValue({
            artistid: data.artistid,
            albumname: data.albumname,
            albumyear: data.albumyear,
            albumgenre: data.albumgenre,
            //albumprice: data.albumprice,
            status: data.status
        });
    };
    EditalbumComponent.prototype.saveAlbum = function (formdata) {
        var _this = this;
        if (this.albumForm.valid) {
            var theForm = this.albumForm.value;
            if (this.albumid !== '') {
                theForm.albumid = this.albumid;
            }
            this.loading = true;
            this.albumService.pubsaveAlbum(this.userObj.userid, theForm)
                .subscribe(function (data) {
                _this.loading = false;
                if (data.success === false) {
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.toastr.success(data.message);
                }
                if (!_this.albumid) {
                    _this.albumForm.reset();
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    /*   saveAlbum(formdata:any): void {
        if (this.albumForm.valid) {
          const theForm:any = this.albumForm.value;
          if (this.albumid !== '') {
            theForm.albumid = this.albumid;
          
          }
          this.loading = true;
          this.albumService.saveAlbum(this.userObj.userid,theForm.artistid, theForm)
            .subscribe(data => {
              this.loading = false;
              if (data.success === false) {
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.toastr.success(data.message);
              }
              if (!this.albumid) {
                this.albumForm.reset();
              }
          },
          err => {
            this.loading = false;
            //console.log(err);
            this.toastr.error(err);
          });
        }
      } */
    EditalbumComponent.prototype.onBack = function () {
        this.router.navigate(['/listalbum'], { preserveQueryParams: true });
    };
    EditalbumComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editalbum',
            template: __webpack_require__("./src/app/components/album/editalbum/editalbum.component.html"),
            styles: [__webpack_require__("./src/app/components/album/editalbum/editalbum.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_7__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"]])
    ], EditalbumComponent);
    return EditalbumComponent;
}());



/***/ }),

/***/ "./src/app/components/album/editalbumphoto/editalbumphoto.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/album/editalbumphoto/editalbumphoto.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Change Photo</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"albumForm\" (ngSubmit)=\"updatePhoto(albumForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n\n        <div class=\"form-group\">\n            <!-- <label for=\"albumimage\" class=\"col-sm-2 control-label\"></label> -->\n            <div class=\"col-sm-12\">\n                <img src=\"{{ this.displayImg }}\" width=\"170\" height=\"170\">\n            </div>\n        </div>\n        <div class=\"form-group\">   \n            <!-- <label class=\"col-sm-2 control-label\"></label> -->\n            <div class=\"col-sm-12\">\n                <label class=\"control-label\" style=\"color:red;\"><sup>* <u>FILE SIZE (MAX {{ +this.maxfilesize?.value/1000 }} KB)</u></sup></label>    \n                <div class=\"input-group\">\n                    <label class=\"input-group-btn\">\n                        <span *ngIf=\"this.loading == false\" class=\"btn btn-primary\">\n                            Browse&hellip; <input [disabled]=\"this.loading == true\" type=\"file\" accept=\"image/*\" (change)=\"fileChangeEvent($event)\" name=\"albumimage\" id=\"albumimage\" style=\"display:none\">\n                        </span>\n                    </label>\n                    <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" value=\"{{ this.newfile }}\">  \n                </div>\n            </div>            \n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">  </label>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">  </label>\n            <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n            <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n          </div>\n        <div class=\"form-group\">\n            <div class=\"col-sm-12\">\n                <button [disabled]=\"this.loading == true\" type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n    </form>\n</div>"

/***/ }),

/***/ "./src/app/components/album/editalbumphoto/editalbumphoto.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditalbumphotoComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EditalbumphotoComponent = /** @class */ (function () {
    function EditalbumphotoComponent(fb, authService, albumService, route, router, toastr, ftService, globals, msconfigService) {
        this.fb = fb;
        this.authService = authService;
        this.albumService = albumService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.ftService = ftService;
        this.globals = globals;
        this.msconfigService = msconfigService;
        this.filesToUpload = [];
        this.loading = false;
        this.progressvalue = 0;
        this.albumphotopath = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumphotoname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    EditalbumphotoComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.albumuploadpath = this.globals.albumuploadpath;
        this.progressvalue = 0;
        this.getMsconfigVal('IMGSIZE', 'FSIZE');
        this.albumForm = this.fb.group({
            albumphotopath: this.albumphotopath,
            albumphotoname: this.albumphotoname
        });
        this.route.params.subscribe(function (params) {
            _this.albumid = params['id'];
            _this.getAlbum(_this.albumid);
        });
    };
    EditalbumphotoComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.maxfilesize = data.data[0];
                }
                else {
                    _this.maxfilesize = { code: '', value: '0' };
                }
            }
        }, function (err) {
            _this.maxfilesize = { code: '', value: '0' };
        });
    };
    EditalbumphotoComponent.prototype.getAlbum = function (id) {
        var _this = this;
        this.albumService.getAlbum(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.album = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Album id is incorrect in the URL');
                    _this.router.navigate(['listalbum']);
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['listalbum']);
        });
    };
    EditalbumphotoComponent.prototype.populateForm = function (data) {
        this.deletedFilename = this.album.albumphotoname;
        this.displayImg = this.album.albumphotopath;
        this.albumForm.patchValue({
            albumphotopath: data.albumphotopath,
            albumphotoname: data.albumphotoname
        });
    };
    EditalbumphotoComponent.prototype.fileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        if (~files[0].type.indexOf("image/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.filesToUpload = fileInput.target.files;
                this.newfile = this.filesToUpload[0]['name'];
                //console.log('content file: ' + this.filesToUpload);
                this.progressvalue = 0;
                this.uploadNewPhoto(this.filesToUpload);
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000;
                alert('Error file size. File size is maximum ' + mfsize + ' Kb');
            }
        }
        else {
            alert('Error file type. You must input image file type.');
        }
    };
    EditalbumphotoComponent.prototype.uploadNewPhoto = function (newFileData) {
        var _this = this;
        var files = newFileData;
        var lformData = new FormData();
        this.progressvalue = 10;
        lformData.append('fileinputsrc', files[0], files[0]['name']);
        lformData.append('uploadpath', this.albumuploadpath);
        this.progressvalue = 30;
        this.loading = true;
        this.progressvalue = 40;
        this.ftService.uploadInputFile(lformData)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.progressvalue = 0;
                _this.toastr.error(data.message);
            }
            else {
                _this.progressvalue = 60;
                _this.displayImg = data.filedata.filepath;
                var payloadData = {};
                payloadData.oldalbumphotoname = _this.albumForm.value.albumphotoname;
                payloadData.uploadpath = _this.albumuploadpath;
                payloadData.albumphotoname = data.filedata.filename;
                payloadData.albumphotopath = data.filedata.filepath;
                payloadData.labelid = _this.userObj.userid;
                _this.progressvalue = 80;
                _this.progressvalue = 90;
                _this.albumService.pubupdateAlbumphoto(_this.albumid, payloadData)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.progressvalue = 100;
                        _this.loading = false;
                        console.log('Success update database photo - ' + _this.displayImg);
                        _this.toastr.success(data.message);
                        _this.progressvalue = 0;
                    }
                }, function (err) {
                    _this.progressvalue = 0;
                    _this.loading = false;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
        }, function (err) {
            _this.loading = false;
            _this.progressvalue = 0;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    /*   uploadNewPhoto(newFileData:any): void {
        const files: Array<File> = newFileData;
        let lformData: FormData = new FormData();
        this.progressvalue = 10;
        lformData.append('fileinputsrc',files[0],files[0]['name']);
        lformData.append('uploadpath',this.albumuploadpath);
        this.progressvalue = 30;
        this.loading = true;
        this.progressvalue = 40;
        this.ftService.uploadInputFile(lformData)
        .subscribe(data => {
          if (data.success === false) {
            this.loading = false;
            this.progressvalue = 0;
            this.toastr.error(data.message);
          } else {
            this.progressvalue = 60;
            this.displayImg = data.filedata.filepath;
            let payloadData: any = {};
            payloadData.uploadpath = this.albumuploadpath;
            payloadData.filename = this.albumForm.value.albumphotoname;
            this.progressvalue = 80;
            this.ftService.deleteInputFile(payloadData)
            .subscribe(data => {
               if (data.success === false) {
                  //this.toastr.error(data.message);
                  console.log('Error deleted ' + data.message);
                } else {
                  console.log('File deleted - ' + payloadData.filename);
                }
              },
              err => {
                console.log(err);
              });
            this.progressvalue = 90;
            this.albumForm.value.albumphotopath = data.filedata.filepath;
            this.albumForm.value.albumphotoname = data.filedata.filename;
    
            //console.log('Update database photo - ' + this.displayImg);
            this.albumService.updateAlbumphoto(this.albumid, this.albumForm.value)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                this.progressvalue = 0;
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.progressvalue = 100;
                this.loading = false;
                console.log('Success update database photo - ' + this.displayImg)
                this.toastr.success(data.message);
                this.progressvalue = 0;
              }
            },
            err => {
              this.progressvalue = 0;
              this.loading = false;
              //console.log(err);
              this.toastr.error(err);
            });
    
          }
        },
        err => {
          this.loading = false;
          this.progressvalue = 0;
          //console.log(err);
          this.toastr.error(err);
        });
      } */
    EditalbumphotoComponent.prototype.onBack = function () {
        this.router.navigate(['/listalbum'], { preserveQueryParams: true });
    };
    EditalbumphotoComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editalbumphoto',
            template: __webpack_require__("./src/app/components/album/editalbumphoto/editalbumphoto.component.html"),
            styles: [__webpack_require__("./src/app/components/album/editalbumphoto/editalbumphoto.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_6__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_7__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], EditalbumphotoComponent);
    return EditalbumphotoComponent;
}());



/***/ }),

/***/ "./src/app/components/album/listalbum/listalbum.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/album/listalbum/listalbum.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>List Album</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">Search Parameter</h3>\n      </div>\n      <div class=\"panel-body\">\n          <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"albumname\" class=\"col-sm-2 paddingsearch\">Name</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"albumname\" [formControl]=\"albumname\" placeholder=\"Album Name\">\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"artistid\" class=\"col-sm-2 paddingsearch\">Artist</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                            <select class=\"form-control\" [formControl]=\"artistid\">\n                                <option ng-selected=\"true\" value=\"\">Select the artist</option>\n                                <option *ngFor=\"let artist of artistlist\" [ngValue]=\"artist._id\">{{artist.artistname}}</option>\n                            </select>\n                          </div>\n                    </div>                \n\n                </div>\n               <div class=\"row rowmarginsearch\">   \n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"albumgenre\" class=\"col-sm-2 paddingsearch\">Genre</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                          <select class=\"form-control\" [formControl]=\"albumgenre\">\n                            <option ng-selected=\"true\" value=\"\">Select the genre</option>\n                            <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                         </select>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"albumyear\" class=\"col-sm-2 paddingsearch\">Year</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"albumyear\" [formControl]=\"albumyear\" placeholder=\"Album Year\">\n                        </div>\n                    </div>\n              </div>\n              <div class=\"row rowmarginsearch\">\n\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                          <select class=\"form-control\" [formControl]=\"status\">\n                            <option ng-selected=\"true\" value=\"\">Select the status</option>\n                            <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                          </select>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label class=\"col-sm-2 paddingsearch\"></label>\n                    <div class=\"col-sm-10\">\n                        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                    </div>\n                  </div>                \n              </div>\n          </form>\n      </div>\n  </div>\n\n  <div class=\"panel panel-danger\" *ngIf=\"albums && totalrows < 1\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No album found</h3> \n      </div>\n\n      <div class=\"panel-body\">\n          It seems like you havn't entered any albums for the selected criteria. Please add the album <a style=\"cursor:pointer\" (click)=\"toaddAlbums()\">here</a>.\n      </div>\n  </div>\n\n  <div class=\"panel panel-default\" *ngIf=\"albums && totalrows > 0 && this.loading == false\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n      </div>\n      <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumname')\">Album Name</a></th>\n                          <th width=\"20%\" scope=\"col\">Artist</th>\n                          <!-- <th width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumyear')\">Year</a></th> -->\n                          <th width=\"9%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumgenre')\">Genre</a></th>\n                          <th width=\"10%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumprice')\">Price</a></th>\n                          <!-- <th width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th> -->\n                          <th width=\"20%\" scope=\"col\">Action</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let albm of albums; let albIndex = index'>\n                          <td scope=\"row\" data-label=\"Album Name\"><a style=\"cursor:pointer\" (click)=\"showAlbum(albm._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ albm.albumname}}</a></td>\n                          <td data-label=\"Artist\">{{ albm.artist }}</td>\n                          <!-- <td>{{ albm.albumyear}}</td> -->\n                          <td data-label=\"Genre\">{{ albm.genrevalue}}</td>\n                          <td data-label=\"Price\" class=\"text-right\">{{ albm.albumprice | currency: 'IDR':'symbol-narrow' }}</td>\n                          <!-- <td>{{ albm.status}}</td> -->\n                          <td data-label=\"Action\">\n                              <button type=\"button\" class=\"btn-xs btn-info\" aria-label=\"View\" (click)=\"editAlbumPhoto(albm._id)\">\n                                  <span class=\"glyphicon glyphicon-edit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Album Photo\"></span>\n                              </button>\n                              <button type=\"button\" class=\"btn-xs btn-danger\" aria-label=\"Edit\" (click)=\"editAlbum(albm._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Album Data\">\n                                  <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>\n                              </button>\n                              <button type=\"button\" class=\"btn-xs btn-primary\" aria-label=\"Delete\" (click)=\"confirmDel(albIndex, albm._id, albm.albumname, albm.albumphotoname )\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete Album\">\n                                  <span class=\"glyphicon glyphicon-trash\" aria-hidden=\"true\"></span>\n                              </button>\n                          </td>\n                      </tr>\n                      \n                  </tbody>\n              </table>\n          </div>\n\n          <div style=\"text-align:center\" *ngIf=\"albums && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div>\n\n      </div>\n  </div>  \n</div>"

/***/ }),

/***/ "./src/app/components/album/listalbum/listalbum.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListalbumComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var ListalbumComponent = /** @class */ (function () {
    function ListalbumComponent(fb, authService, artistService, albumService, songService, msconfigService, route, router, toastr, datePipe, ftService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.ftService = ftService;
        this.globals = globals;
        //artistname: String;
        this.loading = false;
        this.artistid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumyear = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    ListalbumComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.albumuploadpath = this.globals.albumuploadpath;
        this.reportForm = this.fb.group({
            artistid: this.artistid,
            albumname: this.albumname,
            albumyear: this.albumyear,
            albumgenre: this.albumgenre,
            status: this.status
        });
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.getArtistList(this.userObj.userid);
        this.route.queryParams.forEach(function (params) {
            _this.qartistid = params['artistid'] || '';
            _this.qalbumname = params['albumname'] || '';
            _this.qalbumyear = params['albumyear'] || '';
            _this.qalbumgenre = params['albumgenre'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.status = _this.qstatus;
            payload.artistid = _this.qartistid;
            payload.albumname = _this.qalbumname;
            payload.albumyear = _this.qalbumyear;
            payload.albumgenre = _this.qalbumgenre;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
        });
    };
    ListalbumComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                    _this.genre = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ListalbumComponent.prototype.getArtistList = function (id) {
        var _this = this;
        this.artistService.getArtistList(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artistlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
                }
            }
        }, function (err) {
            _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
        });
    };
    ListalbumComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.userObj.userid, this.reportForm.value);
            this.router.navigate(['listalbum'], {
                queryParams: { artistid: this.reportForm.value.artistid,
                    albumname: this.reportForm.value.albumname,
                    albumyear: this.reportForm.value.albumyear,
                    albumgenre: this.reportForm.value.albumgenre,
                    status: this.reportForm.value.status,
                    page: 1,
                    sortby: null }
            });
        }
    };
    ListalbumComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.albumService.getAggAlbums(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                //this.albums = data.data.docs;
                _this.albums = data.data;
                //console.log(this.albums);
                //this.totalrows = +data.data.totalcount;
                _this.totalrows = +data.totalcount;
                //console.log(this.totalrows);
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qartistid = formval.artistid;
                _this.qalbumname = formval.albumname;
                _this.qalbumyear = formval.albumyear;
                _this.qalbumgenre = formval.albumgenre;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Albums Result';
                _this.reportForm.patchValue({
                    artistid: _this.qartistid,
                    albumname: _this.qalbumname,
                    albumyear: _this.qalbumyear,
                    albumgenre: _this.qalbumgenre,
                    status: _this.qstatus
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListalbumComponent.prototype.setPage = function (page) {
        this.router.navigate(['listalbum'], {
            queryParams: { artistid: this.qartistid,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                albumgenre: this.qalbumgenre,
                status: this.qstatus,
                page: page,
                sortby: this.qsort }
        });
    };
    ListalbumComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ListalbumComponent.prototype.sortAlbum = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['listalbum'], {
            queryParams: { artistid: this.qartistid,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                albumgenre: this.qalbumgenre,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    /*   getArtistName(id){
        this.artistService.getArtist(id).subscribe(data => {
          if (data.success === true) {
            if (data.data[0]) {
              return data.data[0].artistname;
            } else {
              return 'Artist id is incorrect in the URL';
            }
          }
        });
      } */
    ListalbumComponent.prototype.showAlbum = function (albumid) {
        this.router.navigate(["viewalbum/" + albumid], {
            queryParams: { artistid: this.qartistid,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                albumgenre: this.qalbumgenre,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    ListalbumComponent.prototype.confirmDel = function (idx, albumid, albumname, albumphotoname) {
        var _this = this;
        var totalsong;
        var payload = {};
        payload.albumid = albumid;
        this.loading = true;
        this.songService.getSongList(this.userObj.userid, payload)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                totalsong = +data.totalcount;
                if (totalsong > 0) {
                    _this.toastr.warning('Can not delete album. It already has songs.');
                }
                else {
                    if (confirm('Do you really want to delete this album: ' + albumname + ' record?')) {
                        var payloadData = {};
                        payloadData.labelid = _this.userObj.userid;
                        payloadData.albumphotoname = albumphotoname;
                        payloadData.uploadpath = _this.albumuploadpath;
                        _this.loading = true;
                        _this.albumService.pubdeleteAlbum(albumid, payloadData)
                            .subscribe(function (data) {
                            if (data.success === false) {
                                _this.loading = false;
                                if (data.errcode) {
                                    _this.authService.logout();
                                    _this.router.navigate(['errorpage']);
                                }
                                _this.toastr.error(data.message);
                            }
                            else {
                                _this.loading = false;
                                _this.albums.splice(idx, 1);
                                _this.totalrows = _this.totalrows - 1;
                                _this.toastr.success(data.message);
                            }
                        }, function (err) {
                            _this.loading = false;
                            //console.log(err);
                            _this.toastr.error(err);
                        });
                    }
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    /*   confirmDel(idx: number, albumid: string, albumname:string, albumphotoname:string) {
        var totalsong: number;
    
        let payload: any = {};
        payload.albumid = albumid;
        this.loading = true;
        this.songService.getSongList(this.userObj.userid, payload)
        .subscribe(data => {
          if (data.success === false) {
            this.loading = false;
            this.toastr.error(data.message);
          } else {
            this.loading = false;
            totalsong = +data.totalcount;
            if (totalsong > 0) {
              this.toastr.warning('Can not delete album. It already has songs.');
            } else {
              if(confirm('Do you really want to delete this album: ' + albumname + ' record?')){
                let payloadData: any = {};
                payloadData.uploadpath = this.albumuploadpath;
                payloadData.filename = albumphotoname;
                this.loading = true;
                this.ftService.deleteInputFile(payloadData)
                .subscribe(data => {
                   if (data.success === false) {
                    this.loading = false;
                      if (data.errcode){
                        this.authService.logout();
                        this.router.navigate(['errorpage']);
                      }
                      this.toastr.error(data.message);
                    } else {
                      this.albumService.deleteAlbum(albumid)
                      .subscribe(data => {
                        if (data.success === false) {
                          this.loading = false;
                          if (data.errcode){
                            this.authService.logout();
                            this.router.navigate(['errorpage']);
                          }
                          this.toastr.error(data.message);
                        } else {
                          this.loading = false;
                          this.albums.splice(idx, 1);
                          this.totalrows = this.totalrows - 1;
                          this.toastr.success(data.message);
                        }
                      },
                      err => {
                        this.loading = false;
                        //console.log(err);
                        this.toastr.error(err);
                      });
                    }
                  },
                  err => {
                    this.loading = false;
                    //console.log(err);
                    this.toastr.error(err);
                  });
              }
            }
          }
        },
        err => {
          this.loading = false;
          //console.log(err);
          this.toastr.error(err);
        });
      } */
    ListalbumComponent.prototype.editAlbum = function (albumid) {
        this.router.navigate(["editalbum/" + albumid], {
            queryParams: { artistid: this.qartistid,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                albumgenre: this.qalbumgenre,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    ListalbumComponent.prototype.editAlbumPhoto = function (albumid) {
        this.router.navigate(["editalbumphoto/" + albumid], {
            queryParams: { artistid: this.qartistid,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                albumgenre: this.qalbumgenre,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    ListalbumComponent.prototype.toaddAlbums = function () {
        this.router.navigate(['/addalbum']);
    };
    ListalbumComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-listalbum',
            template: __webpack_require__("./src/app/components/album/listalbum/listalbum.component.html"),
            styles: [__webpack_require__("./src/app/components/album/listalbum/listalbum.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_8__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_7__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_10__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_11__app_global__["a" /* Globals */]])
    ], ListalbumComponent);
    return ListalbumComponent;
}());



/***/ }),

/***/ "./src/app/components/album/viewalbum/viewalbum.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/album/viewalbum/viewalbum.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Album Details</h3>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-8\">\n          <form [formGroup]=\"albumForm\" class=\"form-horizontal\">\n            <div class=\"form-group\">\n                <label for=\"albumname\" class=\"col-sm-2 control-label\">Name</label>\n                <div class=\"form-ele col-sm-10\">{{ album?.albumname }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                    <div class=\"form-ele\">{{ album?.albumname }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"artistname\" class=\"col-sm-2 control-label\">Artist</label>\n                <div class=\"form-ele col-sm-10\">{{ artist?.artistname }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                    <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"albumyear\" class=\"col-sm-2 control-label\">Year</label>\n                <div class=\"form-ele col-sm-10\">{{ album?.albumyear }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                    <div class=\"form-ele\">{{ album?.albumyear }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"albumgenre\" class=\"col-sm-2 control-label\">Genre</label>\n                <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                    <select class=\"form-control selectfontsize\" [formControl]=\"albumgenre\" disabled>\n                        <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                    </select>\n                    <!-- <div class=\"form-ele\">{{ album?.albumgenre }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"albumprice\" class=\"col-sm-2 control-label\">Price</label>\n                <div class=\"form-ele col-sm-10\">{{ album?.albumprice | currency: 'IDR':'symbol-narrow' }}\n                    <!-- <div class=\"input-group-addon\">Rp</div>\n                    <div class=\"form-ele\">{{ album?.albumprice | currency: 'IDR':true }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n                <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control selectfontsize\" [formControl]=\"status\" disabled>\n                        <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                    </select>\n                    <!-- <div class=\"form-ele\">{{ album?.status }}</div> -->\n                </div>\n            </div>\n          </form>\n        </div>\n        <div class=\"col-sm-4 thumbpadding\">\n            <img src=\"{{ album?.albumphotopath }}\" class=\"img-thumbnail thumbviewsize\">\n        </div>\n    </div>\n\n        <div class=\"row\">\n            <div class=\"dtlpadding\" *ngIf=\"songs && totalrows > 0\">\n                <div class=\"col-md-11 col-lg-11\">\n                        <b>( TOTAL : {{ totalrows }} songs ) </b><br> \n                    <!-- <div class=\"table-responsive\"> -->\n                        <table class=\"table table-striped\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\" width=\"30%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songname')\">Song Title</a></th>\n                                    <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songpublish')\">Published?</a></th>\n                                    <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songbuy')\">Total Purchase</a></th>\n                                    <th scope=\"col\" width=\"10%\" class=\"text-right\"><a style=\"cursor:pointer\" (click)=\"sortSong('songprice')\">Price</a></th>\n                                    <th scope=\"col\" width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor='let song of songs; let songIndex = index'>\n                                    <td scope=\"row\" data-label=\"Song Title\">{{ song.songname}}</td>\n                                    <td data-label=\"Publish\">{{ song.songpublish}}</td>\n                                    <td data-label=\"Purchase\">{{ song.songbuy}}</td>\n                                    <td data-label=\"Song Price\" class=\"text-right\">{{ song.songprice | currency: 'IDR':'symbol-narrow' }}</td>\n                                    <td data-label=\"Status\">{{ song.stsvalue}}</td>\n                                </tr>\n                                \n                            </tbody>\n                        </table>\n                    <!-- </div> -->\n            \n                    <div style=\"text-align:center\" *ngIf=\"songs && totalrows > 10\">\n                        <nav aria-label=\"Page navigation\">\n                            <ul class=\"pagination\">\n                                <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                                    <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                                </li>\n                            </ul>\n                        </nav>\n                    </div>\n            \n                </div>\n                <div class=\"col-md-1 col-lg-1\"></div>\n            </div>      \n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n        <br>\n  </div>\n"

/***/ }),

/***/ "./src/app/components/album/viewalbum/viewalbum.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewalbumComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ViewalbumComponent = /** @class */ (function () {
    function ViewalbumComponent(fb, authService, artistService, albumService, songService, msconfigService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.albumgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ViewalbumComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var albumid = params['id'];
            _this.albumid = albumid;
        });
        console.log(this.albumid);
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.getAlbum(this.albumid);
        this.route.queryParams.forEach(function (params) {
            _this.qalbumid = params['albumid'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            _this.qalbumid = _this.albumid;
            payload.albumid = _this.qalbumid;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
        });
        this.albumForm = this.fb.group({
            albumgenre: this.albumgenre,
            status: this.status
        });
    };
    ViewalbumComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ViewalbumComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                    _this.genre = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ViewalbumComponent.prototype.getAlbum = function (id) {
        var _this = this;
        this.albumService.getAlbum(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.album = data.data[0];
                    _this.getArtistName(_this.album.artistid);
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Album id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewalbumComponent.prototype.populateForm = function (data) {
        this.albumForm.patchValue({
            albumgenre: data.albumgenre,
            status: data.status
        });
    };
    ViewalbumComponent.prototype.getArtistName = function (id) {
        var _this = this;
        this.artistService.getArtist(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artist = data.data[0];
                }
                else {
                    _this.toastr.error('Artist id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewalbumComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.songService.getSongList(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.songs = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qalbumid = formval.albumid;
                _this.reportTitle = 'Songs Result';
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewalbumComponent.prototype.setPage = function (page) {
        this.router.navigate(["viewalbum/" + this.albumid], {
            queryParams: { albumid: this.qalbumid,
                page: page,
                sortby: this.qsort }
        });
    };
    ViewalbumComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ViewalbumComponent.prototype.sortSong = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(["viewalbum/" + this.albumid], {
            queryParams: { albumid: this.qalbumid,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    ViewalbumComponent.prototype.onBack = function () {
        this.router.navigate(['/listalbum'], { preserveQueryParams: true });
    };
    ViewalbumComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewalbum',
            template: __webpack_require__("./src/app/components/album/viewalbum/viewalbum.component.html"),
            styles: [__webpack_require__("./src/app/components/album/viewalbum/viewalbum.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_6__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_4__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_5__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_7__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewalbumComponent);
    return ViewalbumComponent;
}());



/***/ }),

/***/ "./src/app/components/albumstats/albumstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/albumstats/albumstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Albums</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">Search Parameter</h3>\n      </div>\n      <div class=\"panel-body\">\n          <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                          <select class=\"form-control\" [formControl]=\"labelid\">\n                              <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                              <option value=\"\">Select the label</option>\n                              <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                          </select>\n                        </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"albumname\" class=\"col-sm-2 paddingsearch\">Album</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"albumname\" [formControl]=\"albumname\" placeholder=\"Album Name\">\n                      </div>\n                  </div>\n                </div>\n               <div class=\"row rowmarginsearch\">   \n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"artistname\" class=\"col-sm-2 paddingsearch\">Artist</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Artist Name\">\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"albumgenre\" class=\"col-sm-2 paddingsearch\">Genre</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                          <select class=\"form-control\" [formControl]=\"albumgenre\">\n                            <option ng-selected=\"true\" value=\"\">Select the genre</option>\n                            <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                         </select>\n                      </div>\n                  </div>\n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"albumyear\" class=\"col-sm-2 paddingsearch\">Year</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"albumyear\" [formControl]=\"albumyear\" placeholder=\"Album Year\">\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                          <select class=\"form-control\" [formControl]=\"status\">\n                            <option ng-selected=\"true\" value=\"\">Select the status</option>\n                            <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                          </select>\n                      </div>\n                  </div>\n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label class=\"col-sm-2 paddingsearch\"></label>\n                      <div class=\"col-sm-10\">\n                          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                      </div>\n                    </div>                \n              </div>\n          </form>\n      </div>\n  </div>\n  <div class=\"panel panel-danger\" *ngIf=\"albums && totalrows < 1\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No album found</h3> \n      </div>\n\n      <div class=\"panel-body\">\n          It seems there is NO albums entered yet for the selected criteria.\n      </div>\n  </div>\n  <div class=\"panel panel-default\" *ngIf=\"albums && totalrows > 0 && this.loading == false\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n      </div>\n      <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumname')\">Album Name</a></th>\n                          <th scope=\"col\" width=\"20%\">Label</th>\n                          <th scope=\"col\" width=\"20%\">Artist</th>\n                          <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumyear')\">Year</a></th>\n                          <th scope=\"col\" width=\"9%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumgenre')\">Genre</a></th>\n                          <th scope=\"col\" width=\"10%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumprice')\">Price</a></th>\n                          <!-- <th width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th> -->\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let albm of albums; let albIndex = index'>\n                          <td scope=\"row\" data-label=\"Album Name\"><a style=\"cursor:pointer\" (click)=\"showAlbum(albm._id, albm.labelid)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ albm.albumname}}</a></td>\n                          <td data-label=\"Label\">{{ albm.label }}</td>\n                          <td data-label=\"Artist\">{{ albm.artist }}</td>\n                          <td data-label=\"Album Year\">{{ albm.albumyear}}</td>\n                          <td data-label=\"Genre\">{{ albm.genrevalue}}</td>\n                          <td data-label=\"Album Price\" class=\"text-right\">{{ albm.albumprice | currency: 'IDR':'symbol-narrow' }}</td>\n                          <!-- <td>{{ albm.status}}</td> -->\n                      </tr>\n                  </tbody>\n              </table>\n          </div>\n\n          <div style=\"text-align:center\" *ngIf=\"albums && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div>\n\n      </div>\n  </div> \n</div>"

/***/ }),

/***/ "./src/app/components/albumstats/albumstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlbumstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var AlbumstatsComponent = /** @class */ (function () {
    function AlbumstatsComponent(fb, authService, labelmgtService, artistService, albumService, songService, msconfigService, route, router, toastr, datePipe, ftService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.labelmgtService = labelmgtService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.ftService = ftService;
        this.globals = globals;
        //artistname: String;
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumyear = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    AlbumstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.albumuploadpath = this.globals.albumuploadpath;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            artistname: this.artistname,
            albumname: this.albumname,
            albumyear: this.albumyear,
            albumgenre: this.albumgenre,
            status: this.status
        });
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qartistname = params['artistname'] || '';
            _this.qalbumname = params['albumname'] || '';
            _this.qalbumyear = params['albumyear'] || '';
            _this.qalbumgenre = params['albumgenre'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.status = _this.qstatus;
            payload.labelid = _this.qlabelid;
            payload.artistname = _this.qartistname;
            payload.albumname = _this.qalbumname;
            payload.albumyear = _this.qalbumyear;
            payload.albumgenre = _this.qalbumgenre;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
        });
    };
    AlbumstatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                    _this.genre = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
        });
    };
    AlbumstatsComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Error label list' }];
                }
            }
        }, function (err) {
            _this.userlist = [{ _id: '', name: 'Error label list' }];
        });
    };
    AlbumstatsComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.userObj.userid, this.reportForm.value);
            this.router.navigate(['albumstats'], {
                queryParams: { labelid: this.reportForm.value.labelid,
                    artistname: this.reportForm.value.artistname,
                    albumname: this.reportForm.value.albumname,
                    albumyear: this.reportForm.value.albumyear,
                    albumgenre: this.reportForm.value.albumgenre,
                    status: this.reportForm.value.status,
                    page: 1,
                    sortby: null }
            });
        }
    };
    AlbumstatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.albumService.getAggAlbumstats(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.albums = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qartistname = formval.artistname;
                _this.qalbumname = formval.albumname;
                _this.qalbumyear = formval.albumyear;
                _this.qalbumgenre = formval.albumgenre;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Albums Result';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    artistid: _this.qartistname,
                    albumname: _this.qalbumname,
                    albumyear: _this.qalbumyear,
                    albumgenre: _this.qalbumgenre,
                    status: _this.qstatus
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AlbumstatsComponent.prototype.setPage = function (page) {
        this.router.navigate(['albumstats'], {
            queryParams: { labelid: this.qlabelid,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                albumgenre: this.qalbumgenre,
                status: this.qstatus,
                page: page,
                sortby: this.qsort }
        });
    };
    AlbumstatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    AlbumstatsComponent.prototype.sortAlbum = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['albumstats'], {
            queryParams: { labelid: this.qlabelid,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                albumgenre: this.qalbumgenre,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    AlbumstatsComponent.prototype.showAlbum = function (albumid, labelid) {
        this.router.navigate(["viewalbumstats/" + albumid], {
            queryParams: { label: labelid,
                labelid: this.qlabelid,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                albumgenre: this.qalbumgenre,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    AlbumstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-albumstats',
            template: __webpack_require__("./src/app/components/albumstats/albumstats.component.html"),
            styles: [__webpack_require__("./src/app/components/albumstats/albumstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_8__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_7__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_10__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_11__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_12__app_global__["a" /* Globals */]])
    ], AlbumstatsComponent);
    return AlbumstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/albumstats/viewalbumstats/viewalbumstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/albumstats/viewalbumstats/viewalbumstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Album Details</h3>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-8\">\n          <form [formGroup]=\"albumForm\" class=\"form-horizontal\">\n            <div class=\"form-group\">\n                <label for=\"albumname\" class=\"col-sm-2 control-label\">Name</label>\n                <div class=\"form-ele col-sm-10\">{{ album?.albumname }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                    <div class=\"form-ele\">{{ album?.albumname }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"artistname\" class=\"col-sm-2 control-label\">Artist</label>\n                <div class=\"form-ele col-sm-10\">{{ artist?.artistname }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                    <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"albumyear\" class=\"col-sm-2 control-label\">Year</label>\n                <div class=\"form-ele col-sm-10\">{{ album?.albumyear }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                    <div class=\"form-ele\">{{ album?.albumyear }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"albumgenre\" class=\"col-sm-2 control-label\">Genre</label>\n                <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                    <select class=\"form-control selectfontsize\" [formControl]=\"albumgenre\" disabled>\n                        <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                    </select>\n                    <!-- <div class=\"form-ele\">{{ album?.albumgenre }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"albumprice\" class=\"col-sm-2 control-label\">Price</label>\n                <div class=\"form-ele col-sm-10\">{{ album?.albumprice | currency: 'IDR':'symbol-narrow' }}\n                    <!-- <div class=\"input-group-addon\">Rp</div>\n                    <div class=\"form-ele\">{{ album?.albumprice | currency: 'IDR':true }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n                <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control selectfontsize\" [formControl]=\"status\" disabled>\n                        <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                    </select>\n                    <!-- <div class=\"form-ele\">{{ album?.status }}</div> -->\n                </div>\n            </div>\n          </form>\n        </div>\n        <div class=\"col-sm-4 thumbpadding\">\n            <img src=\"{{ album?.albumphotopath }}\" class=\"img-thumbnail thumbviewsize\">\n        </div>\n    </div>\n\n        <div class=\"row\">\n            <div class=\"dtlpadding\" *ngIf=\"songs && totalrows > 0\">\n                <div class=\"col-md-11 col-lg-11\">\n                    <b>( TOTAL : {{ totalrows }} songs ) </b>\n                    <div class=\"table-responsive\">\n                        <table class=\"table table-striped\" width=\"80%\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\" width=\"30%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songname')\">Song Name</a></th>\n                                    <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songpublish')\">Published?</a></th>\n                                    <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songbuy')\">Total Purchase</a></th>\n                                    <th scope=\"col\" width=\"10%\" class=\"text-right\"><a style=\"cursor:pointer\" (click)=\"sortSong('songprice')\">Price</a></th>\n                                    <th scope=\"col\" width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor='let song of songs; let songIndex = index'>\n                                    <td scope=\"row\" data-label=\"Song Title\">{{ song.songname}}</td>\n                                    <td data-label=\"Publish\">{{ song.songpublish}}</td>\n                                    <td data-label=\"Purchase\">{{ song.songbuy}}</td>\n                                    <td data-label=\"Song Price\" class=\"text-right\">{{ song.songprice | currency: 'IDR':'symbol-narrow' }}</td>\n                                    <td data-label=\"Status\">{{ song.stsvalue}}</td>\n                                </tr>\n                                \n                            </tbody>\n                        </table>\n                    </div>\n            \n                    <div style=\"text-align:center\" *ngIf=\"songs && totalrows > 10\">\n                        <nav aria-label=\"Page navigation\">\n                            <ul class=\"pagination\">\n                                <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                                    <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                                </li>\n                            </ul>\n                        </nav>\n                    </div>\n            \n                </div>\n                <div class=\"col-md-1 col-lg-1\"></div>\n            </div>      \n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n        <br>\n  </div>\n"

/***/ }),

/***/ "./src/app/components/albumstats/viewalbumstats/viewalbumstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewalbumstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ViewalbumstatsComponent = /** @class */ (function () {
    function ViewalbumstatsComponent(fb, authService, artistService, albumService, songService, msconfigService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.albumgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ViewalbumstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var albumid = params['id'];
            _this.albumid = albumid;
        });
        console.log(this.albumid);
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.getAlbum(this.albumid);
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['label'] || '';
            _this.qalbumid = params['albumid'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            _this.qalbumid = _this.albumid;
            payload.labelid = _this.qlabelid;
            payload.albumid = _this.qalbumid;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
        });
        this.albumForm = this.fb.group({
            albumgenre: this.albumgenre,
            status: this.status
        });
    };
    ViewalbumstatsComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ViewalbumstatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                    _this.genre = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ViewalbumstatsComponent.prototype.getAlbum = function (id) {
        var _this = this;
        this.albumService.getAlbum(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['login']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.album = data.data[0];
                    _this.getArtistName(_this.album.artistid);
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Album id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewalbumstatsComponent.prototype.populateForm = function (data) {
        this.albumForm.patchValue({
            albumgenre: data.albumgenre,
            status: data.status
        });
    };
    ViewalbumstatsComponent.prototype.getArtistName = function (id) {
        var _this = this;
        this.artistService.getArtist(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artist = data.data[0];
                }
                else {
                    _this.toastr.error('Artist id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewalbumstatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.songService.getSongListstats(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['login']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.songs = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qalbumid = formval.albumid;
                _this.reportTitle = 'Songs Result';
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewalbumstatsComponent.prototype.setPage = function (page) {
        this.router.navigate(["viewalbumstats/" + this.albumid], {
            queryParams: { labelid: this.qlabelid,
                albumid: this.qalbumid,
                page: page,
                sortby: this.qsort }
        });
    };
    ViewalbumstatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ViewalbumstatsComponent.prototype.sortSong = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(["viewalbumstats/" + this.albumid], {
            queryParams: { labelid: this.qlabelid,
                albumid: this.qalbumid,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    ViewalbumstatsComponent.prototype.onBack = function () {
        this.router.navigate(['../albumstats'], { preserveQueryParams: true });
    };
    ViewalbumstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewalbumstats',
            template: __webpack_require__("./src/app/components/albumstats/viewalbumstats/viewalbumstats.component.html"),
            styles: [__webpack_require__("./src/app/components/albumstats/viewalbumstats/viewalbumstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_6__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_4__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_5__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_7__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewalbumstatsComponent);
    return ViewalbumstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/artist/addartist/addartist.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/artist/addartist/addartist.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Add Artist</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <form  [formGroup]=\"addArtistForm\" (ngSubmit)=\"addArtist(addArtistForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addArtistForm.get('artistname').invalid && addArtistForm.get('artistname').dirty}\">\n        <label for=\"artistname\" class=\"col-sm-2 control-label\">Artist Name <sup>*</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n            <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"artistname\" id=\"artistname\" placeholder=\"Artist Name\">\n        </div>\n        <div class=\"text-danger\" *ngIf=\"addArtistForm.get('artistname').dirty && addArtistForm.get('artistname').errors\">\n            <span class=\"col-sm-2\"></span>\n            <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addArtistForm.get('artistname').errors.required\">\n                Please enter the artist name\n            </span>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <label for=\"about\" class=\"col-sm-2 control-label\">About <sup>&nbsp;</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"about\" rows=\"10\" [formControl]=\"about\" placeholder=\"About\"></textarea>\n        </div>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addArtistForm.get('artistimage').invalid && addArtistForm.get('artistimage').dirty}\">\n        <label for=\"artistimage\" class=\"col-sm-2 control-label\">Artist Photo <sup>*</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-file\"></i></div>\n            <input [disabled]=\"this.loading == true\" #inputimg type=\"file\" accept=\"image/*\" (change)=\"fileChangeEvent($event)\" name=\"artistimage\" id=\"artistimage\" placeholder=\"Artistimage\">\n            <span class=\"control-label\" style=\"text-align:bottom;font-size:10px;color:red;\">&nbsp;&nbsp;<u><b>(MAX {{ +this.maxfilesize?.value/1000 }} KB)</b></u></span>\n        </div>\n    </div>\n    <div class=\"form-group\">\n         <label class=\"col-sm-2 control-label\">  </label>\n       <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n       <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n    </div>\n    <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\"></label>\n        <div class=\"col-sm-5\" style=\"padding:0;margin:0;\">\n            <button type=\"submit\" [disabled]=\"addArtistForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n            <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n        </div>\n        <div class=\"col-sm-5\" style=\"text-align:right\">\n            <sup>*</sup> required\n        </div>\n    </div>\n  </form>\n</div>"

/***/ }),

/***/ "./src/app/components/artist/addartist/addartist.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddartistComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var AddartistComponent = /** @class */ (function () {
    function AddartistComponent(fb, authService, artistService, ftService, route, router, toastr, datePipe, globals, msconfigService) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.ftService = ftService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.globals = globals;
        this.msconfigService = msconfigService;
        //status: any = ['active', 'inactive'];
        this.filesToUpload = [];
        this.loading = false;
        this.progressvalue = 0;
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.about = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    AddartistComponent.prototype.ngOnInit = function () {
        this.userObj = this.authService.currentUser;
        this.artistid = '';
        this.artistuploadpath = this.globals.artistuploadpath;
        this.getMsconfigVal('IMGSIZE', 'FSIZE');
        this.progressvalue = 0;
        this.addArtistForm = this.fb.group({
            artistname: this.artistname,
            about: this.about,
            artistimage: this.filesToUpload,
            artistphotopath: this.artistphotopath,
            artistphotoname: this.artistphotoname
        });
    };
    AddartistComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.maxfilesize = data.data[0];
                }
                else {
                    _this.maxfilesize = { code: '', value: '0' };
                }
            }
        }, function (err) {
            _this.maxfilesize = { code: '', value: '0' };
        });
    };
    /*   addArtist(formdata:any): void {
        this.progressvalue = 0;
        const files: Array<File> = this.filesToUpload;
        if (this.addArtistForm.dirty && this.addArtistForm.valid && files[0]) {
          this.progressvalue = 10;
          let theForm = this.addArtistForm.value;
          let lformData: FormData = new FormData();
          //console.log('Ini file: '+ files[0]['name']);
          this.progressvalue = 30;
          lformData.append('fileinputsrc',files[0],files[0]['name']);
          lformData.append('uploadpath',this.artistuploadpath);
          //console.log(lformData.getAll('artistimage'));
          //console.dir(theForm);
          this.loading = true;
          this.progressvalue = 50;
          this.ftService.uploadInputFile(lformData)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                this.progressvalue = 0;
                this.toastr.error(data.message);
              } else {
                  this.progressvalue = 70;
                  theForm.artistphotopath = data.filedata.filepath;
                  theForm.artistphotoname = data.filedata.filename;
                  theForm.status = 'STSACT';
                  this.progressvalue = 90;
                  //console.log('Ini file path: '+ theForm.artistphotopath);
                  if (this.artistid !== '') {
                    theForm.artistid = this.artistid;
                  }
                  this.artistService.saveArtist(this.userObj.userid, theForm)
                  .subscribe(data => {
                    if (data.success === false) {
                      this.loading = false;
                      this.progressvalue = 0;
                      this.toastr.error(data.message);
                    } else {
                      this.loading = false;
                      this.progressvalue = 100;
                      this.toastr.success(data.message);
                      //this.router.navigate(['listartist']);
                    }
                    this.addArtistForm.reset();
                    this.artistimageVar.nativeElement.value = "";
                    this.progressvalue = 0;
                  },
                  err => {
                    this.loading = false;
                    this.progressvalue = 0;
                    //console.log(err);
                    this.toastr.error(err);
                  });
              }
            },
            err => {
              this.progressvalue = 0;
              this.loading = false;
              //console.log(err);
              this.toastr.error(err);
            });
     
        } else {
            this.toastr.error('Please provide artist photo...');
        }
      } */
    AddartistComponent.prototype.addArtist = function (formdata) {
        var _this = this;
        this.progressvalue = 0;
        var files = this.filesToUpload;
        if (this.addArtistForm.dirty && this.addArtistForm.valid && files[0]) {
            this.progressvalue = 10;
            var theForm_1 = this.addArtistForm.value;
            this.artistService.checkArtist(this.userObj.userid, theForm_1)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    _this.toastr.error(data.message);
                }
                else {
                    var lformData = new FormData();
                    //console.log('Ini file: '+ files[0]['name']);
                    _this.progressvalue = 30;
                    lformData.append('fileinputsrc', files[0], files[0]['name']);
                    lformData.append('uploadpath', _this.artistuploadpath);
                    //console.log(lformData.getAll('artistimage'));
                    //console.dir(theForm);
                    _this.loading = true;
                    _this.progressvalue = 50;
                    _this.ftService.uploadInputFile(lformData)
                        .subscribe(function (data) {
                        if (data.success === false) {
                            _this.loading = false;
                            _this.progressvalue = 0;
                            _this.toastr.error(data.message);
                        }
                        else {
                            _this.progressvalue = 70;
                            theForm_1.artistphotopath = data.filedata.filepath;
                            theForm_1.artistphotoname = data.filedata.filename;
                            theForm_1.status = 'STSACT';
                            _this.progressvalue = 90;
                            //console.log('Ini file path: '+ theForm.artistphotopath);
                            if (_this.artistid !== '') {
                                theForm_1.artistid = _this.artistid;
                            }
                            _this.artistService.pubsaveArtist(_this.userObj.userid, theForm_1)
                                .subscribe(function (data) {
                                if (data.success === false) {
                                    _this.loading = false;
                                    _this.progressvalue = 0;
                                    _this.toastr.error(data.message);
                                }
                                else {
                                    _this.loading = false;
                                    _this.progressvalue = 100;
                                    _this.toastr.success(data.message);
                                    //this.router.navigate(['listartist']);
                                }
                                _this.addArtistForm.reset();
                                _this.artistimageVar.nativeElement.value = "";
                                _this.progressvalue = 0;
                            }, function (err) {
                                _this.loading = false;
                                _this.progressvalue = 0;
                                //console.log(err);
                                _this.toastr.error(err);
                            });
                        }
                    }, function (err) {
                        _this.progressvalue = 0;
                        _this.loading = false;
                        //console.log(err);
                        _this.toastr.error(err);
                    });
                }
            }, function (err) {
                _this.progressvalue = 0;
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
        else {
            this.toastr.error('Please provide artist photo...');
        }
    };
    /*   addArtist(formdata:any): void {
        this.progressvalue = 0;
        const files: Array<File> = this.filesToUpload;
        if (this.addArtistForm.dirty && this.addArtistForm.valid && files[0]) {
          this.progressvalue = 10;
          let theForm = this.addArtistForm.value;
          let lformData: FormData = new FormData();
          //console.log('Ini file: '+ files[0]['name']);
          this.progressvalue = 30;
          lformData.append('fileinputsrc',files[0],files[0]['name']);
          lformData.append('uploadpath',this.artistuploadpath);
          lformData.append('artistname',theForm.artistname);
          lformData.append('status','STSACT');
          //console.log(lformData.getAll('artistimage'));
          //console.dir(theForm);
          this.loading = true;
          this.progressvalue = 70;
          this.artistService.addArtist(this.userObj.userid,lformData)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                this.progressvalue = 0;
                this.toastr.error(data.message);
              } else {
                  this.progressvalue = 80;
                  this.progressvalue = 90;
                  this.loading = false;
                  this.progressvalue = 100;
                  this.toastr.success(data.message);
                  this.addArtistForm.reset();
                  this.artistimageVar.nativeElement.value = "";
                  this.progressvalue = 0;
              }
            },
            err => {
              this.progressvalue = 0;
              this.loading = false;
              //console.log(err);
              this.toastr.error(err);
            });
     
        } else {
            this.toastr.error('Please provide artist photo...');
        }
      } */
    AddartistComponent.prototype.fileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        if (~files[0].type.indexOf("image/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.filesToUpload = fileInput.target.files;
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000;
                alert('Error file size. File size is maximum ' + mfsize + ' Kb');
                this.artistimageVar.nativeElement.value = "";
            }
        }
        else {
            alert('Error file type. You must input image file type.');
            this.artistimageVar.nativeElement.value = "";
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputimg'),
        __metadata("design:type", Object)
    ], AddartistComponent.prototype, "artistimageVar", void 0);
    AddartistComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-addartist',
            template: __webpack_require__("./src/app/components/artist/addartist/addartist.component.html"),
            styles: [__webpack_require__("./src/app/components/artist/addartist/addartist.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_6__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_7__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_8__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], AddartistComponent);
    return AddartistComponent;
}());



/***/ }),

/***/ "./src/app/components/artist/editartist/editartist.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/artist/editartist/editartist.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Edit Artist</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"artistForm\" (ngSubmit)=\"saveArtist(artistForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\" [ngClass]=\"{'has-error': artistForm.get('artistname').invalid && artistForm.get('artistname').dirty}\">\n            <label for=\"artistname\" class=\"col-sm-2 control-label\">Name</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Name\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"artistForm.get('artistname').dirty && artistForm.get('artistname').invalid\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter your {{ userObj.username }} artist name</span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"about\" class=\"col-sm-2 control-label\">About</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <textarea class=\"form-control\" [disabled]=\"this.loading == true\" id=\"about\" rows=\"10\" [formControl]=\"about\" placeholder=\"About\"></textarea>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': artistForm.get('status').invalid && artistForm.get('status').dirty}\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"status\">\n                    <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"artistForm.get('status').dirty && artistForm.get('status').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"artistForm.get('status').errors.required\">\n                    Please select artist status\n                </span>\n            </div>\n        </div>\n\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"submit\" [disabled]=\"artistForm.invalid || this.loading == true\" class=\"btn btn-primary\">{{ btnLbl }}</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Back</button>\n            </div>\n        </div>\n    </form>\n  </div>"

/***/ }),

/***/ "./src/app/components/artist/editartist/editartist.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditartistComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var EditartistComponent = /** @class */ (function () {
    function EditartistComponent(fb, authService, artistService, msconfigService, route, router, toastr, datePipe) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.loading = false;
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.about = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    EditartistComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.artistid = params['id'];
            _this.getMsconfigGroupList('CSTATUS');
            _this.getArtist(_this.artistid);
            _this.btnLbl = "Update";
        });
        this.userObj = this.authService.currentUser;
        this.artistForm = this.fb.group({
            artistname: this.artistname,
            status: this.status,
            about: this.about
        });
    };
    EditartistComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.sts = data.data;
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
        });
    };
    EditartistComponent.prototype.getArtist = function (id) {
        var _this = this;
        this.artistService.getArtist(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Artist id is incorrect in the URL');
                    _this.router.navigate(['listartist']);
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['listartist']);
        });
    };
    EditartistComponent.prototype.populateForm = function (data) {
        this.artistForm.patchValue({
            artistname: data.artistname,
            status: data.status,
            about: data.about
        });
    };
    EditartistComponent.prototype.saveArtist = function (formdata) {
        var _this = this;
        if (this.artistForm.valid) {
            var theForm = this.artistForm.value;
            if (this.artistid !== '') {
                theForm.artistid = this.artistid;
            }
            this.loading = true;
            this.artistService.pubsaveArtist(this.userObj.userid, theForm)
                .subscribe(function (data) {
                _this.loading = false;
                if (data.success === false) {
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.toastr.success(data.message);
                }
                if (!_this.artistid) {
                    _this.artistForm.reset();
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    /*   saveArtist(formdata:any): void {
        if (this.artistForm.valid) {
          const theForm:any = this.artistForm.value;
          if (this.artistid !== '') {
            theForm.artistid = this.artistid;
          
          }
          this.loading = true;
          this.artistService.saveArtist(this.userObj.userid,theForm)
            .subscribe(data => {
              this.loading = false;
              if (data.success === false) {
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.toastr.success(data.message);
              }
              if (!this.artistid) {
                this.artistForm.reset();
              }
          },
          err => {
            this.loading = false;
            //console.log(err);
            this.toastr.error(err);
          });
        }
      } */
    EditartistComponent.prototype.onBack = function () {
        this.router.navigate(['/listartist'], { preserveQueryParams: true });
    };
    EditartistComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editartist',
            template: __webpack_require__("./src/app/components/artist/editartist/editartist.component.html"),
            styles: [__webpack_require__("./src/app/components/artist/editartist/editartist.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_6__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"]])
    ], EditartistComponent);
    return EditartistComponent;
}());



/***/ }),

/***/ "./src/app/components/artist/editartistphoto/editartistphoto.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/artist/editartistphoto/editartistphoto.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Change Photo</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <form [formGroup]=\"artistForm\" (ngSubmit)=\"updatePhoto(artistForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n<!--       <div class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('imgpath').invalid && profileForm.get('imgpath').dirty}\">\n          <label for=\"imgpath\" class=\"col-sm-2 control-label\">Image Path</label>\n          <div class=\"input-group col-sm-10\">\n              <input type=\"text\" class=\"form-control\" id=\"imgpath\" [formControl]=\"imgpath\" placeholder=\"Img Path\">\n          </div>\n      </div>\n      <div class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('imgoriname').invalid && profileForm.get('imgoriname').dirty}\">\n          <label for=\"imgoriname\" class=\"col-sm-2 control-label\">Image Oriname</label>\n          <div class=\"input-group col-sm-10\">\n              <input type=\"text\" class=\"form-control\" id=\"imgoriname\" [formControl]=\"imgoriname\" placeholder=\"Img Oriname\">\n          </div>\n      </div> -->\n      <div class=\"form-group\">\n        <div class=\"col-sm-12\">\n            <img src=\"{{ this.displayImg }}\" width=\"170\" height=\"170\">\n        </div>\n      </div>    \n      <div class=\"form-group\">\n        <div class=\"col-sm-12\">\n          <label class=\"control-label\" style=\"color:red;\"><sup>* <u>FILE SIZE (MAX {{ +this.maxfilesize?.value/1000 }} KB)</u></sup></label>    \n          <div class=\"input-group\">\n              <label class=\"input-group-btn\">\n                  <span *ngIf=\"this.loading == false\" class=\"btn btn-primary\">\n                      Browse&hellip; <input [disabled]=\"this.loading == true\" type=\"file\" accept=\"image/*\" (change)=\"fileChangeEvent($event)\" name=\"artistimage\" id=\"artistimage\" style=\"display:none\">\n                  </span>\n              </label>\n              <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" value=\"{{ this.newfile }}\">  \n            </div>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\">  </label>\n      </div>\n      <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\">  </label>\n        <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n        <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n      </div>\n      <div class=\"form-group\">\n          <div class=\"col-sm-12\">\n              <button [disabled]=\"this.loading == true\" type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n          </div>\n      </div>\n  </form>\n</div>"

/***/ }),

/***/ "./src/app/components/artist/editartistphoto/editartistphoto.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditartistphotoComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EditartistphotoComponent = /** @class */ (function () {
    function EditartistphotoComponent(fb, authService, artistService, ftService, route, router, toastr, globals, msconfigService) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.ftService = ftService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.globals = globals;
        this.msconfigService = msconfigService;
        this.filesToUpload = [];
        this.loading = false;
        this.progressvalue = 0;
        this.artistphotopath = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.artistphotoname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    EditartistphotoComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.progressvalue = 0;
        this.artistuploadpath = this.globals.artistuploadpath;
        this.getMsconfigVal('IMGSIZE', 'FSIZE');
        this.artistForm = this.fb.group({
            artistphotopath: this.artistphotopath,
            artistphotoname: this.artistphotoname
        });
        this.route.params.subscribe(function (params) {
            _this.artistid = params['id'];
            _this.getArtist(_this.artistid);
        });
    };
    EditartistphotoComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.maxfilesize = data.data[0];
                }
                else {
                    _this.maxfilesize = { code: '', value: '0' };
                }
            }
        }, function (err) {
            _this.maxfilesize = { code: '', value: '0' };
        });
    };
    EditartistphotoComponent.prototype.getArtist = function (id) {
        var _this = this;
        this.artistService.getArtist(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artist = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Artist id is incorrect in the URL');
                    _this.router.navigate(['listartist']);
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['listartist']);
        });
    };
    EditartistphotoComponent.prototype.populateForm = function (data) {
        this.deletedFilename = this.artist.artistphotoname;
        this.displayImg = this.artist.artistphotopath;
        this.artistForm.patchValue({
            artistphotopath: data.artistphotopath,
            artistphotoname: data.artistphotoname
        });
    };
    EditartistphotoComponent.prototype.fileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        this.progressvalue = 0;
        if (~files[0].type.indexOf("image/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.filesToUpload = fileInput.target.files;
                this.newfile = this.filesToUpload[0]['name'];
                //console.log('content file: ' + this.filesToUpload);
                this.uploadNewPhoto(this.filesToUpload);
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000;
                alert('Error file size. File size is maximum ' + mfsize + ' Kb');
            }
        }
        else {
            alert('Error file type. You must input image file type.');
        }
    };
    EditartistphotoComponent.prototype.uploadNewPhoto = function (newFileData) {
        var _this = this;
        var files = newFileData;
        var lformData = new FormData();
        this.progressvalue = 10;
        lformData.append('fileinputsrc', files[0], files[0]['name']);
        lformData.append('uploadpath', this.artistuploadpath);
        this.loading = true;
        this.progressvalue = 30;
        this.ftService.uploadInputFile(lformData)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.progressvalue = 0;
                _this.toastr.error(data.message);
            }
            else {
                _this.progressvalue = 50;
                _this.displayImg = data.filedata.filepath;
                var payloadData = {};
                payloadData.uploadpath = _this.artistuploadpath;
                payloadData.oldartistphotoname = _this.artistForm.value.artistphotoname;
                payloadData.artistphotoname = data.filedata.filename;
                payloadData.artistphotopath = data.filedata.filepath;
                payloadData.labelid = _this.userObj.userid;
                _this.progressvalue = 80;
                _this.artistService.pubupdateArtistphoto(_this.artistid, payloadData)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.loading = false;
                        _this.progressvalue = 100;
                        //console.log('Success update database photo - ' + this.displayImg)
                        _this.toastr.success(data.message);
                        _this.progressvalue = 0;
                    }
                }, function (err) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
        }, function (err) {
            _this.loading = false;
            _this.progressvalue = 0;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    /*   uploadNewPhoto(newFileData:any): void {
        const files: Array<File> = newFileData;
        let lformData: FormData = new FormData();
        this.progressvalue = 10;
        lformData.append('fileinputsrc',files[0],files[0]['name']);
        lformData.append('uploadpath',this.artistuploadpath);
        lformData.append('artistphotoname',this.artistForm.value.artistphotoname);
        lformData.append('labelid',this.userObj.userid);
        this.loading = true;
        this.progressvalue = 30;
        this.artistService.pubupdateArtistphoto(this.artistid, lformData)
        .subscribe(data => {
          if (data.success === false) {
            this.loading = false;
            this.progressvalue = 0;
            this.toastr.error(data.message);
          } else {
            this.loading = false;
            this.progressvalue = 50;
            //this.displayImg = data.filedata.filepath;
            this.progressvalue = 70;
            this.progressvalue = 80;
            this.progressvalue = 100;
            this.toastr.success(data.message);
            this.progressvalue = 0;
            this.router.navigate(['/listartist'], { preserveQueryParams: true });
          }
        },
        err => {
          this.loading = false;
          this.progressvalue = 0;
          //console.log(err);
          this.toastr.error(err);
        });
      } */
    /*   uploadNewPhoto(newFileData:any): void {
        const files: Array<File> = newFileData;
        let lformData: FormData = new FormData();
        this.progressvalue = 10;
        lformData.append('fileinputsrc',files[0],files[0]['name']);
        lformData.append('uploadpath',this.artistuploadpath);
        this.loading = true;
        this.progressvalue = 30;
        this.ftService.uploadInputFile(lformData)
        .subscribe(data => {
          if (data.success === false) {
            this.loading = false;
            this.progressvalue = 0;
            this.toastr.error(data.message);
          } else {
            this.progressvalue = 50;
            this.displayImg = data.filedata.filepath;
            let payloadData: any = {};
            payloadData.uploadpath = this.artistuploadpath;
            payloadData.filename = this.artistForm.value.artistphotoname;
            this.progressvalue = 70;
            this.ftService.deleteInputFile(payloadData)
            .subscribe(data => {
               if (data.success === false) {
                  //this.toastr.error(data.message);
                  this.progressvalue = 0;
                  console.log('Error deleted ' + data.message);
                } else {
                  console.log('File deleted - ' + payloadData.filename);
                }
              },
              err => {
                console.log(err);
              });
            this.progressvalue = 80;
            this.artistForm.value.artistphotopath = data.filedata.filepath;
            this.artistForm.value.artistphotoname = data.filedata.filename;
    
            //console.log('Update database photo - ' + this.displayImg);
            this.artistService.updateArtistphoto(this.artistid, this.artistForm.value)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                this.progressvalue = 0;
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.loading = false;
                this.progressvalue = 100;
                //console.log('Success update database photo - ' + this.displayImg)
                this.toastr.success(data.message);
                this.progressvalue = 0;
              }
            },
            err => {
              this.loading = false;
              this.progressvalue = 0;
              //console.log(err);
              this.toastr.error(err);
            });
    
          }
        },
        err => {
          this.loading = false;
          this.progressvalue = 0;
          //console.log(err);
          this.toastr.error(err);
        });
      } */
    EditartistphotoComponent.prototype.onBack = function () {
        this.router.navigate(['/listartist'], { preserveQueryParams: true });
    };
    EditartistphotoComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editartistphoto',
            template: __webpack_require__("./src/app/components/artist/editartistphoto/editartistphoto.component.html"),
            styles: [__webpack_require__("./src/app/components/artist/editartistphoto/editartistphoto.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_7__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], EditartistphotoComponent);
    return EditartistphotoComponent;
}());



/***/ }),

/***/ "./src/app/components/artist/listartist/listartist.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/artist/listartist/listartist.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>List Artist</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-7 col-md-7\">\n                        <label for=\"artistname\" class=\"col-sm-2 paddingsearch\">Name</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Artist Name\">\n                        </div>\n                    </div>\n                    <div class=\"col-sm-5 col-md-5\">\n                        <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                            <select class=\"form-control\" [formControl]=\"status\">\n                                <option ng-selected=\"true\" value=\"\">Select the status</option>\n                                <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-7 col-md-7\">\n                        <label for=\"submit\" class=\"col-sm-2 paddingsearch\">      </label>\n                        <div class=\"col-sm-5\">\n                            <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                        </div>\n                    </div> \n                </div>\n            </form>\n        </div>\n    </div>\n  \n    <div class=\"panel panel-danger\" *ngIf=\"artists && totalrows < 1\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">No artist found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n            It seems like you havn't entered any artists for the selected criteria. Please add the artist <a style=\"cursor:pointer\" (click)=\"toaddArtists()\">here</a>.\n        </div>\n    </div>\n  \n  \n    <div class=\"panel panel-default\" *ngIf=\"artists && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"50%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortArtist('artistname')\">Artist Name</a></th>\n                            <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortArtist('status')\">Status</a></th>\n                            <th width=\"20%\" scope=\"col\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let artst of artists; let artIndex = index'>\n                            <td scope=\"row\" data-label=\"Artist Name\"><a style=\"cursor:pointer\" (click)=\"showArtist(artst._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ artst.artistname}}</a></td>\n                            <td data-label=\"Status\">{{ artst.stsvalue}}</td>\n                            <td data-label=\"Action\">\n                                <button type=\"button\" class=\"btn-xs btn-info\" aria-label=\"View\" (click)=\"editArtistPhoto(artst._id)\">\n                                    <span class=\"glyphicon glyphicon-edit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Artist Photo\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn-xs btn-danger\" aria-label=\"Edit\" (click)=\"editArtist(artst._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Artist Data\">\n                                    <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn-xs btn-primary\" aria-label=\"Delete\" (click)=\"confirmDel(artIndex, artst._id, artst.artistname,artst.artistphotoname)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete Artist\">\n                                    <span class=\"glyphicon glyphicon-trash\" aria-hidden=\"true\"></span>\n                                </button>\n                            </td>\n                        </tr>\n                        \n                    </tbody>\n                </table>\n            </div>\n  \n            <div style=\"text-align:center\" *ngIf=\"artists && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\"class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n  \n        </div>\n    </div>\n  </div>"

/***/ }),

/***/ "./src/app/components/artist/listartist/listartist.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListartistComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var ListartistComponent = /** @class */ (function () {
    function ListartistComponent(fb, authService, artistService, albumService, ftService, msconfigService, route, router, toastr, datePipe, globals) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.ftService = ftService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.globals = globals;
        /*   sts: any = [  {id: '',desc: 'Select option'},
                        {id: 'active', desc: 'active'},
                        {id: 'inactive', desc: 'inactive'}
                      ]; */
        this.loading = false;
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    //startdt = new FormControl({value: '', disabled: true});
    ListartistComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.artistuploadpath = this.globals.artistuploadpath;
        this.reportForm = this.fb.group({
            artistname: this.artistname,
            status: this.status
        });
        this.route.queryParams.forEach(function (params) {
            _this.qartistname = params['artistname'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            _this.getMsconfigGroupList('CSTATUS');
            var payload = {};
            payload.status = _this.qstatus;
            payload.artistname = _this.qartistname;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
        });
    };
    ListartistComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.sts = data.data;
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ListartistComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.userObj.userid, this.reportForm.value);
            this.router.navigate(['listartist'], {
                queryParams: { artistname: this.reportForm.value.artistname, status: this.reportForm.value.status, page: 1, sortby: null }
            });
        }
    };
    ListartistComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.artistService.getAggArtists(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                //this.artists = data.data.docs;
                _this.artists = data.data;
                //this.totalrows = +data.data.total;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qartistname = formval.artistname;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Artists Result';
                _this.reportForm.patchValue({
                    artistname: _this.qartistname,
                    status: _this.qstatus
                });
                /* if (formval.status === 'active') {
                  this.reportTitle = 'Selected active Artists'
                } else {
                  this.reportTitle = 'Selected inactive Artists'
                } */
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListartistComponent.prototype.setPage = function (page) {
        this.router.navigate(['listartist'], {
            queryParams: { artistname: this.qartistname, status: this.qstatus, page: page, sortby: this.qsort }
        });
    };
    ListartistComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ListartistComponent.prototype.showArtist = function (artistid) {
        this.router.navigate(["viewartist/" + artistid], {
            queryParams: { artistname: this.qartistname, status: this.qstatus, page: this.qpage || 1, sortby: this.qsort }
        });
    };
    ListartistComponent.prototype.confirmDel = function (idx, artistid, artistname, artistphotoname) {
        var _this = this;
        var totalalbum;
        var payload = {};
        payload.artistid = artistid;
        this.loading = true;
        this.albumService.getArtistAlbums(this.userObj.userid, payload)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                totalalbum = +data.totalcount;
                if (totalalbum > 0) {
                    _this.toastr.warning('Can not delete artist. It already has albums.');
                }
                else {
                    if (confirm('Do you really want to delete this artist: ' + artistname + ' record?')) {
                        var payloadData = {};
                        payloadData.artistphotoname = artistphotoname;
                        payloadData.uploadpath = _this.artistuploadpath;
                        payloadData.labelid = _this.userObj.userid;
                        _this.loading = true;
                        _this.artistService.pubdeleteArtist(artistid, payloadData)
                            .subscribe(function (data) {
                            if (data.success === false) {
                                _this.loading = false;
                                if (data.errcode) {
                                    _this.authService.logout();
                                    _this.router.navigate(['errorpage']);
                                }
                                _this.toastr.error(data.message);
                            }
                            else {
                                _this.loading = false;
                                _this.artists.splice(idx, 1);
                                _this.totalrows = _this.totalrows - 1;
                                _this.toastr.success(data.message);
                            }
                        }, function (err) {
                            _this.loading = false;
                            //console.log(err);
                            _this.toastr.error(err);
                        });
                    }
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    /*   confirmDel(idx: number, artistid: string, artistname:string, artistphotoname:string) {
        var totalalbum: number;
        
        let payload: any = {};
        payload.artistid = artistid;
        this.loading = true;
        this.albumService.getArtistAlbums(this.userObj.userid, payload)
        .subscribe(data => {
          if (data.success === false) {
            this.loading = false;
            this.toastr.error(data.message);
          } else {
            this.loading = false;
            totalalbum = +data.totalcount;
            if (totalalbum > 0) {
              this.toastr.warning('Can not delete artist. It already has albums.');
            } else {
              if(confirm('Do you really want to delete this artist: ' + artistname + ' record?')){
                let payloadData: any = {};
                payloadData.uploadpath = this.artistuploadpath;
                payloadData.filename = artistphotoname;
                this.loading = true;
                this.ftService.deleteInputFile(payloadData)
                .subscribe(data => {
                   if (data.success === false) {
                    this.loading = false;
                      if (data.errcode){
                        this.authService.logout();
                        this.router.navigate(['errorpage']);
                      }
                      this.toastr.error(data.message);
                    } else {
                      this.artistService.deleteArtist(artistid)
                      .subscribe(data => {
                        if (data.success === false) {
                          this.loading = false;
                          if (data.errcode){
                            this.authService.logout();
                            this.router.navigate(['errorpage']);
                          }
                          this.toastr.error(data.message);
                        } else {
                          this.loading = false;
                          this.artists.splice(idx, 1);
                          this.totalrows = this.totalrows - 1;
                          this.toastr.success(data.message);
                        }
                      },
                      err => {
                        this.loading = false;
                        //console.log(err);
                        this.toastr.error(err);
                      });
                    }
                  },
                  err => {
                    this.loading = false;
                    //console.log(err);
                    this.toastr.error(err);
                  });
              }
            }
          }
        },
        err => {
          this.loading = false;
          //console.log(err);
          this.toastr.error(err);
        });
      } */
    ListartistComponent.prototype.editArtist = function (artistid) {
        this.router.navigate(["editartist/" + artistid], {
            queryParams: { artistname: this.qartistname, status: this.qstatus, page: this.qpage || 1, sortby: this.qsort }
        });
    };
    ListartistComponent.prototype.editArtistPhoto = function (artistid) {
        this.router.navigate(["editartistphoto/" + artistid], {
            queryParams: { artistname: this.qartistname, status: this.qstatus, page: this.qpage || 1, sortby: this.qsort }
        });
    };
    ListartistComponent.prototype.sortArtist = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['listartist'], {
            queryParams: { artistname: this.qartistname, status: this.qstatus, page: this.qpage || 1, sortby: this.qsort }
        });
    };
    ListartistComponent.prototype.toaddArtists = function () {
        this.router.navigate(['/addartist']);
    };
    ListartistComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-listartist',
            template: __webpack_require__("./src/app/components/artist/listartist/listartist.component.html"),
            styles: [__webpack_require__("./src/app/components/artist/listartist/listartist.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_7__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_9__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_10__app_global__["a" /* Globals */]])
    ], ListartistComponent);
    return ListartistComponent;
}());



/***/ }),

/***/ "./src/app/components/artist/viewartist/viewartist.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/artist/viewartist/viewartist.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Artist Details</h3>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-8\">\n        <form [formGroup]=\"artistForm\" class=\"form-horizontal\">\n            <div class=\"form-group\">\n                <label for=\"artistname\" class=\"col-sm-2 control-label\">Name</label>\n                <div class=\"col-sm-10 form-ele\">{{ artist?.artistname }}\n                  <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                    <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"about\" class=\"col-sm-2 control-label\">About</label>\n                <div class=\"form-ele col-sm-10\">{{ artist?.about }}</div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n                <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control selectfontsize\" [formControl]=\"status\" disabled>\n                          <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                    </select>\n                    <!-- <div class=\"form-ele\">{{ artist?.status }}</div> -->\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class=\"col-sm-4 thumbpadding\">        \n        <img src=\"{{ artist?.artistphotopath }}\" class=\"img-thumbnail thumbviewsize\">\n    </div>\n  </div>\n  \n    <div class=\"row\">\n        <div class=\"dtlpadding\" *ngIf=\"albums && totalrows > 0\">\n            <div class=\"col-md-11 col-lg-11\">\n                <b>( TOTAL : {{ totalrows }} albums ) </b> \n                <div class=\"table-responsive\">\n                    <table class=\"table table-striped\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\" width=\"30%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumname')\">Album Name</a></th>\n                                <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumyear')\">Year</a></th>\n                                <th scope=\"col\" width=\"9%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumgenre')\">Genre</a></th>\n                                <th scope=\"col\" width=\"10%\" class=\"text-right\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumprice')\">Price</a></th>\n                                <th scope=\"col\" width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor='let albm of albums; let albIndex = index'>\n                                <td scope=\"row\" data-label=\"Album Name\">{{ albm.albumname}}</td>\n                                <td data-label=\"Album Year\">{{ albm.albumyear}}</td>\n                                <td data-label=\"Genre\">{{ albm.genrevalue}}</td>\n                                <td data-label=\"Album Price\" class=\"text-right\">{{ albm.albumprice | currency: 'IDR':'symbol-narrow' }}</td>\n                                <td data-label=\"Status\">{{ albm.stsvalue}}</td>\n                            </tr>\n                            \n                        </tbody>\n                    </table>\n                </div>\n    \n                <div style=\"text-align:center\" *ngIf=\"albums && totalrows > 10\">\n                    <nav aria-label=\"Page navigation\">\n                        <ul class=\"pagination\">\n                            <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                                <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                            </li>\n                        </ul>\n                    </nav>\n                </div>\n    \n            </div>\n            <div class=\"col-md-1 col-lg-11\"></div>\n        </div>      \n    </div>\n\n      <div class=\"row\">\n          <div class=\"col-sm-12\">\n              <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n          </div>\n          <br>\n      </div>\n\n</div>\n"

/***/ }),

/***/ "./src/app/components/artist/viewartist/viewartist.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewartistComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ViewartistComponent = /** @class */ (function () {
    function ViewartistComponent(fb, authService, artistService, albumService, msconfigService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ViewartistComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var artistid = params['id'];
            _this.artistid = artistid;
            _this.getMsconfigGroupList('CSTATUS');
            _this.getArtist(artistid);
        });
        this.route.queryParams.forEach(function (params) {
            _this.qartistid = params['artistid'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            _this.qartistid = _this.artistid;
            payload.artistid = _this.qartistid;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
        });
        this.artistForm = this.fb.group({
            status: this.status
        });
    };
    ViewartistComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ViewartistComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.sts = data.data;
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ViewartistComponent.prototype.getArtist = function (id) {
        var _this = this;
        this.artistService.getArtist(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.artist = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Artist id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewartistComponent.prototype.populateForm = function (data) {
        this.artistForm.patchValue({
            status: data.status
        });
    };
    ViewartistComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.albumService.getArtistAlbums(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.albums = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qartistid = formval.artistid;
                _this.reportTitle = 'Albums Result';
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewartistComponent.prototype.setPage = function (page) {
        this.router.navigate(["viewartist/" + this.artistid], {
            queryParams: { artistid: this.qartistid,
                page: page,
                sortby: this.qsort }
        });
    };
    ViewartistComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ViewartistComponent.prototype.sortAlbum = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(["viewartist/" + this.artistid], {
            queryParams: { artistid: this.qartistid,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    ViewartistComponent.prototype.onBack = function () {
        this.router.navigate(['/listartist'], { preserveQueryParams: true });
    };
    ViewartistComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewartist',
            template: __webpack_require__("./src/app/components/artist/viewartist/viewartist.component.html"),
            styles: [__webpack_require__("./src/app/components/artist/viewartist/viewartist.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_4__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_6__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewartistComponent);
    return ViewartistComponent;
}());



/***/ }),

/***/ "./src/app/components/artiststats/artiststats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/artiststats/artiststats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Artists</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Search Parameter</h3>\n    </div>\n    <div class=\"panel-body\">\n        <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"labelid\">\n                            <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                            <option value=\"\">Select the label</option>\n                            <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                        </select>\n                      </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"artistname\" class=\"col-sm-2 paddingsearch\">Name</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Artist Name\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"status\">\n                            <option ng-selected=\"true\" value=\"\">Select the status</option>\n                            <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"submit\" class=\"col-sm-2 paddingsearch\">      </label>\n                    <div class=\"col-sm-5\">\n                        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                    </div>\n                </div> \n            </div>\n        </form>\n    </div>\n  </div>\n  <div class=\"panel panel-danger\" *ngIf=\"artists && totalrows < 1\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No artist found</h3> \n      </div>\n\n      <div class=\"panel-body\">\n          It seems there is NO artists entered yet for the selected criteria.\n      </div>\n  </div>\n\n  <div class=\"panel panel-default\" *ngIf=\"artists && totalrows > 0 && this.loading == false\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n      </div>\n      <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th width=\"40%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortArtist('artistname')\">Artist Name</a></th>\n                          <th width=\"40%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortArtist('labelid')\">Label</a></th>\n                          <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortArtist('status')\">Status</a></th>\n                          <!-- <th width=\"20%\">Action</th> -->\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let artst of artists; let artIndex = index'>\n                          <td scope=\"row\" data-label=\"Artist Name\"><a style=\"cursor:pointer\" (click)=\"showArtist(artst._id, artst.labelid)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ artst.artistname}}</a></td>\n                          <td data-label=\"Label\">{{ artst.label}}</td>\n                          <td data-label=\"Status\">{{ artst.stsvalue}}</td>\n<!--                           <td>\n                              <button type=\"button\" class=\"btn-xs btn-info\" aria-label=\"View\" (click)=\"editArtistPhoto(artst._id)\">\n                                  <span class=\"glyphicon glyphicon-edit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Artist Photo\"></span>\n                              </button>\n                              <button type=\"button\" class=\"btn-xs btn-danger\" aria-label=\"Edit\" (click)=\"editArtist(artst._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Artist Data\">\n                                  <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>\n                              </button>\n                              <button type=\"button\" class=\"btn-xs btn-primary\" aria-label=\"Delete\" (click)=\"confirmDel(artIndex, artst._id, artst.artistname,artst.artistphotoname)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete Artist\">\n                                  <span class=\"glyphicon glyphicon-trash\" aria-hidden=\"true\"></span>\n                              </button>\n                          </td> -->\n                      </tr>\n                      \n                  </tbody>\n              </table>\n          </div>\n\n          <div style=\"text-align:center\" *ngIf=\"artists && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\"class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div>\n\n      </div>\n  </div>\n\n</div>"

/***/ }),

/***/ "./src/app/components/artiststats/artiststats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ArtiststatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var ArtiststatsComponent = /** @class */ (function () {
    function ArtiststatsComponent(fb, authService, labelmgtService, artistService, albumService, ftService, msconfigService, route, router, toastr, datePipe, globals) {
        this.fb = fb;
        this.authService = authService;
        this.labelmgtService = labelmgtService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.ftService = ftService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.globals = globals;
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    ArtiststatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.artistuploadpath = this.globals.artistuploadpath;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            artistname: this.artistname,
            status: this.status
        });
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qartistname = params['artistname'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            _this.getMsconfigGroupList('CSTATUS');
            _this.getLabels();
            var payload = {};
            payload.labelid = _this.qlabelid;
            payload.status = _this.qstatus;
            payload.artistname = _this.qartistname;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
        });
    };
    ArtiststatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.sts = data.data;
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ArtiststatsComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Error label list' }];
                }
            }
        }, function (err) {
            _this.userlist = [{ _id: '', name: 'Error label list' }];
        });
    };
    ArtiststatsComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.userObj.userid, this.reportForm.value);
            this.router.navigate(['artiststats'], {
                queryParams: { labelid: this.reportForm.value.labelid, artistname: this.reportForm.value.artistname, status: this.reportForm.value.status, page: 1, sortby: null }
            });
        }
    };
    ArtiststatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.artistService.getAggArtiststats(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                //this.artists = data.data.docs;
                _this.artists = data.data;
                //this.totalrows = +data.data.total;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qartistname = formval.artistname;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Artists Result';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    artistname: _this.qartistname,
                    status: _this.qstatus
                });
                /* if (formval.status === 'active') {
                  this.reportTitle = 'Selected active Artists'
                } else {
                  this.reportTitle = 'Selected inactive Artists'
                } */
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ArtiststatsComponent.prototype.setPage = function (page) {
        this.router.navigate(['artiststats'], {
            queryParams: { labelid: this.qlabelid, artistname: this.qartistname, status: this.qstatus, page: page, sortby: this.qsort }
        });
    };
    ArtiststatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ArtiststatsComponent.prototype.sortArtist = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['artiststats'], {
            queryParams: { labelid: this.qlabelid, artistname: this.qartistname, status: this.qstatus, page: this.qpage || 1, sortby: this.qsort }
        });
    };
    ArtiststatsComponent.prototype.showArtist = function (artistid, labelid) {
        //console.log(artistid + '  ' + labelid);
        this.router.navigate(["viewartiststats/" + artistid], {
            queryParams: { label: labelid,
                labelid: this.qlabelid,
                artistname: this.qartistname,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    ArtiststatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-artiststats',
            template: __webpack_require__("./src/app/components/artiststats/artiststats.component.html"),
            styles: [__webpack_require__("./src/app/components/artiststats/artiststats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_8__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_6__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_7__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_10__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_11__app_global__["a" /* Globals */]])
    ], ArtiststatsComponent);
    return ArtiststatsComponent;
}());



/***/ }),

/***/ "./src/app/components/artiststats/viewartiststats/viewartiststats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/artiststats/viewartiststats/viewartiststats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Artist Details</h3>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-sm-8\">\n          <form [formGroup]=\"artistForm\" class=\"form-horizontal\">\n              <div class=\"form-group\">\n                  <label for=\"artistname\" class=\"col-sm-2 control-label\">Name</label>\n                  <div class=\"col-sm-10 form-ele\">{{ artist?.artistname }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                      <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                  </div>\n              </div>\n              <div class=\"form-group\">\n                    <label for=\"about\" class=\"col-sm-2 control-label\">About</label>\n                    <div class=\"form-ele col-sm-10\">{{ artist?.about }}</div>\n                </div>\n              <div class=\"form-group\">\n                  <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n                  <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control selectfontsize\" [formControl]=\"status\" disabled>\n                            <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                      </select>\n                      <!-- <div class=\"form-ele\">{{ artist?.status }}</div> -->\n                  </div>\n              </div>\n          </form>\n      </div>\n      <div class=\"col-sm-4 thumbpadding\">        \n          <img src=\"{{ artist?.artistphotopath }}\" class=\"img-thumbnail thumbviewsize\">\n      </div>\n    </div>\n    \n      <div class=\"row\">\n          <div class=\"dtlpadding\" *ngIf=\"albums && totalrows > 0\">\n                <div class=\"col-md-11 col-lg-11\">\n                  <b>( TOTAL : {{ totalrows }} albums ) </b>\n                  <div class=\"table-responsive\">\n                      <table class=\"table table-striped\">\n                          <thead>\n                              <tr>\n                                  <th scope=\"col\" width=\"30%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumname')\">Album Name</a></th>\n                                  <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumyear')\">Year</a></th>\n                                  <th scope=\"col\" width=\"9%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumgenre')\">Genre</a></th>\n                                  <th scope=\"col\" width=\"10%\" class=\"text-right\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('albumprice')\">Price</a></th>\n                                  <th scope=\"col\" width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th>\n                              </tr>\n                          </thead>\n                          <tbody>\n                              <tr *ngFor='let albm of albums; let albIndex = index'>\n                                  <td scope=\"row\" data-label=\"Album Name\">{{ albm.albumname}}</td>\n                                  <td data-label=\"Album Year\">{{ albm.albumyear}}</td>\n                                  <td data-label=\"Genre\">{{ albm.genrevalue}}</td>\n                                  <td data-label=\"Album Price\" class=\"text-right\">{{ albm.albumprice | currency: 'IDR':'symbol-narrow' }}</td>\n                                  <td data-label=\"Status\">{{ albm.stsvalue}}</td>\n                              </tr>\n                              \n                          </tbody>\n                      </table>\n                  </div>\n      \n                  <div style=\"text-align:center\" *ngIf=\"albums && totalrows > 10\">\n                      <nav aria-label=\"Page navigation\">\n                          <ul class=\"pagination\">\n                              <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                                  <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                              </li>\n                          </ul>\n                      </nav>\n                  </div>\n      \n              </div>\n              <div class=\"col-md-1 col-lg-1\"></div>\n          </div>      \n      </div>\n  \n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n            <br>\n        </div>\n  \n  </div>\n  "

/***/ }),

/***/ "./src/app/components/artiststats/viewartiststats/viewartiststats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewartiststatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ViewartiststatsComponent = /** @class */ (function () {
    function ViewartiststatsComponent(fb, authService, artistService, albumService, msconfigService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ViewartiststatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var artistid = params['id'];
            _this.artistid = artistid;
            _this.getMsconfigGroupList('CSTATUS');
            _this.getArtist(artistid);
        });
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['label'] || '';
            _this.qartistid = params['artistid'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            _this.qartistid = _this.artistid;
            payload.labelid = _this.qlabelid;
            payload.artistid = _this.qartistid;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
        });
        this.artistForm = this.fb.group({
            status: this.status
        });
    };
    ViewartiststatsComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ViewartiststatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.sts = data.data;
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
        });
    };
    ViewartiststatsComponent.prototype.getArtist = function (id) {
        var _this = this;
        this.artistService.getArtist(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.artist = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Artist id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewartiststatsComponent.prototype.populateForm = function (data) {
        this.artistForm.patchValue({
            status: data.status
        });
    };
    ViewartiststatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.albumService.getArtistAlbumsStats(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.albums = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qartistid = formval.artistid;
                _this.reportTitle = 'Albums Result';
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewartiststatsComponent.prototype.setPage = function (page) {
        this.router.navigate(["viewartiststats/" + this.artistid], {
            queryParams: { labelid: this.qlabelid,
                artistid: this.qartistid,
                page: page,
                sortby: this.qsort }
        });
    };
    ViewartiststatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ViewartiststatsComponent.prototype.sortAlbum = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(["viewartiststats/" + this.artistid], {
            queryParams: { labelid: this.qlabelid,
                artistid: this.qartistid,
                page: this.qpage || 1,
                sortby: this.qsort }
        });
    };
    ViewartiststatsComponent.prototype.onBack = function () {
        this.router.navigate(['../artiststats'], { preserveQueryParams: true });
    };
    ViewartiststatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewartiststats',
            template: __webpack_require__("./src/app/components/artiststats/viewartiststats/viewartiststats.component.html"),
            styles: [__webpack_require__("./src/app/components/artiststats/viewartiststats/viewartiststats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_4__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_6__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewartiststatsComponent);
    return ViewartiststatsComponent;
}());



/***/ }),

/***/ "./src/app/components/dashboard/dashboard.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/dashboard/dashboard.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Dashboard</h3>\n  </div>\n\n  <form class=\"form-horizontal\">\n    <div *ngIf=\"chart\">\n        <canvas id=\"canvas\"> {{ chart }}</canvas>\n    </div>\n    <div *ngIf=\"chart?.length <= 0\">\n        <div class=\"form-group\">\n            <label for=\"labelname\" class=\"control-label\">Name</label>\n            <div class=\"input-group col-sm-12\">\n                <div class=\"input-group-addon\">\n                    <i class=\"glyphicon glyphicon-user\"></i>\n                </div>\n                <div class=\"form-ele\">{{ this.name }}</div>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"email\" class=\"control-label\">Email</label>\n            <div class=\"input-group col-sm-12\">\n                <div class=\"input-group-addon\">@</div>\n                <div class=\"form-ele\">{{ this.email }}</div>\n            </div>\n        </div>\n        <div class=\"form-group\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\">\n            <label for=\"contactno\" class=\"control-label\">Contact No</label>\n            <div class=\"input-group col-sm-12\">\n                <div class=\"input-group-addon\">\n                    <i class=\"glyphicon glyphicon-earphone\"></i>\n                </div>\n                <div class=\"form-ele\">{{ this.contactno }}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\">\n        <div class=\"col-xs-12 col-sm-6 col-md-6\">\n            <label for=\"balance\" class=\"control-label\">Balance</label>\n            <div class=\"input-group col-sm-12\"> \n                <button style=\"padding:5px;\"type=\"button\" (click)=\"viewlabelbalance(this.name)\" [disabled]=\"this.loading == true\" class=\"btn btn-primary\">View balance</button>\n                &nbsp;\n                <button style=\"padding:5px;\"type=\"button\" (click)=\"trflabelbalance()\" [disabled]=\"this.loading == true\" class=\"btn btn-primary\">Transfer balance</button>\n            </div>\n        </div>\n    </div>\n    <hr style=\"color:#333\">\n    <div class=\"form-group\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\">\n      <div class=\"input-group col-xs-12\">\n        <div class=\"col-xs-12 col-sm-6 col-md-6\">\n        <div class=\"panel panel-info\">\n            <div class=\"panel-heading\">\n                <h3 class=\"panel-title\">Total Assets</h3>\n            </div>\n            <div class=\"panel-body\">\n                <ul class=\"list-group\">\n                    <a style=\"cursor:pointer\" (click)=\"toArtists()\" class=\"list-group-item borderless bordersideless\">Total active artists <span class=\"badge\"><b><i>{{ this.totalrows }}</i></b></span></a>\n                    <a style=\"cursor:pointer\" (click)=\"toAlbums()\" class=\"list-group-item bordersideless\">Total active albums <span class=\"badge\"><b><i>{{ this.totalalbums }}</i></b></span></a>\n                    <a style=\"cursor:pointer\" (click)=\"toSongs()\" class=\"list-group-item bordersideless\">Total active songs <span class=\"badge\"><b><i>{{ this.totalsongs }}</i></b></span></a>\n                </ul>\n            </div>\n        </div>\n      </div>  \n      <div class=\"col-xs-12 col-sm-6 col-md-6\">\n        <div class=\"panel panel-info\">\n            <div class=\"panel-heading\">\n                <h3 class=\"panel-title\">Transactions</h3>\n            </div>\n            <div class=\"panel-body\">\n                <ul class=\"list-group\">\n                    <a style=\"cursor:pointer\" (click)=\"toPendingSongpurchase()\" class=\"list-group-item borderless bordersideless\">Pending purchase <span class=\"badge\"><b><i>{{ this.totalpendingpurchase }}</i></b></span></a>\n                    <a style=\"cursor:pointer\" routerLink=\"../transaction\" routerLinkActive=\"active\" class=\"list-group-item bordersideless\">View Transactions</a>\n                    <a style=\"cursor:pointer\" routerLink=\"../othertransaction\" routerLinkActive=\"active\" class=\"list-group-item bordersideless\">View Bank Transfer/Adjustment</a>\n                    <a style=\"cursor:pointer\" routerLink=\"../activitylog\" routerLinkActive=\"active\" class=\"list-group-item bordersideless\">View Activity Log</a>\n                </ul>\n            </div>\n        </div>\n      </div>\n    </div>\n    </div>\n    \n    <div class=\"form-group\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'ADM'\">\n        <div class=\"input-group col-xs-12\">\n        <div class=\"col-xs-12 col-sm-6 col-md-6\">\n            <div class=\"panel panel-info\">\n                <div class=\"panel-heading\">\n                    <h3 class=\"panel-title\">Approval Summary</h3>\n                </div>\n                <div class=\"panel-body\">\n                    <ul class=\"list-group\">\n                        <a style=\"cursor:pointer\" (click)=\"toLabelApv()\" class=\"list-group-item borderless bordersideless\">Total pending labels <span class=\"badge\"><b><i>{{ this.totalpendinglabel }}</i></b></span></a>\n                        <a style=\"cursor:pointer\" (click)=\"toSongMgt()\" class=\"list-group-item bordersideless\">Total pending to publish songs <span class=\"badge\"><b><i>{{ this.totalpendingsong }}</i></b></span></a>\n                    </ul>\n                </div>\n            </div>\n        </div>  \n        <div class=\"col-xs-12 col-sm-6 col-md-6\">\n            <div class=\"panel panel-info\">\n                <div class=\"panel-heading\">\n                    <h3 class=\"panel-title\">Activity Summary</h3>\n                </div>\n                <div class=\"panel-body\">\n                    <ul class=\"list-group\">\n                        <a style=\"cursor:pointer\" routerLink=\"../admlisttrfbalancereq\" routerLinkActive=\"active\" class=\"list-group-item borderless bordersideless\">Transfer balance request Summary</a>\n                        <a style=\"cursor:pointer\" routerLink=\"../activitylogstats\" routerLinkActive=\"active\" class=\"list-group-item bordersideless\">View Activity Log</a>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        </div>\n    </div>\n\n    <div class=\"form-group\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LIS'\">\n        <label class=\"col-sm-2 control-label\"></label>\n        <div class=\"col-sm-7\">\n            You have logged in as Listener. <br>\n            Please use the kaXet mobile apps to buy songs.\n        </div>\n    </div>\n  </form>\n\n</div>"

/***/ }),

/***/ "./src/app/components/dashboard/dashboard.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DashboardComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_songadmin_service__ = __webpack_require__("./src/app/services/admin/songadmin.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_songpurchase_service__ = __webpack_require__("./src/app/services/songpurchase.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__labelbalancedialog_labelbalancedialog_component__ = __webpack_require__("./src/app/components/labelbalancedialog/labelbalancedialog.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_chart_js__ = __webpack_require__("./node_modules/chart.js/src/chart.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_chart_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_chart_js__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var DashboardComponent = /** @class */ (function () {
    function DashboardComponent(authService, artistService, albumService, songService, userService, labelmgtService, songadminService, toastr, route, router, songpurchaseService, dialog) {
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.songService = songService;
        this.userService = userService;
        this.labelmgtService = labelmgtService;
        this.songadminService = songadminService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.songpurchaseService = songpurchaseService;
        this.dialog = dialog;
        this.totalpendinglabel = 0;
        this.totalpendingsong = 0;
        this.totalpendingpurchase = 0;
        this.chart = [];
    }
    //topsongs:any = [];
    DashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.name = this.userObj.name;
        var payloadn = {};
        payloadn.status = 'STSACT';
        this.songService.getAggTopSongs(payloadn).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                //this.topsongs = data.data;
                if (data.data[0]) {
                    var songbuy = data.data.map(function (res) { return res.songbuy; });
                    var songname = data.data.map(function (res) { return res.songname; });
                    //let labelnsong = data.data.map(res => res.labelnsong);
                    __WEBPACK_IMPORTED_MODULE_13_chart_js__["Chart"].defaults.global.defaultFontFamily = 'Arial';
                    __WEBPACK_IMPORTED_MODULE_13_chart_js__["Chart"].defaults.global.defaultFontSize = 12;
                    __WEBPACK_IMPORTED_MODULE_13_chart_js__["Chart"].defaults.global.defaultFontColor = '#333';
                    //console.log(labelnsong);
                    /* let formattedLabels = [];
                    songname.forEach((res) => {
                        let labelitem = formatLabel(res, 15);
                        formattedLabels.push(labelitem);
                    }); */
                    _this.chart = new __WEBPACK_IMPORTED_MODULE_13_chart_js__["Chart"]('canvas', {
                        type: 'horizontalBar',
                        data: {
                            labels: songname,
                            datasets: [
                                {
                                    label: 'Total Purchased',
                                    data: songbuy,
                                    backgroundColor: '#fce86c',
                                    borderWidth: 1,
                                    borderColor: '#333',
                                    hoverBorderWidth: 2,
                                    hoverBorderColor: '#000'
                                }
                            ]
                        },
                        options: {
                            scaleLabel: function (object) {
                                return "      " + object.value;
                            },
                            responsive: true,
                            maintainAspectRatio: true,
                            title: {
                                display: true,
                                text: 'Global Top 10 Purchased Songs',
                                fontSize: 14
                            },
                            legend: {
                                display: false,
                                position: 'right'
                            },
                            scales: {
                                xAxes: [{
                                        gridLines: {
                                            display: true,
                                            drawBorder: true
                                        },
                                        ticks: {
                                            stepSize: 1
                                        }
                                    }],
                                yAxes: [{
                                        gridLines: {
                                            display: false,
                                            drawBorder: false
                                        }
                                    }]
                            },
                            layout: {
                                padding: {
                                    left: 40,
                                    right: 0,
                                    top: 0,
                                    bottom: 0
                                }
                            }
                            /* tooltips: {
                              callbacks: {
                                label: function(tooltipItem, data) {
                                  //let songdtl: any = this.topsongs[tooltipItem.index];
                                  //return this.topsongs[tooltipItem.index].artistname+":"+this.topsongs[tooltipItem.index].labelname;
                                  return tooltipItem.index +'.' + tooltipItem.yLabel;
                                }
                              }
                            } */
                        }
                    });
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
        this.userService.getUser(this.userObj.userid).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.user = data.data[0];
                _this.email = _this.user.email;
                _this.contactno = _this.user.contactno;
                _this.balance = _this.user.balance;
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
        if (this.userObj.usertype === 'ADM') {
            this.fetchReportAdm(this.userObj.userid);
        }
        if (this.userObj.usertype === 'LBL') {
            var payload = {};
            payload.status = 'STSACT';
            this.fetchReport(this.userObj.userid, payload);
        }
    };
    DashboardComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.artistService.getArtistCount(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                //this.artists = data.data.docs;
                _this.totalrows = +data.totalcount;
                _this.albumService.getAlbumCount(userid, formval)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        //this.albums = data.data.docs;
                        _this.totalalbums = +data.totalcount;
                        _this.songService.getSongCount(userid, formval)
                            .subscribe(function (data) {
                            if (data.success === false) {
                                if (data.errcode) {
                                    _this.authService.logout();
                                    _this.router.navigate(['errorpage']);
                                }
                                _this.toastr.error(data.message);
                            }
                            else {
                                _this.totalsongs = +data.totalcount;
                            }
                        }, function (err) {
                            //console.log(err);
                            _this.toastr.error(err);
                        });
                    }
                }, function (err) {
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
        //songpurchaseService.getPendingSongpurchaseCount
        var payload = {};
        payload.status = 'STSPEND';
        this.songpurchaseService.getPendingSongpurchaseCount(userid, payload)
            .subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.totalpendingpurchase = +data.totalcount;
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    DashboardComponent.prototype.fetchReportAdm = function (userid) {
        var _this = this;
        var payload = {};
        payload.status = 'STSPEND';
        payload.veremail = 'Y';
        payload.usertype = 'LBL';
        this.labelmgtService.getPendingLabelCount(userid, payload)
            .subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.totalpendinglabel = +data.totalcount;
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
        var payloadsg = {};
        payloadsg.songpublish = 'N';
        this.songadminService.getPendingSongCount(userid, payloadsg)
            .subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.totalpendingsong = +data.totalcount;
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    DashboardComponent.prototype.toArtists = function () {
        this.router.navigate(['/listartist']);
    };
    DashboardComponent.prototype.toAlbums = function () {
        this.router.navigate(['/listalbum']);
    };
    DashboardComponent.prototype.toSongs = function () {
        this.router.navigate(['/listsong']);
    };
    DashboardComponent.prototype.toLabelApv = function () {
        this.router.navigate(['/usermanagement']);
    };
    DashboardComponent.prototype.toSongMgt = function () {
        this.router.navigate(['/songmanagement']);
    };
    DashboardComponent.prototype.toPendingSongpurchase = function () {
        this.router.navigate(['/songpendingpurchase']);
    };
    DashboardComponent.prototype.viewlabelbalance = function (labelname) {
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_12__labelbalancedialog_labelbalancedialog_component__["a" /* LabelbalancedialogComponent */], {
            disableClose: true,
            width: '400px',
            data: 'Hi ' + labelname + ', Please find below your balance.'
        });
    };
    DashboardComponent.prototype.trflabelbalance = function () {
        this.router.navigate(['/addtrfbalancereq']);
    };
    DashboardComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-dashboard',
            template: __webpack_require__("./src/app/components/dashboard/dashboard.component.html"),
            styles: [__webpack_require__("./src/app/components/dashboard/dashboard.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_4__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_5__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_7__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_songadmin_service__["a" /* SongadminService */],
            __WEBPACK_IMPORTED_MODULE_2__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_10__services_songpurchase_service__["a" /* SongpurchaseService */],
            __WEBPACK_IMPORTED_MODULE_11__angular_material__["d" /* MatDialog */]])
    ], DashboardComponent);
    return DashboardComponent;
}());



/***/ }),

/***/ "./src/app/components/errorpage/errorpage.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/errorpage/errorpage.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Error page</h3>\n  </div>\n  <div class=\"panel panel-danger\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Error !</h3>\n    </div>\n    <div class=\"panel-body\">\n        <p>There has been an Unauthorised activity OR Processing Error !<br>\n        </p>\n        <br>\n        <div class=\"col-sm-12\" style=\"margin:0;padding:0;\">\n          <button type=\"button\" (click)=\"onLogin()\" class=\"btn btn-info\">Login</button>\n        </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/errorpage/errorpage.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ErrorpageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ErrorpageComponent = /** @class */ (function () {
    function ErrorpageComponent(authService, globals, nav) {
        this.authService = authService;
        this.globals = globals;
        this.nav = nav;
    }
    ErrorpageComponent.prototype.ngOnInit = function () {
        this.nav.disableLink();
        this.kaxeturl = this.globals.kaxeturl;
        this.authService.logout();
    };
    ErrorpageComponent.prototype.onLogin = function () {
        window.open(this.kaxeturl.toString());
    };
    ErrorpageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-errorpage',
            template: __webpack_require__("./src/app/components/errorpage/errorpage.component.html"),
            styles: [__webpack_require__("./src/app/components/errorpage/errorpage.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_2__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_3__services_navbar_service__["a" /* NavbarService */]])
    ], ErrorpageComponent);
    return ErrorpageComponent;
}());



/***/ }),

/***/ "./src/app/components/kx-info-dialog/kx-info-dialog.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/kx-info-dialog/kx-info-dialog.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"md-dialog-container\">\n  <h3 mat-dialog-title>INFO</h3>\n  <hr>\n  <mat-dialog-content>\n    <strong>{{data}}</strong>\n  </mat-dialog-content>\n  <hr>\n  <mat-dialog-actions>\n      <!-- <button mat-raised-button (click)=\"onCloseConfirm()\">Confirm</button> -->\n      <button class=\"btn btn-info\" mat-raised-button (click)=\"onCloseCancel()\">Close</button>\n  </mat-dialog-actions>\n</div>"

/***/ }),

/***/ "./src/app/components/kx-info-dialog/kx-info-dialog.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return KxInfoDialogComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};



var KxInfoDialogComponent = /** @class */ (function () {
    function KxInfoDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    KxInfoDialogComponent.prototype.ngOnInit = function () {
        //this.changePosition();
    };
    KxInfoDialogComponent.prototype.onCloseConfirm = function () {
        this.dialogRef.close('Confirm');
    };
    KxInfoDialogComponent.prototype.onCloseCancel = function () {
        this.dialogRef.close('Cancel');
    };
    KxInfoDialogComponent.prototype.changePosition = function () {
        this.dialogRef.updatePosition({ top: '50px', left: '50px' });
    };
    KxInfoDialogComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-kx-info-dialog',
            template: __webpack_require__("./src/app/components/kx-info-dialog/kx-info-dialog.component.html"),
            styles: [__webpack_require__("./src/app/components/kx-info-dialog/kx-info-dialog.component.css")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["f" /* MatDialogRef */], String])
    ], KxInfoDialogComponent);
    return KxInfoDialogComponent;
}());



/***/ }),

/***/ "./src/app/components/labelbalancedialog/labelbalancedialog.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/labelbalancedialog/labelbalancedialog.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"md-dialog-container\">\n    <h3 mat-dialog-title>BALANCE INFO</h3>\n    <hr>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <mat-dialog-content>\n      <div *ngIf=\"this.success === true\">\n        <strong>{{this.reportTitle}}</strong><br><br>\n        <span style=\"color:red;font-size:14px\" *ngIf=\"this.total <= 0\"><strong>BALANCE : Rp {{this.totalstr }}</strong></span>\n        <span style=\"color:#065E06;font-size:14px\" *ngIf=\"this.total > 0\"><strong>BALANCE : Rp {{this.totalstr }}</strong></span>\n      </div>\n      <div *ngIf=\"this.success === false\">\n          <span style=\"color:red\"><strong>Oopss! sorry there is error when getting the balance</strong></span>\n      </div>\n    </mat-dialog-content>\n    <hr>\n    <mat-dialog-actions>\n        <!-- <button mat-raised-button (click)=\"onCloseConfirm()\">Confirm</button> -->\n        <button class=\"btn btn-info\" (click)=\"onCloseCancel()\">Close</button>\n    </mat-dialog-actions>\n  </div>"

/***/ }),

/***/ "./src/app/components/labelbalancedialog/labelbalancedialog.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LabelbalancedialogComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_transaction_service__ = __webpack_require__("./src/app/services/transaction.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var LabelbalancedialogComponent = /** @class */ (function () {
    function LabelbalancedialogComponent(dialogRef, data, transactionService, authService) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.transactionService = transactionService;
        this.authService = authService;
        this.loading = false;
    }
    LabelbalancedialogComponent.prototype.ngOnInit = function () {
        this.userObj = this.authService.currentUser;
        this.fetchReport(this.userObj.userid);
    };
    LabelbalancedialogComponent.prototype.fetchReport = function (userid) {
        var _this = this;
        this.loading = true;
        this.transactionService.getLabelbalance(userid)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.success = false;
            }
            else {
                _this.success = true;
                _this.loading = false;
                _this.reportTitle = _this.data;
                _this.balances = data.data;
                if (_this.balances.length > 1) {
                    var amt = _this.getbalanceamt(_this.balances[0]._id, _this.balances[0].balance);
                    var amt1 = _this.getbalanceamt(_this.balances[1]._id, _this.balances[1].balance);
                    _this.total = amt + amt1;
                    _this.totalstr = _this.total.toLocaleString();
                }
                else if (_this.balances.length === 1) {
                    var amt = _this.getbalanceamt(_this.balances[0]._id, _this.balances[0].balance);
                    _this.total = amt;
                    _this.totalstr = _this.total.toLocaleString();
                }
                else {
                    _this.total = 0;
                    _this.totalstr = "0";
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.success = false;
        });
    };
    LabelbalancedialogComponent.prototype.onCloseCancel = function () {
        this.dialogRef.close('Cancel');
    };
    LabelbalancedialogComponent.prototype.changePosition = function () {
        this.dialogRef.updatePosition({ top: '50px', left: '50px' });
    };
    LabelbalancedialogComponent.prototype.getbalanceamt = function (sign, balance) {
        var result = balance;
        if (sign === "-") {
            result = -1 * balance;
        }
        return result;
    };
    LabelbalancedialogComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-labelbalancedialog',
            template: __webpack_require__("./src/app/components/labelbalancedialog/labelbalancedialog.component.html"),
            styles: [__webpack_require__("./src/app/components/labelbalancedialog/labelbalancedialog.component.css")]
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_material__["a" /* MAT_DIALOG_DATA */])),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_material__["f" /* MatDialogRef */], String, __WEBPACK_IMPORTED_MODULE_3__services_transaction_service__["a" /* TransactionService */],
            __WEBPACK_IMPORTED_MODULE_2__services_auth_service__["a" /* AuthService */]])
    ], LabelbalancedialogComponent);
    return LabelbalancedialogComponent;
}());



/***/ }),

/***/ "./src/app/components/labelstats/labelstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/labelstats/labelstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Labels</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Search Parameter</h3>\n    </div>\n    <div class=\"panel-body\">\n      <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"username\" class=\"col-sm-2 paddingsearch\">Username</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"username\" [formControl]=\"username\" placeholder=\"User Name\">\n                  </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                <label for=\"name\" class=\"col-sm-2 paddingsearch\">Name</label>\n                <div class=\"col-sm-10\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                    <input type=\"text\" class=\"form-control\" id=\"name\" [formControl]=\"name\" placeholder=\"Label Name\">\n                </div>\n              </div>\n          </div>\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"status\">\n                            <option value=\"\">Select the status</option>\n                            <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                      </select>\n                  </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"veremail\" class=\"col-sm-3 paddingsearch\">Email Verified?</label>\n                    <div class=\"col-sm-9\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"veremail\">\n                              <option value=\"\">Select the option</option>\n                              <option *ngFor=\"let b of yn\" [ngValue]=\"b.code\">{{b.value}}</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                  <label class=\"col-sm-2 paddingsearch\">      </label>\n                  <div class=\"col-sm-5\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                  </div>\n              </div>                  \n          </div>\n      </form>\n    </div>\n  </div>\n  \n  <div class=\"panel panel-danger\" *ngIf=\"labellist && totalrows < 1\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">No LABELS found</h3> \n    </div>\n    <div class=\"panel-body\">\n        No Labels found from above criterias.\n    </div>\n  </div>\n\n  <div class=\"panel panel-default\" *ngIf=\"labellist && totalrows > 0 && this.loading == false\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n    </div>\n    <div class=\"panel-body\">\n          <div class=\"table-responsive\"> \n                  <table class=\"table table-hover\">\n                      <thead>\n                              <tr>\n                                  <th scope=\"col\" width=\"10%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('username')\">User Name</a></th>\n                                  <th scope=\"col\" width=\"30%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('name')\">Label Name</a></th>\n                                  <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('email')\">Email</a></th>\n                                  <th scope=\"col\" width=\"10%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('verified_email')\">Email Verified?</a></th>\n                                  <th scope=\"col\" width=\"10%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('status')\">Status</a></th>\n                                  <th scope=\"col\" width=\"20%\">Action</th>\n                              </tr>\n                          </thead>\n                          <tbody>\n                              <tr *ngFor='let lbl of labellist; let lblIndex = index'>\n                                  <td scope=\"row\" data-label=\"Username\"><a style=\"cursor:pointer\" (click)=\"showLabel(lbl._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ lbl.username}}</a></td>\n                                  <td data-label=\"Label Name\">{{ lbl.name}}</td>\n                                  <td data-label=\"Email\">{{ lbl.email}}</td>\n                                  <td data-label=\"Email Verified?\">{{ lbl.verified_email }}</td>\n                                  <td data-label=\"Status\">{{ lbl.stsvalue}}</td>\n                                  <td data-label=\"Action\">\n                                      <button *ngIf=\"lbl.status === 'STSINACT'\" type=\"button\" class=\"btn-xs btn-success\" aria-label=\"Activate\" (click)=\"activateLabel(lbl._id, lbl.name, lbl.status, lbl.email, lbl.username)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Activate Label\">\n                                          <span class=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span>\n                                      </button>\n                                      <button *ngIf=\"lbl.status === 'STSACT'\" type=\"button\" class=\"btn-xs btn-danger\" aria-label=\"Deactivate\" (click)=\"deactivateLabel(lbl._id, lbl.name, lbl.status, lbl.email, lbl.username)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Deactivate Label\">\n                                          <span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span>\n                                      </button>\n                                      <span  *ngIf=\"lbl.status !== 'STSINACT' && lbl.status !== 'STSACT'\" style=\"color:#eee\">No Action</span>\n                                  </td>\n                              </tr>     \n                          </tbody>    \n                  </table>\n          </div>\n          <div style=\"text-align:center\" *ngIf=\"labellist && totalrows > 10\">\n                  <nav aria-label=\"Page navigation\">\n                      <ul class=\"pagination\">\n                          <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                              <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                          </li>\n                      </ul>\n                  </nav>\n          </div> \n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/labelstats/labelstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LabelstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LabelstatsComponent = /** @class */ (function () {
    function LabelstatsComponent(fb, authService, labelmgtService, msconfigService, route, router, toastr, datePipe, notifService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.labelmgtService = labelmgtService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.notifService = notifService;
        this.globals = globals;
        this.loading = false;
        this.name = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.username = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.veremail = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    LabelstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            name: this.name,
            username: this.username,
            status: this.status,
            veremail: this.veremail
        });
        this.urlkaxet = this.globals.kaxeturl;
        this.getMsconfigGroupList('STATUS');
        this.getMsconfigGroupList('YRN');
        this.route.queryParams.forEach(function (params) {
            _this.qlabelname = params['name'] || '';
            _this.qusername = params['username'] || '';
            _this.qstatus = params['status'] || '';
            _this.qveremail = params['veremail'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.status = _this.qstatus;
            payload.name = _this.qlabelname;
            payload.username = _this.qusername;
            payload.veremail = _this.qveremail;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
            _this.reportForm.patchValue({
                name: _this.qlabelname,
                username: _this.qusername,
                status: _this.qstatus,
                veremail: _this.qveremail
            });
        });
    };
    LabelstatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'STATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'YRN') {
                        _this.yn = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                    _this.yn = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.yn = [{ code: '', value: 'Error ms config list' }];
        });
    };
    LabelstatsComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.userObj.userid, this.reportForm.value);
            this.router.navigate(['labelstats'], {
                queryParams: {
                    name: this.reportForm.value.name,
                    username: this.reportForm.value.username,
                    status: this.reportForm.value.status,
                    veremail: this.reportForm.value.veremail,
                    page: 1,
                    sortby: null
                }
            });
        }
    };
    LabelstatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.labelmgtService.getUserLabels(formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.labellist = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelname = formval.name;
                _this.qusername = formval.username;
                _this.qstatus = formval.status;
                _this.qveremail = formval.veremail;
                _this.reportTitle = 'Labels Result';
                _this.reportForm.patchValue({
                    name: _this.qlabelname,
                    username: _this.qusername,
                    status: _this.qstatus,
                    veremail: _this.qveremail
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    LabelstatsComponent.prototype.setPage = function (page) {
        this.router.navigate(['labelstats'], {
            queryParams: {
                name: this.qlabelname,
                username: this.qusername,
                status: this.qstatus,
                veremail: this.qveremail,
                page: page,
                sortby: this.qsort
            }
        });
    };
    LabelstatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    LabelstatsComponent.prototype.sortLabel = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['labelstats'], {
            queryParams: {
                name: this.qlabelname,
                username: this.qusername,
                status: this.qstatus,
                veremail: this.qveremail,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    LabelstatsComponent.prototype.activateLabel = function (userid, labelname, status, email, username) {
        var _this = this;
        this.loading = true;
        if (status == 'STSACT') {
            this.loading = false;
            this.toastr.warning('The label is already active.');
        }
        else {
            if (status === 'STSRJCT') {
                this.loading = false;
                this.toastr.warning('The label is already rejected.');
            }
            else {
                if (confirm('Do you really want to activate this label: ' + labelname + ' record?')) {
                    var payloadData = {};
                    payloadData.labelid = userid;
                    payloadData.emailto = email;
                    payloadData.vlink = this.urlkaxet;
                    payloadData.username = username;
                    payloadData.status = 'STSACT';
                    this.labelmgtService.pubupdateLabelstatus(this.userObj.userid, payloadData)
                        .subscribe(function (data) {
                        if (data.success === false) {
                            _this.loading = false;
                            if (data.errcode) {
                                _this.authService.logout();
                                _this.router.navigate(['errorpage']);
                            }
                            _this.toastr.error(data.message);
                        }
                        else {
                            _this.loading = false;
                            _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
                            _this.toastr.success(data.message);
                        }
                    }, function (err) {
                        _this.loading = false;
                        //console.log(err);
                        _this.toastr.error(err);
                    });
                }
                else {
                    this.loading = false;
                }
            }
        }
    };
    /*   activateLabel(userid: string, labelname: string, status: string, email: string, username: string) {
    
        this.loading = true;
        if (status == 'STSACT') {
          this.loading = false;
          this.toastr.warning('The label is already active.');
        } else {
          if (status === 'STSRJCT') {
            this.loading = false;
            this.toastr.warning('The label is already rejected.');
          } else {
            if(confirm('Do you really want to activate this label: ' + labelname + ' record?')){
              let payloadData: any = {};
              payloadData.status = 'STSACT';
              this.labelmgtService.updateLabelStatus(userid, payloadData)
              .subscribe(data => {
                if (data.success === false) {
                  this.loading = false;
                  if (data.errcode){
                    this.authService.logout();
                    this.router.navigate(['errorpage']);
                  }
                  this.toastr.error(data.message);
                } else {
                  let payload: any = {};
                  payload.emailto = email;
                  payload.vlink = this.urlkaxet;
                  payload.username = username;
                  let successmsg = data.message;
                  this.notifService.sendemailwelcome(payload)
                  .subscribe(data => {
                    this.loading = false;
                    if (data.success === true) {
                      this.toastr.success(successmsg);
                    } else {
                      this.toastr.warning(successmsg + '. However welcome email not send. ' + data.message);
                    }
                    this.fetchReport(this.userObj.userid, this.reportForm.value);
                  },
                  err => {
                    this.loading = false;
                    //console.log(err);
                    this.toastr.error(err);
                    this.fetchReport(this.userObj.userid, this.reportForm.value);
                  });
                }
              },
              err => {
                this.loading = false;
                //console.log(err);
                this.toastr.error(err);
              });
            } else {
              this.loading = false;
            }
          }
        }
      } */
    LabelstatsComponent.prototype.deactivateLabel = function (userid, labelname, status, email, username) {
        var _this = this;
        this.loading = true;
        if (status === 'STSPEND') {
            if (confirm('Do you really want to reject this label: ' + labelname + ' record?')) {
                var payloadData = {};
                payloadData.labelid = userid;
                payloadData.username = username;
                payloadData.status = 'STSRJCT';
                this.labelmgtService.pubupdateLabelstatus(this.userObj.userid, payloadData)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.loading = false;
                        _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
                        _this.toastr.success(data.message);
                    }
                }, function (err) {
                    _this.loading = false;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
            else {
                this.loading = false;
            }
        }
        else {
            if (status != 'STSACT') {
                this.loading = false;
                this.toastr.warning('The label is already NOT active.');
            }
            else {
                if (confirm('Do you really want to deactivate this label: ' + labelname + ' record?')) {
                    var payloadData = {};
                    payloadData.labelid = userid;
                    payloadData.emailto = email;
                    payloadData.username = username;
                    payloadData.status = 'STSINACT';
                    this.labelmgtService.pubupdateLabelstatus(this.userObj.userid, payloadData)
                        .subscribe(function (data) {
                        if (data.success === false) {
                            _this.loading = false;
                            if (data.errcode) {
                                _this.authService.logout();
                                _this.router.navigate(['errorpage']);
                            }
                            _this.toastr.error(data.message);
                        }
                        else {
                            _this.loading = false;
                            _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
                            _this.toastr.success(data.message);
                        }
                    }, function (err) {
                        _this.loading = false;
                        //console.log(err);
                        _this.toastr.error(err);
                    });
                }
                else {
                    this.loading = false;
                }
            }
        }
    };
    /*   deactivateLabel(userid: string, labelname: string, status: string, email: string, username: string) {
        
        this.loading = true;
        if (status === 'STSPEND') {
          if(confirm('Do you really want to reject this label: ' + labelname + ' record?')){
            let payloadData: any = {};
            payloadData.status = 'STSRJCT';
            this.labelmgtService.updateLabelStatus(userid, payloadData)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.loading = false;
                this.fetchReport(this.userObj.userid, this.reportForm.value);
                this.toastr.success(data.message);
              }
            },
            err => {
              this.loading = false;
              //console.log(err);
              this.toastr.error(err);
            });
          } else {
            this.loading = false;
          }
        } else {
          if (status != 'STSACT') {
            this.loading = false;
            this.toastr.warning('The label is already NOT active.');
          } else {
            if(confirm('Do you really want to deactivate this label: ' + labelname + ' record?')){
              let payloadData: any = {};
              payloadData.status = 'STSINACT';
              this.labelmgtService.updateLabelStatus(userid, payloadData)
              .subscribe(data => {
                if (data.success === false) {
                  this.loading = false;
                  if (data.errcode){
                    this.authService.logout();
                    this.router.navigate(['errorpage']);
                  }
                  this.toastr.error(data.message);
                } else {
                  let payload: any = {};
                  payload.emailto = email;
                  payload.username = username;
                  let successmsg = data.message;
                  this.notifService.senddeactivation(payload)
                  .subscribe(data => {
                    this.loading = false;
                    if (data.success === true) {
                      this.toastr.success(successmsg);
                    } else {
                      this.toastr.warning(successmsg + '. However welcome email not send. ' + data.message);
                    }
                    this.fetchReport(this.userObj.userid, this.reportForm.value);
                  },
                  err => {
                    this.loading = false;
                    //console.log(err);
                    this.toastr.error(err);
                  });
                }
              },
              err => {
                this.loading = false;
                //console.log(err);
                this.toastr.error(err);
              });
            } else {
              this.loading = false;
            }
          }
        }
      } */
    LabelstatsComponent.prototype.showLabel = function (userid) {
        this.router.navigate(["viewlabelstats/" + userid], {
            queryParams: {
                name: this.qlabelname,
                username: this.qusername,
                status: this.qstatus,
                veremail: this.qveremail,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    LabelstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-labelstats',
            template: __webpack_require__("./src/app/components/labelstats/labelstats.component.html"),
            styles: [__webpack_require__("./src/app/components/labelstats/labelstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_8__services_notif_service__["a" /* NotifService */],
            __WEBPACK_IMPORTED_MODULE_9__app_global__["a" /* Globals */]])
    ], LabelstatsComponent);
    return LabelstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/labelstats/viewlabelstats/viewlabelstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/labelstats/viewlabelstats/viewlabelstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>LABEL DETAILS</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div class=\"clearfix\">\n    <form [formGroup]=\"profileForm\" (ngSubmit)=\"updateUser(profileForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\">\n            <label for=\"username\" class=\"col-sm-2 control-label\">Username</label>\n            <div class=\"form-ele col-sm-10\">{{ user.username }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-user\"></i></div>\n                <div class=\"form-ele\">{{ user.username }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"name\" class=\"col-sm-2 control-label\">Name</label>\n            <div class=\"form-ele col-sm-10\">{{ user.name }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ user.name }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"email\" class=\"col-sm-2 control-label\">Email</label>\n            <div class=\"form-ele col-sm-10\">{{ user.email }}\n                <!-- <div class=\"input-group-addon\">@</div>\n                <div class=\"form-ele\">{{ user.email }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"contactno\" class=\"col-sm-2 control-label\">Contact No</label>\n            <div class=\"form-ele col-sm-10\">{{ user.contactno }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-bold\"></i></div>\n                <div class=\"form-ele\">{{ user.contactno }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"bankaccno\" class=\"col-sm-2 control-label\">Bank Account No</label>\n            <div class=\"form-ele col-sm-10\">{{ user.bankaccno }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-bold\"></i></div>\n                <div class=\"form-ele\">{{ user.bankaccno }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"bankaccname\" class=\"col-sm-2 control-label\">Bank Account Name</label>\n            <div class=\"form-ele col-sm-10\">{{ user.bankaccname }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-bold\"></i></div>\n                <div class=\"form-ele\">{{ user.bankaccno }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"bankname\" class=\"col-sm-2 control-label\">Bank Name</label>\n            <div class=\"form-ele col-sm-10\">{{ user.bankname }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-bold\"></i></div>\n                <div class=\"form-ele\">{{ user.bankname }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"lastlogin\" class=\"col-sm-2 control-label\">Last Login</label>\n            <div class=\"form-ele col-sm-10\">{{ user.lastlogin | date:'medium' }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-calendar\"></i></div>\n                <div class=\"form-ele\">{{ user.lastlogin | date:'medium' }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"balance\" class=\"col-sm-2 control-label\">Balance</label>\n            <div class=\"form-ele col-sm-10\">{{ user.balance | currency:'IDR'}}\n                <!-- <div class=\"input-group-addon\">Rp</div>\n                <div class=\"form-ele\">{{ user.balance }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">       </label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n    </form>                \n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/labelstats/viewlabelstats/viewlabelstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewlabelstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ViewlabelstatsComponent = /** @class */ (function () {
    function ViewlabelstatsComponent(fb, authService, userService, route, router, toastr) {
        this.fb = fb;
        this.authService = authService;
        this.userService = userService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.loading = false;
        this.name = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.email = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].email]);
        this.contactno = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankaccno = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankaccname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.lastlogin = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.balance = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ViewlabelstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.sub = this.route.params.subscribe(function (params) {
            var labelid = params['id'];
            _this.getLabel(labelid);
        });
        this.profileForm = this.fb.group({
            name: this.name,
            email: this.email,
            contactno: this.contactno,
            bankaccno: this.bankaccno,
            bankaccname: this.bankaccname,
            bankname: this.bankname,
            lastlogin: this.lastlogin,
            balance: this.balance
        });
    };
    ViewlabelstatsComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ViewlabelstatsComponent.prototype.getLabel = function (id) {
        var _this = this;
        this.userService.getUser(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.user = data.data[0];
                _this.populateForm(_this.user);
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewlabelstatsComponent.prototype.populateForm = function (data) {
        this.profileForm.patchValue({
            name: data.name,
            email: data.email,
            contactno: data.contactno,
            bankaccno: data.bankaccno,
            bankaccname: data.bankaccname,
            bankname: data.bankname,
            lastlogin: this.lastlogin,
            balance: this.balance
        });
    };
    ViewlabelstatsComponent.prototype.onBack = function () {
        this.router.navigate(['../labelstats'], { preserveQueryParams: true });
    };
    ViewlabelstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewlabelstats',
            template: __webpack_require__("./src/app/components/labelstats/viewlabelstats/viewlabelstats.component.html"),
            styles: [__webpack_require__("./src/app/components/labelstats/viewlabelstats/viewlabelstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */]])
    ], ViewlabelstatsComponent);
    return ViewlabelstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/msconfig/addconfig/addconfig.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/msconfig/addconfig/addconfig.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Add Config</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form  [formGroup]=\"addConfigForm\" (ngSubmit)=\"addMsconfig(addConfigForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\" [ngClass]=\"{'has-error': addConfigForm.get('code').invalid && addConfigForm.get('code').dirty}\">\n            <label for=\"code\" class=\"col-sm-2 control-label\">Code <sup>*</sup></label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"code\" id=\"code\" placeholder=\"Ms Code\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"addConfigForm.get('code').dirty && addConfigForm.get('code').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addConfigForm.get('code').errors.required\">\n                    Please enter the code\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': addConfigForm.get('value').invalid && addConfigForm.get('value').dirty}\">\n            <label for=\"value\" class=\"col-sm-2 control-label\">Value <sup>*</sup></label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"value\" id=\"value\" placeholder=\"Ms Value\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"addConfigForm.get('value').dirty && addConfigForm.get('value').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addConfigForm.get('value').errors.required\">\n                    Please enter the value\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': addConfigForm.get('group').invalid && addConfigForm.get('group').dirty}\">\n            <label for=\"group\" class=\"col-sm-2 control-label\">Group <sup>*</sup></label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select #inputgroup [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"group\">\n                    <option ng-selected=\"true\" value=\"\">Select the group</option>\n                    <option *ngFor=\"let g of grouplist\" [ngValue]=\"g.code\">{{g.value}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"addConfigForm.get('group').dirty && addConfigForm.get('group').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addConfigForm.get('group').errors.required\">\n                    Please select config group\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"desc\" class=\"col-sm-2 control-label\">Description</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"desc\" rows=\"10\" [formControl]=\"desc\" placeholder=\"Description\"></textarea>\n            </div>\n        </div>\n        <div class=\"form-group\" >\n            <label for=\"genreimage\" class=\"col-sm-2 control-label\">Config Photo</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-file\"></i></div>\n                <input [disabled]=\"this.loading == true\" #inputimg type=\"file\" accept=\"image/*\" (change)=\"fileChangeEvent($event)\" name=\"genreimage\" id=\"genreimage\" placeholder=\"Genreimage\">\n                <span class=\"control-label\" style=\"text-align:bottom;font-size:10px;color:red;\">&nbsp;&nbsp;<u><b>(MAX {{ +this.maxfilesize?.value/1000 }} KB)</b></u></span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">  </label>\n          <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n          <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n       </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-5\" style=\"padding:0;margin:0;\">\n                <button type=\"submit\" [disabled]=\"addConfigForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n            </div>\n            <div class=\"col-sm-5\" style=\"text-align:right\">\n                <sup>*</sup> required\n            </div>\n        </div>\n    </form>\n</div>"

/***/ }),

/***/ "./src/app/components/msconfig/addconfig/addconfig.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddconfigComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var AddconfigComponent = /** @class */ (function () {
    function AddconfigComponent(fb, authService, msconfigService, route, router, toastr, datePipe, ftService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.ftService = ftService;
        this.globals = globals;
        //status: any = ['active', 'inactive'];
        this.filesToUpload = [];
        this.loading = false;
        this.progressvalue = 0;
        this.code = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.value = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.group = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.desc = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    AddconfigComponent.prototype.ngOnInit = function () {
        this.userObj = this.authService.currentUser;
        this.configuploadpath = this.globals.configuploadpath;
        this.progressvalue = 0;
        this.msconfigid = '';
        this.addConfigForm = this.fb.group({
            code: this.code,
            value: this.value,
            group: this.group,
            desc: this.desc,
            genreimage: this.filesToUpload,
            filepath: this.filepath,
            filename: this.filename
        });
        this.getMsconfiggroup();
        this.getMsconfigVal('IMGSIZE', 'FSIZE');
    };
    AddconfigComponent.prototype.getMsconfiggroup = function () {
        var _this = this;
        this.msconfigService.getMsconfiggroup().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.grouplist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.grouplist = [{ code: '', value: 'Error group list' }];
                }
            }
        }, function (err) {
            _this.grouplist = [{ code: '', value: 'Error group list' }];
        });
    };
    AddconfigComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.maxfilesize = data.data[0];
                }
                else {
                    _this.maxfilesize = { code: '', value: '0' };
                }
            }
        }, function (err) {
            _this.maxfilesize = { code: '', value: '0' };
        });
    };
    AddconfigComponent.prototype.addMsconfig = function (formdata) {
        var _this = this;
        this.progressvalue = 0;
        if (this.addConfigForm.dirty && this.addConfigForm.valid) {
            var files = this.filesToUpload;
            var theForm_1 = this.addConfigForm.value;
            this.loading = true;
            this.progressvalue = 10;
            if (this.genreimageVar.nativeElement.value) {
                this.progressvalue = 30;
                var lformData = new FormData();
                //console.log('Ini file: '+ files[0]['name']); 
                //lformData.append('genreimage',files[0],files[0]['name']);
                lformData.append('fileinputsrc', files[0], files[0]['name']);
                lformData.append('uploadpath', this.configuploadpath);
                //console.log(lformData.getAll('artistimage'));
                //console.dir(theForm);
                this.progressvalue = 50;
                this.ftService.uploadInputFile(lformData)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.progressvalue = 70;
                        theForm_1.filepath = data.filedata.filepath;
                        theForm_1.filename = data.filedata.filename;
                        theForm_1.status = 'STSACT';
                        //console.log('Ini file path: '+ theForm.artistphotopath);
                        if (_this.msconfigid !== '') {
                            theForm_1.msconfigid = _this.msconfigid;
                        }
                        _this.progressvalue = 90;
                        _this.msconfigService.saveMsconfig(_this.userObj.userid, theForm_1)
                            .subscribe(function (data) {
                            if (data.success === false) {
                                _this.loading = false;
                                _this.progressvalue = 0;
                                _this.toastr.error(data.message);
                            }
                            else {
                                _this.progressvalue = 100;
                                _this.loading = false;
                                _this.toastr.success(data.message);
                                //this.router.navigate(['listartist']);
                            }
                            _this.addConfigForm.reset();
                            _this.inputgroupVar.nativeElement.selectedIndex = 0;
                            _this.genreimageVar.nativeElement.value = "";
                            _this.progressvalue = 0;
                        }, function (err) {
                            _this.loading = false;
                            _this.progressvalue = 0;
                            //console.log(err);
                            _this.toastr.error(err);
                        });
                    }
                }, function (err) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
            else {
                this.progressvalue = 30;
                theForm_1.status = 'STSACT';
                //console.log('Ini file path: '+ theForm.artistphotopath);
                if (this.msconfigid !== '') {
                    theForm_1.msconfigid = this.msconfigid;
                }
                this.progressvalue = 70;
                this.msconfigService.saveMsconfig(this.userObj.userid, theForm_1)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.progressvalue = 90;
                        _this.loading = false;
                        _this.toastr.success(data.message);
                        //this.router.navigate(['listartist']);
                        _this.progressvalue = 100;
                    }
                    _this.addConfigForm.reset();
                    _this.inputgroupVar.nativeElement.selectedIndex = 0;
                    _this.genreimageVar.nativeElement.value = "";
                    _this.progressvalue = 0;
                }, function (err) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
        }
    };
    AddconfigComponent.prototype.fileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        if (~files[0].type.indexOf("image/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.filesToUpload = fileInput.target.files;
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000;
                alert('Error file size. File size is maximum ' + mfsize + ' Kb');
                this.genreimageVar.nativeElement.value = "";
            }
        }
        else {
            alert('Error file type. You must input image file type.');
            this.genreimageVar.nativeElement.value = "";
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputimg'),
        __metadata("design:type", Object)
    ], AddconfigComponent.prototype, "genreimageVar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputgroup'),
        __metadata("design:type", Object)
    ], AddconfigComponent.prototype, "inputgroupVar", void 0);
    AddconfigComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-addconfig',
            template: __webpack_require__("./src/app/components/msconfig/addconfig/addconfig.component.html"),
            styles: [__webpack_require__("./src/app/components/msconfig/addconfig/addconfig.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_7__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_8__app_global__["a" /* Globals */]])
    ], AddconfigComponent);
    return AddconfigComponent;
}());



/***/ }),

/***/ "./src/app/components/msconfig/addgroup/addgroup.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/msconfig/addgroup/addgroup.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Add Group</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form  [formGroup]=\"addGroupForm\" (ngSubmit)=\"addMsgroup(addGroupForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\" [ngClass]=\"{'has-error': addGroupForm.get('code').invalid && addGroupForm.get('code').dirty}\">\n            <label for=\"code\" class=\"col-sm-2 control-label\">Code <sup>*</sup></label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"code\" id=\"code\" placeholder=\"Ms Code\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"addGroupForm.get('code').dirty && addGroupForm.get('code').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addGroupForm.get('code').errors.required\">\n                    Please enter the code\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': addGroupForm.get('value').invalid && addGroupForm.get('value').dirty}\">\n            <label for=\"value\" class=\"col-sm-2 control-label\">Value <sup>*</sup></label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"value\" id=\"value\" placeholder=\"Ms Value\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"addGroupForm.get('value').dirty && addGroupForm.get('value').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addGroupForm.get('value').errors.required\">\n                    Please enter the value\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"desc\" class=\"col-sm-2 control-label\">Description</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"desc\" rows=\"10\" [formControl]=\"desc\" placeholder=\"Description\"></textarea>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-5\" style=\"padding:0;margin:0;\">\n                <button type=\"submit\" [disabled]=\"addGroupForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n            </div>\n            <div class=\"col-sm-5\" style=\"text-align:right\">\n                <sup>*</sup> required\n            </div>\n        </div>\n    </form>\n</div>"

/***/ }),

/***/ "./src/app/components/msconfig/addgroup/addgroup.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddgroupComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var AddgroupComponent = /** @class */ (function () {
    function AddgroupComponent(fb, authService, msconfigService, route, router, toastr, datePipe) {
        this.fb = fb;
        this.authService = authService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        //status: any = ['active', 'inactive'];
        this.loading = false;
        this.code = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.value = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.desc = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    AddgroupComponent.prototype.ngOnInit = function () {
        this.userObj = this.authService.currentUser;
        this.addGroupForm = this.fb.group({
            code: this.code,
            value: this.value,
            desc: this.desc
        });
    };
    AddgroupComponent.prototype.addMsgroup = function (formdata) {
        var _this = this;
        if (this.addGroupForm.dirty && this.addGroupForm.valid) {
            var theForm = this.addGroupForm.value;
            this.loading = true;
            theForm.group = 'GROUP';
            theForm.status = 'STSACT';
            //console.log('Ini file path: '+ theForm.artistphotopath);
            this.msconfigService.saveMsconfig(this.userObj.userid, theForm)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.toastr.success(data.message);
                    //this.router.navigate(['listartist']);
                }
                _this.addGroupForm.reset();
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    AddgroupComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-addgroup',
            template: __webpack_require__("./src/app/components/msconfig/addgroup/addgroup.component.html"),
            styles: [__webpack_require__("./src/app/components/msconfig/addgroup/addgroup.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"]])
    ], AddgroupComponent);
    return AddgroupComponent;
}());



/***/ }),

/***/ "./src/app/components/msconfig/editconfig/editconfig.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/msconfig/editconfig/editconfig.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Edit Config</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"msconfigForm\" (ngSubmit)=\"saveMsconfig(msconfigForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\">\n            <label for=\"code\" class=\"col-sm-2 control-label\">Code</label>\n            <div class=\"form-ele col-sm-10\">{{ this.mscode }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ this.mscode }}</div> -->\n            </div>\n        </div>\n\n        <div class=\"form-group\" [ngClass]=\"{'has-error': msconfigForm.get('value').invalid && msconfigForm.get('value').dirty}\">\n            <label for=\"value\" class=\"col-sm-2 control-label\">Value</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"value\" [formControl]=\"value\" placeholder=\"Ms Value\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"msconfigForm.get('value').dirty && msconfigForm.get('value').invalid\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter the Ms config value</span>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': msconfigForm.get('group').invalid && msconfigForm.get('group').dirty}\">\n            <label for=\"group\" class=\"col-sm-2 control-label\">Group</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"group\">\n                    <option *ngFor=\"let g of grouplist\" [ngValue]=\"g.code\">{{g.value}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"msconfigForm.get('group').dirty && msconfigForm.get('group').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"msconfigForm.get('group').errors.required\">\n                    Please select Ms Config Group\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"desc\" class=\"col-sm-2 control-label\">Description</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"desc\" rows=\"10\" [formControl]=\"desc\" placeholder=\"Desc\"></textarea>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': msconfigForm.get('status').invalid && msconfigForm.get('status').dirty}\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"status\">\n                    <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"msconfigForm.get('status').dirty && msconfigForm.get('status').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"msconfigForm.get('status').errors.required\">\n                    Please select config status\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"submit\" [disabled]=\"msconfigForm.invalid || this.loading == true\" class=\"btn btn-primary\">{{ btnLbl }}</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Back</button>\n            </div>\n        </div>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/components/msconfig/editconfig/editconfig.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditconfigComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var EditconfigComponent = /** @class */ (function () {
    function EditconfigComponent(fb, authService, msconfigService, route, router, toastr, datePipe) {
        this.fb = fb;
        this.authService = authService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.loading = false;
        this.code = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.value = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.group = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.desc = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    EditconfigComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.msconfigid = params['id'];
            _this.getMsconfig(_this.msconfigid);
            _this.btnLbl = "Update";
        });
        this.userObj = this.authService.currentUser;
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfiggroup();
        this.msconfigForm = this.fb.group({
            code: this.code,
            value: this.value,
            group: this.group,
            desc: this.desc,
            status: this.status
        });
    };
    EditconfigComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
        });
    };
    EditconfigComponent.prototype.getMsconfiggroup = function () {
        var _this = this;
        this.msconfigService.getMsconfiggroup().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.grouplist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.grouplist = [{ code: '', value: 'Error group list' }];
                }
            }
        }, function (err) {
            _this.grouplist = [{ code: '', value: 'Error group list' }];
        });
    };
    EditconfigComponent.prototype.getMsconfig = function (id) {
        var _this = this;
        this.msconfigService.getMsconfigAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('MsConfig id is incorrect in the URL');
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EditconfigComponent.prototype.populateForm = function (data) {
        this.mscode = data.code;
        this.msconfigForm.patchValue({
            code: data.code,
            value: data.value,
            group: data.group,
            desc: data.desc,
            status: data.status
        });
    };
    EditconfigComponent.prototype.saveMsconfig = function (formdata) {
        var _this = this;
        if (this.msconfigForm.valid) {
            var theForm = this.msconfigForm.value;
            if (this.msconfigid !== '') {
                theForm.msconfigid = this.msconfigid;
            }
            this.loading = true;
            this.msconfigService.saveMsconfig(this.userObj.userid, theForm)
                .subscribe(function (data) {
                _this.loading = false;
                if (data.success === false) {
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.toastr.success(data.message);
                }
                if (!_this.msconfigid) {
                    _this.msconfigForm.reset();
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    EditconfigComponent.prototype.onBack = function () {
        this.router.navigate(['/listconfig'], { preserveQueryParams: true });
    };
    EditconfigComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editconfig',
            template: __webpack_require__("./src/app/components/msconfig/editconfig/editconfig.component.html"),
            styles: [__webpack_require__("./src/app/components/msconfig/editconfig/editconfig.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"]])
    ], EditconfigComponent);
    return EditconfigComponent;
}());



/***/ }),

/***/ "./src/app/components/msconfig/editconfigfile/editconfigfile.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/msconfig/editconfigfile/editconfigfile.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Change File</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"msconfigForm\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\">\n            <div class=\"col-sm-12\">\n                <img src=\"{{ this.displayImg }}\" width=\"170\" height=\"170\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <div class=\"col-sm-12\">\n                <label class=\"control-label\" style=\"color:red;\"><sup>* <u>FILE SIZE (MAX {{ +this.maxfilesize?.value/1000 }} KB)</u></sup></label> \n                <div class=\"input-group\">\n                    <label class=\"input-group-btn\">\n                        <span *ngIf=\"this.loading == false\" class=\"btn btn-primary\">\n                            Browse&hellip; <input [disabled]=\"this.loading == true\" type=\"file\" accept=\"image/*\" (change)=\"fileChangeEvent($event)\" name=\"genreimage\" id=\"genreimage\" style=\"display:none\">\n                        </span>\n                    </label>\n                    <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" value=\"{{ this.newfile }}\">  \n                </div>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">  </label>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">  </label>\n            <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n            <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n        </div>\n        <div class=\"form-group\">\n            <div class=\"col-sm-12\">\n                <button [disabled]=\"this.loading == true\" type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n    </form>\n  </div>"

/***/ }),

/***/ "./src/app/components/msconfig/editconfigfile/editconfigfile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditconfigfileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var EditconfigfileComponent = /** @class */ (function () {
    function EditconfigfileComponent(fb, authService, msconfigService, route, router, toastr, ftService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.ftService = ftService;
        this.globals = globals;
        this.filesToUpload = [];
        this.loading = false;
        this.progressvalue = 0;
        this.filepath = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.filename = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    EditconfigfileComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.configuploadpath = this.globals.configuploadpath;
        this.progressvalue = 0;
        this.getMsconfigVal('IMGSIZE', 'FSIZE');
        this.msconfigForm = this.fb.group({
            filepath: this.filepath,
            filename: this.filename
        });
        this.route.params.subscribe(function (params) {
            var msconfigid = params['id'];
            _this.msconfigid = msconfigid;
            _this.getMsconfig(msconfigid);
        });
    };
    EditconfigfileComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.maxfilesize = data.data[0];
                }
                else {
                    _this.maxfilesize = { code: '', value: '0' };
                }
            }
        }, function (err) {
            _this.maxfilesize = { code: '', value: '0' };
        });
    };
    EditconfigfileComponent.prototype.getMsconfig = function (id) {
        var _this = this;
        this.msconfigService.getMsconfigAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.msconfig = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('MsConfig id is incorrect in the URL');
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EditconfigfileComponent.prototype.populateForm = function (data) {
        this.deletedFilename = this.msconfig.filename;
        this.displayImg = this.msconfig.filepath;
        this.msconfigForm.patchValue({
            filepath: data.filepath,
            filename: data.filename
        });
    };
    EditconfigfileComponent.prototype.fileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        this.progressvalue = 0;
        if (~files[0].type.indexOf("image/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.filesToUpload = fileInput.target.files;
                this.newfile = this.filesToUpload[0]['name'];
                //console.log('content file: ' + this.filesToUpload);
                this.progressvalue = 0;
                this.uploadNewPhoto(this.filesToUpload);
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000;
                alert('Error file size. File size is maximum ' + mfsize + ' Kb');
            }
        }
        else {
            alert('Error file type. You must input image file type.');
        }
    };
    EditconfigfileComponent.prototype.uploadNewPhoto = function (newFileData) {
        var _this = this;
        this.progressvalue = 30;
        var files = newFileData;
        var lformData = new FormData();
        //lformData.append('genreimage',files[0],files[0]['name']);
        lformData.append('fileinputsrc', files[0], files[0]['name']);
        lformData.append('uploadpath', this.configuploadpath);
        this.loading = true;
        this.progressvalue = 60;
        this.ftService.uploadInputFile(lformData)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.progressvalue = 0;
                _this.toastr.error(data.message);
            }
            else {
                _this.progressvalue = 70;
                _this.displayImg = data.filedata.filepath;
                //let payloadData: any = this.msconfigForm.value;
                var payloadData_1 = {};
                payloadData_1.uploadpath = _this.configuploadpath;
                payloadData_1.filename = _this.msconfigForm.value.filename;
                _this.progressvalue = 80;
                _this.ftService.deleteInputFile(payloadData_1)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        //this.toastr.error(data.message);
                        console.log('Error deleted ' + data.message);
                    }
                    else {
                        console.log('File deleted - ' + payloadData_1.filename);
                    }
                }, function (err) {
                    console.log('Error deleted ' + err);
                });
                _this.msconfigForm.value.msconfigid = _this.msconfigid;
                _this.msconfigForm.value.filepath = data.filedata.filepath;
                _this.msconfigForm.value.filename = data.filedata.filename;
                _this.progressvalue = 90;
                //console.log('Update database photo - ' + this.displayImg);
                _this.msconfigService.updateMsconfigfile(_this.userObj.userid, _this.msconfigForm.value)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.progressvalue = 100;
                        _this.loading = false;
                        console.log('Success update database photo - ' + _this.displayImg);
                        _this.toastr.success(data.message);
                        _this.progressvalue = 0;
                    }
                }, function (err) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
        }, function (err) {
            _this.loading = false;
            _this.progressvalue = 0;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EditconfigfileComponent.prototype.onBack = function () {
        this.router.navigate(['/listconfig'], { preserveQueryParams: true });
    };
    EditconfigfileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editconfigfile',
            template: __webpack_require__("./src/app/components/msconfig/editconfigfile/editconfigfile.component.html"),
            styles: [__webpack_require__("./src/app/components/msconfig/editconfigfile/editconfigfile.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_6__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_7__app_global__["a" /* Globals */]])
    ], EditconfigfileComponent);
    return EditconfigfileComponent;
}());



/***/ }),

/***/ "./src/app/components/msconfig/listconfig/listconfig.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/msconfig/listconfig/listconfig.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>List Config</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"code\" class=\"col-sm-2 paddingsearch\">Code</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"code\" [formControl]=\"code\" placeholder=\"Ms Code\">\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"value\" class=\"col-sm-2 paddingsearch\">Value</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"value\" [formControl]=\"value\" placeholder=\"Ms Value\">\n                      </div>\n                  </div>\n                </div>\n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"group\" class=\"col-sm-2 paddingsearch\">Group</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                            <select class=\"form-control\" [formControl]=\"group\">\n                                <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                                <option ng-selected=\"true\" value=\"\">Select the group</option>\n                                <option value=\"GROUP\">Group Config</option>\n                                <option *ngFor=\"let g of grouplist\" [ngValue]=\"g.code\">{{g.value}}</option>\n                            </select>\n                          </div>\n                    </div>\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                            <select class=\"form-control\" [formControl]=\"status\">\n                              <option ng-selected=\"true\" value=\"\">Select the status</option>\n                              <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">    \n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"submit\" class=\"col-sm-2 paddingsearch\"> </label>\n                        <div class=\"col-sm-10\">\n                          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                        </div>\n                    </div>                  \n                </div>\n\n            </form>\n        </div>\n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"msconfigs && totalrows < 1\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">No config found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n            There is NO any configs found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"msconfigs && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortConfig('code')\">Code</a></th>\n                            <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortConfig('value')\">Value</a></th>\n                            <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortConfig('group')\">Group</a></th>\n                            <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortConfig('status')\">Status</a></th>\n                            <th *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'SUP'\" scope=\"col\" width=\"20%\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let config of msconfigs; let cfgIndex = index'>\n                            <td scope=\"row\" data-label=\"Code\"><a style=\"cursor:pointer\" (click)=\"showConfig(config._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ config.code}}</a></td>\n                            <td data-label=\"Value\">{{ config.value }}</td>\n                            <td data-label=\"Group\">{{ config.groupname }}</td>\n                            <td data-label=\"Status\">{{ config.stsvalue}}</td>\n                            <td *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'SUP'\" data-label=\"Action\">\n                                <button type=\"button\" class=\"btn-xs btn-info\" aria-label=\"View\" (click)=\"editConfigFiles(config._id)\">\n                                    <span class=\"glyphicon glyphicon-edit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Config File\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn-xs btn-danger\" aria-label=\"Edit\" (click)=\"editConfig(config._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Config Data\">\n                                    <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>\n                                </button>\n                                <button type=\"button\" class=\"btn-xs btn-primary\" aria-label=\"Delete\" (click)=\"confirmDel(cfgIndex, config._id, config.code, config.filename)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete Config\">\n                                    <span class=\"glyphicon glyphicon-trash\" aria-hidden=\"true\"></span>\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"msconfigs && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/msconfig/listconfig/listconfig.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListconfigComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ListconfigComponent = /** @class */ (function () {
    function ListconfigComponent(fb, authService, msconfigService, route, router, toastr, datePipe, ftService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.ftService = ftService;
        this.globals = globals;
        this.sts = [{ code: '', value: 'Error ms config list' }];
        this.grouplist = [{ code: '', value: 'Error ms config list' }];
        this.loading = false;
        this.code = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.value = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.group = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    ListconfigComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.configuploadpath = this.globals.configuploadpath;
        this.reportForm = this.fb.group({
            code: this.code,
            value: this.value,
            group: this.group,
            status: this.status
        });
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GROUP');
        this.route.queryParams.forEach(function (params) {
            _this.qcode = params['code'] || '';
            _this.qvalue = params['value'] || '';
            _this.qgroup = params['group'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.code = _this.qcode;
            payload.value = _this.qvalue;
            payload.group = _this.qgroup;
            payload.status = _this.qstatus;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(payload);
            _this.reportForm.patchValue({
                code: _this.qcode,
                value: _this.qvalue,
                group: _this.qgroup,
                status: _this.qstatus
            });
        });
    };
    ListconfigComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GROUP') {
                        _this.grouplist = data.data;
                    }
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListconfigComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            this.router.navigate(['listconfig'], {
                queryParams: {
                    code: this.reportForm.value.code,
                    value: this.reportForm.value.value,
                    group: this.reportForm.value.group,
                    status: this.reportForm.value.status,
                    page: 1,
                    sortby: null
                }
            });
            //this.fetchReport(this.reportForm.value);
        }
    };
    ListconfigComponent.prototype.fetchReport = function (formval) {
        var _this = this;
        this.loading = true;
        this.msconfigService.getAggMsconfig(formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.msconfigs = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qcode = formval.code;
                _this.qvalue = formval.value;
                _this.qgroup = formval.group;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Ms Config Result';
                _this.reportForm.patchValue({
                    code: _this.qcode,
                    value: _this.qvalue,
                    group: _this.qgroup,
                    status: _this.qstatus
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListconfigComponent.prototype.setPage = function (page) {
        this.router.navigate(['listconfig'], {
            queryParams: {
                code: this.qcode,
                value: this.qvalue,
                group: this.qgroup,
                status: this.qstatus,
                page: page,
                sortby: this.qsort
            }
        });
    };
    ListconfigComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ListconfigComponent.prototype.sortConfig = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['listconfig'], {
            queryParams: {
                code: this.qcode,
                value: this.qvalue,
                group: this.qgroup,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListconfigComponent.prototype.showConfig = function (msconfigid) {
        this.router.navigate(["viewconfig/" + msconfigid], {
            queryParams: {
                code: this.qcode,
                value: this.qvalue,
                group: this.qgroup,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListconfigComponent.prototype.editConfigFiles = function (msconfigid) {
        this.router.navigate(["editconfigfile/" + msconfigid], {
            queryParams: {
                code: this.qcode,
                value: this.qvalue,
                group: this.qgroup,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListconfigComponent.prototype.editConfig = function (msconfigid) {
        this.router.navigate(["editconfig/" + msconfigid], {
            queryParams: {
                code: this.qcode,
                value: this.qvalue,
                group: this.qgroup,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListconfigComponent.prototype.confirmDel = function (idx, msconfigid, code, filename) {
        var _this = this;
        this.loading = true;
        if (confirm('Do you really want to delete this config: ' + code + ' record?')) {
            if (filename) {
                var payloadData_1 = {};
                payloadData_1.uploadpath = this.configuploadpath;
                payloadData_1.filename = filename;
                this.ftService.deleteInputFile(payloadData_1)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        //this.toastr.error(data.message);
                        console.log('Error deleted ' + data.message);
                    }
                    else {
                        console.log('File deleted - ' + payloadData_1.filename);
                    }
                }, function (err) {
                    console.log('Error deleted ' + err);
                });
            }
            this.msconfigService.deleteMsconfig(msconfigid)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.msconfigs.splice(idx, 1);
                    _this.totalrows = _this.totalrows - 1;
                    _this.toastr.success(data.message);
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    ListconfigComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-listconfig',
            template: __webpack_require__("./src/app/components/msconfig/listconfig/listconfig.component.html"),
            styles: [__webpack_require__("./src/app/components/msconfig/listconfig/listconfig.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_7__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_8__app_global__["a" /* Globals */]])
    ], ListconfigComponent);
    return ListconfigComponent;
}());



/***/ }),

/***/ "./src/app/components/msconfig/viewconfig/viewconfig.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/msconfig/viewconfig/viewconfig.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Config Details</h3>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-8\">\n            <form [formGroup]=\"msconfigForm\" class=\"form-horizontal\">\n                <div class=\"form-group\">\n                    <label for=\"code\" class=\"col-sm-2 control-label\">Code</label>\n                    <div class=\"col-sm-10 form-ele\">{{ msconfig?.code }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ msconfig?.code }}</div>-->\n                    </div> \n                </div>\n                <div class=\"form-group\">\n                    <label for=\"value\" class=\"col-sm-2 control-label\">Value</label>\n                    <div class=\"form-ele col-sm-10\">{{ msconfig?.value }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ msconfig?.value }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"group\" class=\"col-sm-2 control-label\">Group</label>\n                    <div class=\"form-ele col-sm-10\">{{ msconfig?.groupname }}\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ msconfig?.groupname }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"desc\" class=\"col-sm-2 control-label\">Desc</label>\n                    \n                    <div class=\"form-ele col-sm-10\">{{ msconfig?.desc }}\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ msconfig?.desc }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n                    <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control selectfontsize\" [formControl]=\"status\" disabled>\n                            <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                        <!-- <div class=\"form-ele\">{{ artist?.status }}</div> -->\n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class=\"col-sm-4 thumbpadding\" *ngIf=\"msconfig?.filepath != ''\">\n                <img src=\"{{ msconfig?.filepath }}\" class=\"img-thumbnail thumbviewsize\">\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-8\">\n            <form class=\"form-horizontal\">\n                <div class=\"form-group\">\n                    <label class=\"col-sm-2 control-label\"></label>\n                    <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                        <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/msconfig/viewconfig/viewconfig.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewconfigComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ViewconfigComponent = /** @class */ (function () {
    function ViewconfigComponent(fb, authService, msconfigService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ViewconfigComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var msconfigid = params['id'];
            _this.getMsconfigGroupList('CSTATUS');
            _this.getMsconfig(msconfigid);
        });
        this.msconfigForm = this.fb.group({
            status: this.status
        });
    };
    ViewconfigComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ViewconfigComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.sts = data.data;
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewconfigComponent.prototype.getMsconfig = function (id) {
        var _this = this;
        this.msconfigService.getMsconfigAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.msconfig = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('MsConfig id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewconfigComponent.prototype.populateForm = function (data) {
        this.msconfigForm.patchValue({
            status: data.status
        });
    };
    ViewconfigComponent.prototype.onBack = function () {
        this.router.navigate(['/listconfig'], { preserveQueryParams: true });
    };
    ViewconfigComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewconfig',
            template: __webpack_require__("./src/app/components/msconfig/viewconfig/viewconfig.component.html"),
            styles: [__webpack_require__("./src/app/components/msconfig/viewconfig/viewconfig.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_3__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewconfigComponent);
    return ViewconfigComponent;
}());



/***/ }),

/***/ "./src/app/components/navbar/navbar.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/navbar/navbar.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- Fixed navbar -->\n<div id=\"wrap\">\n    \n        <header>   \n            <div class=\"inner relative\">\n                <a *ngIf=\"this.qhashid === '' && nav.linkaccess\" class=\"logo\" href=\"{{this.homepath}}\"><img src=\"KXLOGO6.png\" alt=\"kaxet\"></a>\n                <span *ngIf=\"this.qhashid != '' || !nav.linkaccess\" class=\"logo\"><img src=\"KXLOGO6.png\" alt=\"kaxet\"></span>\n                <a *ngIf=\"this.qhashid === '' && nav.linkaccess\" id=\"menu-toggle\" class=\"button dark\" href=\"#\"><i class=\"fa fa-bars fa-2x\"></i></a>\n                <nav id=\"navigation\">\n                    <ul id=\"main-menu\" onclick=\"toggleMenu()\">\n                        <li *ngIf=\"authService.isLoggedIn()\">\n                            <a style=\"cursor:pointer;float:center;color:#fce86c\" routerLink=\"report\" routerLinkActive=\"active\"><i class=\"fa fa-home fa-lg\"></i></a>\n                        </li>\n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\">\n                            <a routerLink=\"listartist\" routerLinkActive=\"active\">Artist</a>\n                            <ul class=\"sub-menu\">\n                                <li><a routerLink=\"addartist\" routerLinkActive=\"active\"><i class=\"fa fa-plus-square\"></i>  Add Artist</a></li>\n                                <li><a routerLink=\"listartist\" routerLinkActive=\"active\"><i class=\"fa fa-edit\"></i>  Manage Artist</a></li>\n                            </ul>\n                        </li>\n                        <!-- <li><a href=\"http://www.freshdesignweb.com/responsive-drop-down-menu-jquery-css3-using-icon-symbol.html\">Portfolio</a></li> -->\n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\">\n                            <a routerLink=\"listalbum\" routerLinkActive=\"active\">Album</a>\n                            <ul class=\"sub-menu\">\n                                <li><a routerLink=\"addalbum\" routerLinkActive=\"active\"><i class=\"fa fa-plus-square\"></i>  Add Album</a></li>\n                                <li><a routerLink=\"listalbum\" routerLinkActive=\"active\"><i class=\"fa fa-edit\"></i>  Manage Album</a></li>\n                            </ul>\n                        </li>\n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\">\n                            <a routerLink=\"listsong\" routerLinkActive=\"active\">Song  <i class=\"fa fa-music\"></i></a>\n                            <ul class=\"sub-menu\">\n                                <li><a routerLink=\"addsong\" routerLinkActive=\"active\"><i class=\"fa fa-plus-square\"></i>  Add Song</a></li>\n                                <li><a routerLink=\"listsong\" routerLinkActive=\"active\"><i class=\"fa fa-edit\"></i>  Manage Song</a></li>\n                            </ul>\n                        </li>\n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\">\n                                <a routerLink=\"songpendingpurchase\" routerLinkActive=\"active\">Purchase</a>\n                                <ul class=\"sub-menu\">\n                                    <li><a routerLink=\"songpendingpurchase\" routerLinkActive=\"active\">Pending Cash</a></li>\n                                    <li><a routerLink=\"songcompletepurchase\" routerLinkActive=\"active\">Summary</a></li>\n                                </ul>\n                        </li>\n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'ADM'\">\n                            <a style=\"cursor:pointer\">Data</a>\n                            <ul class=\"sub-menu\">\n                                    <li><a routerLink=\"listconfig\" routerLinkActive=\"active\">Configs</a></li>\n                                <li><a routerLink=\"labelstats\" routerLinkActive=\"active\">Labels</a></li>\n                                <li><a routerLink=\"artiststats\" routerLinkActive=\"active\">Artists</a></li>\n                                <li><a routerLink=\"albumstats\" routerLinkActive=\"active\">Albums</a></li>\n                                <li><a routerLink=\"songstats\" routerLinkActive=\"active\">Songs</a></li>\n                                <li><a routerLink=\"songpurchasestats\" routerLinkActive=\"active\">Purchase</a></li>\n                                <li><a routerLink=\"transactionstats\" routerLinkActive=\"active\">Transactions</a></li>\n                                <li><a routerLink=\"othertransactionstats\" routerLinkActive=\"active\">Bank Transfer/Adjustment</a></li>\n                            </ul>\n                        </li>                        \n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'ADM'\">\n                            <a style=\"cursor:pointer\">Pending Action</a>\n                            <ul class=\"sub-menu\">\n                                <!-- <li><a routerLink=\"usermanagement\" [queryParams]=\"{status:'STSPEND',veremail:'Y'}\" routerLinkActive=\"active\">Pending Labels</a></li> -->\n                                <li><a routerLink=\"usermanagement\" routerLinkActive=\"active\">Pending Labels</a></li>\n                                <!-- <li><a routerLink=\"songmanagement\" [queryParams]=\"{songpublish:'N'}\" routerLinkActive=\"active\"><i class=\"fa fa-music\"></i> Publish Songs</a></li> -->\n                                <li><a routerLink=\"songmanagement\" routerLinkActive=\"active\"><i class=\"fa fa-music\"></i> Publish Songs</a></li>\n                                <li><a routerLink=\"pendingtrfbalancereq\" routerLinkActive=\"active\">Pending Transfer Balance</a></li>\n                            </ul>\n                        </li>                        \n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'ADM'\">\n                            <!-- <a routerLink=\"listconfig\" routerLinkActive=\"active\">Master Config  <i class=\"fa fa-wrench\"></i></a> -->\n                            <a style=\"cursor:pointer\">Adjustment</a>\n                            <ul class=\"sub-menu\">\n                                <!-- <li><a routerLink=\"listconfig\" routerLinkActive=\"active\">Manage Config</a></li> -->\n                                <li><a routerLink=\"addadjustment\" routerLinkActive=\"active\">Add Adjustment</a></li>\n                                <li><a routerLink=\"listadjustment\" routerLinkActive=\"active\">Adjustment Summary</a></li>\n                            </ul>\n                        </li>\n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'SUP'\">\n                                <a routerLink=\"listconfig\" routerLinkActive=\"active\">Master Config  <i class=\"fa fa-wrench\"></i></a>\n                                <ul class=\"sub-menu\">\n                                    <li><a routerLink=\"addconfig\" routerLinkActive=\"active\">Add Config</a></li>\n                                    <li><a routerLink=\"addgroup\" routerLinkActive=\"active\">Add Group</a></li>\n                                    <li><a routerLink=\"listconfig\" routerLinkActive=\"active\">Manage Config</a></li>\n                                </ul>\n                        </li>\n\n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'ADF'\">\n                                <a style=\"cursor:pointer\">Data</a>\n                                <ul class=\"sub-menu\">\n                                    <li><a routerLink=\"listadjustment\" routerLinkActive=\"active\">Adjustment Summary</a></li>\n                                    <li><a routerLink=\"admlisttrfbalancereq\" routerLinkActive=\"active\">Transfer Balance Request</a></li>\n                                </ul>\n                        </li>  \n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'ADF'\">\n                                <a style=\"cursor:pointer\">Pending Action</a>\n                                <ul class=\"sub-menu\">\n                                    <li><a routerLink=\"pendingadjustment\" routerLinkActive=\"active\">Pending Adjustment</a></li>\n                                </ul>\n                        </li>\n\n                        <li class=\"current-menu-item\" *ngIf=\"!authService.isLoggedIn() && this.qhashid === '' && nav.linkaccess\"><a routerLink=\"login\" routerLinkActive=\"active\"><i class=\"fa fa-angle-right\"></i><i class=\"fa fa-angle-right\"></i>  Login</a></li>\n                        <li class=\"parent\" *ngIf=\"authService.isLoggedIn()\">\n                                <a routerLink=\"profile\" routerLinkActive=\"active\">Hi, {{ authService.currentUser.name }}  <i class=\"fa fa-user\"></i></a>\n                                <ul class=\"sub-menu\">\n                                    <li><a routerLink=\"profile\" routerLinkActive=\"active\">My Profile</a></li>\n                                    <li *ngIf=\"authService.currentUser.usertype == 'LBL'\"><a routerLink=\"listtrfbalancereq\" routerLinkActive=\"active\">Transfer Balance History</a></li>\n                                    <li><a routerLink=\"updateemail\" routerLinkActive=\"active\">Change Email</a></li>\n                                    <li><a routerLink=\"password\" routerLinkActive=\"active\">Change Password</a></li>\n                                    <li><a routerLink=\"logout\" routerLinkActive=\"active\">Logout</a></li>\n                                </ul>\n                            </li>\n                    </ul>\n                </nav>\n                <div class=\"clear\"></div>\n            </div>\n        </header>\t\n    </div> "

/***/ }),

/***/ "./src/app/components/navbar/navbar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NavbarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var NavbarComponent = /** @class */ (function () {
    function NavbarComponent(authService, route, nav, globals) {
        this.authService = authService;
        this.route = route;
        this.nav = nav;
        this.globals = globals;
    }
    NavbarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.homepath = this.globals.kaxeturl;
        this.route.queryParams.forEach(function (params) {
            _this.qhashid = params['id'] || '';
        });
    };
    NavbarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-navbar',
            template: __webpack_require__("./src/app/components/navbar/navbar.component.html"),
            styles: [__webpack_require__("./src/app/components/navbar/navbar.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_3__services_navbar_service__["a" /* NavbarService */],
            __WEBPACK_IMPORTED_MODULE_4__app_global__["a" /* Globals */]])
    ], NavbarComponent);
    return NavbarComponent;
}());



/***/ }),

/***/ "./src/app/components/othertransaction/othertransaction.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/othertransaction/othertransaction.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Bank Transfer/Adjustment Transaction</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"purchaseid\" class=\"col-sm-2 paddingsearch\">Reference</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"purchaseid\" [formControl]=\"purchaseid\" placeholder=\"Reference\">\n                    </div>\n                </div>         \n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"dbcr\" class=\"col-sm-2 paddingsearch\">IN/OUT</label>\n                    <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"dbcr\">\n                          <option ng-selected=\"true\" value=\"\">Select the option</option>\n                          <option *ngFor=\"let a of dc\" [ngValue]=\"a.code\">{{a.value}}</option>\n                      </select>\n                    </div>\n                </div>            \n              </div>\n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"fromamt\" class=\"col-sm-2 paddingsearch\">From Amount</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"fromamt\" [formControl]=\"fromamt\" placeholder=\"From Amount\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"toamt\" class=\"col-sm-2 paddingsearch\">To Amount</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"toamt\" [formControl]=\"toamt\" placeholder=\"To Amount\">\n                    </div>\n                  </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label class=\"col-sm-6 paddingsearch\">Transaction Date</label>\n                  </div>  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                              Today\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                              Current month\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                              Date Range (yyyy-mm-dd)\n                          </label>\n                      </div>\n                      <div class=\"row\" style=\"padding: 8px\">\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n                  </div> \n\n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"col-sm-6\" style=\"margin:0;padding:0\">\n                        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                      </div>\n                  </div>                  \n              </div>\n            </form>\n        </div>    \n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"transactions && totalrows < 1\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No transaction found</h3> \n        </div>\n\n        <div class=\"panel-body\">\n          There is NO transaction found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"transactions && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTransaction('transactiondt')\">Transaction Date</a></th>\n                            <th width=\"40%\" scope=\"col\">Remarks</th>\n                            <th width=\"20%\" scope=\"col\">Type</th>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTransaction('amount')\">Amount</a></th>\n                            <th width=\"5%\" scope=\"col\">In/Out</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let trx of transactions; let trxIndex = index'>\n                            <!-- <td data-label=\"Transaction Date\" scope=\"row\"><a style=\"cursor:pointer\" (click)=\"showTransaction(trx._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ trx.transactiondt | date: 'd MMM y'}}</a></td>   -->\n                            <td data-label=\"Transaction Date\" scope=\"row\">{{ trx.transactiondt | date: 'd MMM y'}}</td>\n                            <td data-label=\"Remarks\">reference: {{ trx.purchaseid }} ; type: {{ trx.producttype}} </td>\n                            <td data-label=\"Type\">{{ trx.producttype}}</td>\n                            <td data-label=\"Amount\" class=\"text-right\">{{ trx.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"In/Out\">{{ trx.dbcr }}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"transactions && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/othertransaction/othertransaction.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OthertransactionComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_transaction_service__ = __webpack_require__("./src/app/services/transaction.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







//import { SongService } from '../../services/song.service';

var OthertransactionComponent = /** @class */ (function () {
    function OthertransactionComponent(fb, authService, route, router, toastr, datePipe, transactionService, msconfigService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.transactionService = transactionService;
        this.msconfigService = msconfigService;
        this.dc = [{ code: '-', value: 'OUT' },
            { code: '+', value: 'IN' }];
        this.loading = false;
        this.purchaseid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.dbcr = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.fromamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.toamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    OthertransactionComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            purchaseid: this.purchaseid,
            dbcr: this.dbcr,
            fromamt: this.fromamt,
            toamt: this.toamt,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.route.queryParams.forEach(function (params) {
            _this.qpurchaseid = params['purchaseid'] || '';
            _this.qdbcr = params['dbcr'] || '';
            _this.qfromamt = params['fromamt'] || '';
            _this.qtoamt = params['toamt'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.purchaseid = _this.qpurchaseid;
                payload.dbcr = _this.qdbcr;
                payload.fromamt = _this.qfromamt;
                payload.toamt = _this.qtoamt;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    purchaseid: _this.qpurchaseid,
                    dbcr: _this.qdbcr,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    OthertransactionComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    OthertransactionComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    OthertransactionComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['othertransaction'], {
                            queryParams: {
                                purchaseid: this.reportForm.value.purchaseid,
                                dbcr: this.reportForm.value.dbcr,
                                fromamt: this.reportForm.value.fromamt,
                                toamt: this.reportForm.value.toamt,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['othertransaction'], {
                    queryParams: {
                        purchaseid: this.reportForm.value.purchaseid,
                        dbcr: this.reportForm.value.dbcr,
                        fromamt: this.reportForm.value.fromamt,
                        toamt: this.reportForm.value.toamt,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    OthertransactionComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.transactionService.getOtherTransactionAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.transactions = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qpurchaseid = formval.purchaseid;
                _this.qdbcr = formval.dbcr;
                _this.qfromamt = formval.fromamt;
                _this.qtoamt = formval.toamt;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    purchaseid: _this.qpurchaseid,
                    dbcr: _this.qdbcr,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    OthertransactionComponent.prototype.setPage = function (page) {
        this.router.navigate(['othertransaction'], {
            queryParams: {
                purchaseid: this.qpurchaseid,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    OthertransactionComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    OthertransactionComponent.prototype.sortTransaction = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['othertransaction'], {
            queryParams: {
                purchaseid: this.qpurchaseid,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    OthertransactionComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-othertransaction',
            template: __webpack_require__("./src/app/components/othertransaction/othertransaction.component.html"),
            styles: [__webpack_require__("./src/app/components/othertransaction/othertransaction.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_transaction_service__["a" /* TransactionService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], OthertransactionComponent);
    return OthertransactionComponent;
}());



/***/ }),

/***/ "./src/app/components/othertransactionstats/othertransactionstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/othertransactionstats/othertransactionstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Bank Transfer/Adjustment Transaction</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"purchaseid\" class=\"col-sm-2 paddingsearch\">Reference</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"purchaseid\" [formControl]=\"purchaseid\" placeholder=\"Reference\">\n                    </div>\n                </div>         \n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"dbcr\" class=\"col-sm-2 paddingsearch\">IN/OUT</label>\n                    <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"dbcr\">\n                          <option ng-selected=\"true\" value=\"\">Select the option</option>\n                          <option *ngFor=\"let a of dc\" [ngValue]=\"a.code\">{{a.value}}</option>\n                      </select>\n                    </div>\n                </div>            \n              </div>\n              \n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"fromamt\" class=\"col-sm-2 paddingsearch\">From Amount</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"fromamt\" [formControl]=\"fromamt\" placeholder=\"From Amount\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"toamt\" class=\"col-sm-2 paddingsearch\">To Amount</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"toamt\" [formControl]=\"toamt\" placeholder=\"To Amount\">\n                    </div>\n                  </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label class=\"col-sm-6 paddingsearch\">Transaction Date</label>\n                  </div>  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                              Today\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                              Current month\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                              Date Range (yyyy-mm-dd)\n                          </label>\n                      </div>\n                      <div class=\"row\" style=\"padding: 8px\">\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n                  </div> \n\n              </div>\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"labelid\">\n                          <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                          <option value=\"\">Select the label</option>\n                          <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                      </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                </div>                  \n              </div>\n            </form>\n        </div>    \n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"transactions && totalrows < 1\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No transaction found</h3> \n        </div>\n\n        <div class=\"panel-body\">\n          There is NO transaction found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"transactions && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTransaction('transactiondt')\">Transaction Date</a></th>\n                            <th width=\"40%\" scope=\"col\">Remarks</th>\n                            <th width=\"20%\" scope=\"col\">Type</th>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTransaction('amount')\">Amount</a></th>\n                            <th width=\"5%\" scope=\"col\">In/Out</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let trx of transactions; let trxIndex = index'>\n                            <!-- <td data-label=\"Transaction Date\" scope=\"row\"><a style=\"cursor:pointer\" (click)=\"showTransaction(trx._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ trx.transactiondt | date: 'd MMM y'}}</a></td>   -->\n                            <td data-label=\"Transaction Date\" scope=\"row\">{{ trx.transactiondt | date: 'd MMM y'}}</td>\n                            <td data-label=\"Remarks\">reference: {{ trx.purchaseid }} ;<br> type: {{ trx.producttype}} </td>\n                            <td data-label=\"Type\">{{ trx.producttype }}</td>\n                            <td data-label=\"Amount\" class=\"text-right\">{{ trx.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"In/Out\">{{ trx.dbcr }}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"transactions && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/othertransactionstats/othertransactionstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OthertransactionstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_transaction_service__ = __webpack_require__("./src/app/services/transaction.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







//import { SongService } from '../../services/song.service';


var OthertransactionstatsComponent = /** @class */ (function () {
    function OthertransactionstatsComponent(fb, authService, route, router, toastr, datePipe, transactionService, msconfigService, labelmgtService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.transactionService = transactionService;
        this.msconfigService = msconfigService;
        this.labelmgtService = labelmgtService;
        this.dc = [{ code: '-', value: 'OUT' },
            { code: '+', value: 'IN' }];
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.purchaseid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.dbcr = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.fromamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.toamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    OthertransactionstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            purchaseid: this.purchaseid,
            dbcr: this.dbcr,
            fromamt: this.fromamt,
            toamt: this.toamt,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qpurchaseid = params['purchaseid'] || '';
            _this.qdbcr = params['dbcr'] || '';
            _this.qfromamt = params['fromamt'] || '';
            _this.qtoamt = params['toamt'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.labelid = _this.qlabelid;
                payload.purchaseid = _this.qpurchaseid;
                payload.dbcr = _this.qdbcr;
                payload.fromamt = _this.qfromamt;
                payload.toamt = _this.qtoamt;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    purchaseid: _this.qpurchaseid,
                    dbcr: _this.qdbcr,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    OthertransactionstatsComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    OthertransactionstatsComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    OthertransactionstatsComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    OthertransactionstatsComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['othertransactionstats'], {
                            queryParams: {
                                labelid: this.reportForm.value.labelid,
                                purchaseid: this.reportForm.value.purchaseid,
                                dbcr: this.reportForm.value.dbcr,
                                fromamt: this.reportForm.value.fromamt,
                                toamt: this.reportForm.value.toamt,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['othertransactionstats'], {
                    queryParams: {
                        labelid: this.reportForm.value.labelid,
                        purchaseid: this.reportForm.value.purchaseid,
                        dbcr: this.reportForm.value.dbcr,
                        fromamt: this.reportForm.value.fromamt,
                        toamt: this.reportForm.value.toamt,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    OthertransactionstatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.transactionService.getAdmOtherTransactionAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.transactions = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid,
                    _this.qpurchaseid = formval.purchaseid;
                _this.qdbcr = formval.dbcr;
                _this.qfromamt = formval.fromamt;
                _this.qtoamt = formval.toamt;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    purchaseid: _this.qpurchaseid,
                    dbcr: _this.qdbcr,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    OthertransactionstatsComponent.prototype.setPage = function (page) {
        this.router.navigate(['othertransactionstats'], {
            queryParams: {
                labelid: this.qlabelid,
                purchaseid: this.qpurchaseid,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    OthertransactionstatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    OthertransactionstatsComponent.prototype.sortTransaction = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['othertransactionstats'], {
            queryParams: {
                labelid: this.qlabelid,
                purchaseid: this.qpurchaseid,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    OthertransactionstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-othertransactionstats',
            template: __webpack_require__("./src/app/components/othertransactionstats/othertransactionstats.component.html"),
            styles: [__webpack_require__("./src/app/components/othertransactionstats/othertransactionstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_transaction_service__["a" /* TransactionService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_usermgt_service__["a" /* UsermgtService */]])
    ], OthertransactionstatsComponent);
    return OthertransactionstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/purchase/songcompletepurchase/songcompletepurchase.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/purchase/songcompletepurchase/songcompletepurchase.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Purchase Summary</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"artistname\" class=\"col-sm-2 paddingsearch\">Artist</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Artist Name\">\n                        </div>\n                    </div>         \n                    <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"buyername\" class=\"col-sm-2 paddingsearch\">Buyer</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"buyername\" [formControl]=\"buyername\" placeholder=\"Buyer Name\">\n                      </div>\n                    </div>            \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"songname\" class=\"col-sm-2 paddingsearch\">Song</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"songname\" [formControl]=\"songname\" placeholder=\"Song Name\">\n                        </div>\n                    </div>\n                    <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                          <select class=\"form-control\" [formControl]=\"status\">\n                              <option ng-selected=\"true\" value=\"\">Select the status</option>\n                              <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                          </select>\n                      </div>\n                    </div>         \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                      <label class=\"col-sm-6 paddingsearch\">Purchase Date</label>\n                    </div>  \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-3 col-md-3\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                                Today\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-3 col-md-3\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                                Current month\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-6 col-md-6\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                                Date Range (yyyy-mm-dd)\n                            </label>\n                        </div>\n                        <div class=\"row\" style=\"padding: 8px\">\n                            <div class=\"col-sm-6 col-md-6\">\n                                <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                    <div class=\"input-group\">\n                                        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                        <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                    </div>\n                                    <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                        <span class=\"col-sm-2\"></span>\n                                        <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-sm-6 col-md-6\">\n                                <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                    <div class=\"input-group\">\n                                        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                        <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                    </div>\n                                    <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                        <span class=\"col-sm-2\"></span>\n                                        <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div> \n\n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"purchaseid\" class=\"col-sm-2 paddingsearch\">Payment Ref</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"purchaseid\" [formControl]=\"purchaseid\" placeholder=\"24 chars Payment Ref\">\n                        </div>\n                    </div>  \n                    <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"paymentmtd\" class=\"col-sm-2 paddingsearch\">Payment</label>\n                      <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"paymentmtd\">\n                            <option ng-selected=\"true\" value=\"\">Select the method</option>\n                            <option *ngFor=\"let pmt of pmtd\" [ngValue]=\"pmt.code\">{{pmt.value}}</option>\n                        </select>\n                      </div>\n                    </div> \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                    </div>                  \n                </div>\n            </form>  \n        </div>\n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"songpurchase && totalrows < 1\">\n      <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">No song purchase found</h3> \n      </div>\n\n      <div class=\"panel-body\">\n        There is NO song purchase found for the selected criteria.\n      </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"songpurchase && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('purchasedt')\">Purchase Date</a></th>\n                            <th width=\"5%\" scope=\"col\">Payment</th>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('listener')\">Buyer</a></th>\n                            <th width=\"25%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('song')\">Song Title</a></th>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('artist')\">Artist</a></th>\n                            <!-- <th width=\"15%\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('album')\">Album</a></th> -->                            \n                            <th width=\"10%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('songprice')\">Price</a></th>\n                            <th width=\"5%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('status')\">Status</a></th>\n                            <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('approvedt')\">Response date</a></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let songpuritem of songpurchase; let songIndex = index'>\n                            <td data-label=\"Purchase Date\" scope=\"row\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showPurchase(songpuritem._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ songpuritem.purchasedt | date: 'd MMM y'}}</a></td>  \n                            <td data-label=\"Payment\">{{ songpuritem.payment }}</td>\n                            <td data-label=\"Buyer\">{{ songpuritem.listener }}</td>\n                            <td data-label=\"Song Title\"><a style=\"cursor:pointer\" (click)=\"showSong(songpuritem.songid)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Song\">{{ songpuritem.song}}</a></td>\n                            <td data-label=\"Artist\">{{ songpuritem.artist }}</td>\n                            <!-- <td style=\"font-size:12px\">{{ songpuritem.album }}</td> -->\n                            <td data-label=\"Song Price\" class=\"text-right\">{{ songpuritem.songprice | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"Status\">{{ songpuritem.stsvalue }}</td>\n                            <td data-label=\"Response date\">{{ songpuritem.approvedt | date: 'd MMM y'}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"songpurchase && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/purchase/songcompletepurchase/songcompletepurchase.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SongcompletepurchaseComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_songpurchase_service__ = __webpack_require__("./src/app/services/songpurchase.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SongcompletepurchaseComponent = /** @class */ (function () {
    function SongcompletepurchaseComponent(fb, authService, route, router, toastr, datePipe, songpurchaseService, msconfigService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.songpurchaseService = songpurchaseService;
        this.msconfigService = msconfigService;
        this.loading = false;
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        //albumname = new FormControl('',[Validators.nullValidator]);  
        this.buyername = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.paymentmtd = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.purchaseid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    SongcompletepurchaseComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            artistname: this.artistname,
            //albumname: this.albumname,
            buyername: this.buyername,
            songname: this.songname,
            status: this.status,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt,
            paymentmtd: this.paymentmtd,
            purchaseid: this.purchaseid
        });
        this.getMsconfigGroupList('PMTSTATUS');
        this.getMsconfigGroupList('PMTMETHOD');
        this.route.queryParams.forEach(function (params) {
            _this.qartistname = params['artistname'] || '';
            //this.qalbumname = params['albumname'] || '';
            _this.qbuyername = params['buyername'] || '';
            _this.qsongname = params['songname'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpaymentmtd = params['paymentmtd'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            _this.qpurchaseid = params['purchaseid'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.artistname = _this.qartistname;
                //payload.albumname = this.qalbumname;
                payload.buyername = _this.qbuyername;
                payload.songname = _this.qsongname;
                payload.status = _this.qstatus;
                payload.paymentmtd = _this.qpaymentmtd;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.purchaseid = _this.qpurchaseid;
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    artistname: _this.qartistname,
                    //albumname: this.qalbumname,
                    buyername: _this.qbuyername,
                    songname: _this.qsongname,
                    status: _this.qstatus,
                    paymentmtd: _this.qpaymentmtd,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                    purchaseid: _this.qpurchaseid
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    SongcompletepurchaseComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    SongcompletepurchaseComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    SongcompletepurchaseComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'PMTSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'PMTMETHOD') {
                        _this.pmtd = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                    _this.pmtd = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.pmtd = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongcompletepurchaseComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['songcompletepurchase'], {
                            queryParams: {
                                purchaseid: this.reportForm.value.purchaseid,
                                artistname: this.reportForm.value.artistname,
                                //albumname: this.reportForm.value.albumname,
                                buyername: this.reportForm.value.buyername,
                                songname: this.reportForm.value.songname,
                                status: this.reportForm.value.status,
                                paymentmtd: this.reportForm.value.paymentmtd,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['songcompletepurchase'], {
                    queryParams: {
                        purchaseid: this.reportForm.value.purchaseid,
                        artistname: this.reportForm.value.artistname,
                        //albumname: this.reportForm.value.albumname,
                        buyername: this.reportForm.value.buyername,
                        songname: this.reportForm.value.songname,
                        status: this.reportForm.value.status,
                        paymentmtd: this.reportForm.value.paymentmtd,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    SongcompletepurchaseComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.songpurchaseService.getSongpurchaseAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.songpurchase = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qpurchaseid = formval.purchaseid;
                _this.qartistname = formval.artistname;
                //this.qalbumname = formval.albumname;
                _this.qbuyername = formval.buyername;
                _this.qsongname = formval.songname;
                _this.qstatus = formval.status;
                _this.qpaymentmtd = formval.paymentmtd;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    purchaseid: _this.qpurchaseid,
                    artistname: _this.qartistname,
                    //albumname: this.qalbumname,
                    buyername: _this.qbuyername,
                    songname: _this.qsongname,
                    status: _this.qstatus,
                    paymentmtd: _this.qpaymentmtd,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongcompletepurchaseComponent.prototype.setPage = function (page) {
        this.router.navigate(['songcompletepurchase'], {
            queryParams: {
                purchaseid: this.qpurchaseid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                status: this.qstatus,
                paymentmtd: this.qpaymentmtd,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    SongcompletepurchaseComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    SongcompletepurchaseComponent.prototype.sortSongpurchase = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['songcompletepurchase'], {
            queryParams: {
                purchaseid: this.qpurchaseid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                status: this.qstatus,
                paymentmtd: this.qpaymentmtd,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongcompletepurchaseComponent.prototype.showSong = function (songid) {
        this.router.navigate(["viewsongpurchase/" + songid], {
            queryParams: {
                srcpg: 'comp',
                purchaseid: this.qpurchaseid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                status: this.qstatus,
                paymentmtd: this.qpaymentmtd,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongcompletepurchaseComponent.prototype.showPurchase = function (songpurchaseid) {
        this.router.navigate(["viewpurchase/" + songpurchaseid], {
            queryParams: {
                srcpg: 'comp',
                purchaseid: this.qpurchaseid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                status: this.qstatus,
                paymentmtd: this.qpaymentmtd,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongcompletepurchaseComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-songcompletepurchase',
            template: __webpack_require__("./src/app/components/purchase/songcompletepurchase/songcompletepurchase.component.html"),
            styles: [__webpack_require__("./src/app/components/purchase/songcompletepurchase/songcompletepurchase.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_songpurchase_service__["a" /* SongpurchaseService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], SongcompletepurchaseComponent);
    return SongcompletepurchaseComponent;
}());



/***/ }),

/***/ "./src/app/components/purchase/songpendingpurchase/songpendingpurchase.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/purchase/songpendingpurchase/songpendingpurchase.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Pending Song purchase (Cash)</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"purchaseid\" class=\"col-sm-2 paddingsearch\">Payment Ref</label>\n                        <div class=\"col-sm-10\">\n                            <input type=\"text\" class=\"form-control\" id=\"purchaseid\" [formControl]=\"purchaseid\" placeholder=\"24 chars Payment Ref\">\n                        </div>\n                    </div>            \n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"artistname\" class=\"col-sm-2 paddingsearch\">Artist</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Artist Name\">\n                        </div>\n                    </div>         \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"buyername\" class=\"col-sm-2 paddingsearch\">Buyer</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"buyername\" [formControl]=\"buyername\" placeholder=\"Buyer Name\">\n                        </div>\n                    </div> \n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"songname\" class=\"col-sm-2 paddingsearch\">Song</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"songname\" [formControl]=\"songname\" placeholder=\"Song Name\">\n                        </div>\n                    </div>         \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                      <label class=\"col-sm-6 paddingsearch\">Purchase Date</label>\n                    </div>  \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-3 col-md-3\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                                Today\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-3 col-md-3\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                                Current month\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-6 col-md-6\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                                Date Range (yyyy-mm-dd)\n                            </label>\n                        </div>\n                        <div class=\"row\" style=\"padding: 8px\">\n                            <div class=\"col-sm-6 col-md-6\">\n                                <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                    <div class=\"input-group\">\n                                        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                        <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                    </div>\n                                    <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                        <span class=\"col-sm-2\"></span>\n                                        <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-sm-6 col-md-6\">\n                                <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                    <div class=\"input-group\">\n                                        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                        <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                    </div>\n                                    <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                        <span class=\"col-sm-2\"></span>\n                                        <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div> \n\n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <div class=\"col-sm-6\" style=\"margin:0;padding:0\">\n                          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                        </div>\n                    </div>                  \n                </div>\n            </form>  \n        </div>\n    </div>    \n    <div class=\"panel panel-danger\" *ngIf=\"songpendings && totalrows < 1\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">No pending song purchase found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n            There is NO pending song purchase found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"songpendings && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <span class=\"panel-title\"><i>{{reportTitle}}</i> <b> {{ totalrows }} records found</b> </span> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"10%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpending('purchasedt')\">Purchase Date</a></th>\n                            <th width=\"10%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpending('listener')\">Buyer</a></th>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpending('song')\">Song Name</a></th>\n                            <!-- <th width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortSongpending('artist')\">Artist</a></th> -->\n                            <!-- <th width=\"15%\"><a style=\"cursor:pointer\" (click)=\"sortSong('album')\">Album</a></th> -->                            \n                            <th width=\"10%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpending('songprice')\">Price</a></th>\n                            <th width=\"15%\" scope=\"col\" >Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let songpending of songpendings; let songIndex = index'>\n                            <td data-label=\"Purchase Date\" scope=\"row\">{{ songpending.purchasedt | date: 'd MMM y'}}</td>  \n                            <td data-label=\"Buyer\">{{ songpending.listener }}</td>\n                            <td data-label=\"Song Title\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showSong(songpending.songid)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Song\">{{ songpending.song}}</a></td>\n                            <!-- <td style=\"font-size:12px\">{{ songpending.artist }}</td> -->\n                            <!-- <td style=\"font-size:12px\">{{ songpending.album }}</td> -->\n                            <td data-label=\"Price\" class=\"text-right\">{{ songpending.songprice | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"Action\">\n                                <!-- <a style=\"cursor:pointer;color:darkgreen\" aria-label=\"Approve\" (click)=\"approvePayment(songpending._id, songpending.song,songpending.songid,songpending.objlistenerid, songpending.songprice)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Approve Payment\"><i class=\"fa fa-check fa-2x\"></i></a> -->\n                                <a style=\"cursor:pointer;color:darkgreen\" aria-label=\"Approve\" (click)=\"approvePayment(songIndex, songpending._id, songpending.song,songpending.songid,songpending.objlistenerid, songpending.songprice)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Approve Payment\">Approve</a>\n                                &nbsp;&nbsp;&nbsp;\n                                <!-- <a style=\"cursor:pointer;color:red\" aria-label=\"Reject\" (click)=\"rejectPayment(songpending._id, songpending.song)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Reject Payment\"><i class=\"fa fa-times fa-2x\"></i></a> -->\n                                <a style=\"cursor:pointer;color:red\" aria-label=\"Reject\" (click)=\"rejectPayment(songIndex, songpending._id, songpending.song)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Reject Payment\">Reject</a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"songpendings && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/purchase/songpendingpurchase/songpendingpurchase.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SongpendingpurchaseComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_songpurchase_service__ = __webpack_require__("./src/app/services/songpurchase.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_transaction_service__ = __webpack_require__("./src/app/services/transaction.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var SongpendingpurchaseComponent = /** @class */ (function () {
    function SongpendingpurchaseComponent(fb, authService, route, router, toastr, datePipe, songpurchaseService, transactionService, songService, msconfigService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.songpurchaseService = songpurchaseService;
        this.transactionService = transactionService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.loading = false;
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        //albumname = new FormControl('',[Validators.nullValidator]);  
        this.buyername = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.purchaseid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    SongpendingpurchaseComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            artistname: this.artistname,
            //albumname: this.albumname,
            buyername: this.buyername,
            songname: this.songname,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt,
            purchaseid: this.purchaseid
        });
        this.getMsconfigVal('PFEE', 'FEE');
        this.route.queryParams.forEach(function (params) {
            _this.qartistname = params['artistname'] || '';
            //this.qalbumname = params['albumname'] || '';
            _this.qbuyername = params['buyername'] || '';
            _this.qsongname = params['songname'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            _this.qpurchaseid = params['purchaseid'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.artistname = _this.qartistname;
                //payload.albumname = this.qalbumname;
                payload.buyername = _this.qbuyername;
                payload.songname = _this.qsongname;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.purchaseid = _this.qpurchaseid;
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    artistname: _this.qartistname,
                    //albumname: this.qalbumname,
                    buyername: _this.qbuyername,
                    songname: _this.qsongname,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                    purchaseid: _this.qpurchaseid
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    SongpendingpurchaseComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    SongpendingpurchaseComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    SongpendingpurchaseComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.pfee = data.data[0];
                }
                else {
                    _this.pfee = { code: '', value: 'Error ms config list' };
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.pfee = { code: '', value: 'Error ms config list' };
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongpendingpurchaseComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['songpendingpurchase'], {
                            queryParams: {
                                purchaseid: this.reportForm.value.purchaseid,
                                artistname: this.reportForm.value.artistname,
                                //albumname: this.reportForm.value.albumname,
                                buyername: this.reportForm.value.buyername,
                                songname: this.reportForm.value.songname,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                    /* if (!this.isValidDate2(pstartdt) || !this.isValidDate2(penddt) ) {
                       this.toastr.error('Input date is invalid.');
                    } else {
                       var bits = pstartdt.split('-');
                       var y = bits[2],
                         m = bits[1],
                         d = bits[0];
                       let ipstartdt = new Date(y+ '-' +m+ '-' +d);
                       bits = penddt.split('-');
                       y = bits[2];
                       m = bits[1];
                       d = bits[0];
                       let ipenddt = new Date(y+ '-' +m+ '-' +d);
                       if (ipstartdt > ipenddt) {
                         this.toastr.error('Start date cannot be greater than end date.');
                       } else {
                         this.router.navigate(['songpendingpurchase'],
                             {
                               queryParams: {
                                 artistname: this.reportForm.value.artistname,
                                 albumname: this.reportForm.value.albumname,
                                 songname: this.reportForm.value.songname,
                                 rptype: this.reportForm.value.rptype,
                                 startdt: pstartdt,
                                 enddt: penddt,
                                 page: 1,
                                 sortby: null }
                             }
                         );
                       }
                   } */
                }
            }
            else {
                this.router.navigate(['songpendingpurchase'], {
                    queryParams: {
                        purchaseid: this.reportForm.value.purchaseid,
                        artistname: this.reportForm.value.artistname,
                        //albumname: this.reportForm.value.albumname,
                        buyername: this.reportForm.value.buyername,
                        songname: this.reportForm.value.songname,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    SongpendingpurchaseComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.songpurchaseService.getPendingsongpurchaseAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.songpendings = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qpurchaseid = formval.purchaseid;
                _this.qartistname = formval.artistname;
                //this.qalbumname = formval.albumname;
                _this.qbuyername = formval.buyername;
                _this.qsongname = formval.songname;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Search Result for month:' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Result for date: ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' to ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Pending Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Result for date: today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    purchaseid: _this.qpurchaseid,
                    artistname: _this.qartistname,
                    //albumname: this.qalbumname,
                    buyername: _this.qbuyername,
                    songname: _this.qsongname,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongpendingpurchaseComponent.prototype.setPage = function (page) {
        this.router.navigate(['songpendingpurchase'], {
            queryParams: {
                purchaseid: this.qpurchaseid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    SongpendingpurchaseComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    SongpendingpurchaseComponent.prototype.sortSongpending = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['songpendingpurchase'], {
            queryParams: {
                purchaseid: this.qpurchaseid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongpendingpurchaseComponent.prototype.showSong = function (songid) {
        this.router.navigate(["viewsongpurchase/" + songid], {
            queryParams: {
                srcpg: 'pend',
                purchaseid: this.qpurchaseid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongpendingpurchaseComponent.prototype.showPurchase = function (songpurchaseid) {
        this.router.navigate(["viewpurchase/" + songpurchaseid], {
            queryParams: {
                srcpg: 'pend',
                purchaseid: this.qpurchaseid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongpendingpurchaseComponent.prototype.approvePayment = function (idx, songpurchaseid, songname, songid, listenerid, songprice) {
        var _this = this;
        if (confirm('Do you really want to approve this song payment: ' + songname + ' record?')) {
            this.loading = true;
            var payload = {};
            payload.status = 'STSAPV';
            payload.listenerid = listenerid;
            payload.songpurchaseid = songpurchaseid;
            payload.paymentmtd = 'PMTCASH';
            payload.producttype = 'SONG';
            payload.songid = songid;
            payload.dbcr = '-';
            payload.amount = Number(this.pfee.value) * (parseInt(songprice) / 100);
            this.songpurchaseService.pubSaveSongpurchasePayment(this.userObj.userid, payload)
                .subscribe(function (data) {
                if (data.success === true) {
                    _this.songpendings.splice(idx, 1);
                    _this.totalrows = _this.totalrows - 1;
                    /* setTimeout(
                      this.router.navigate(['songpendingpurchase'],
                        {
                          queryParams: {
                            artistname: this.qartistname,
                            //albumname: this.qalbumname,
                            buyername: this.qbuyername,
                            songname: this.qsongname,
                            rptype: this.qrptype,
                            startdt: this.qstartdt,
                            enddt: this.qenddt,
                            page: this.qpage || 1,
                            sortby: this.qsort }
                        }
                      ), 1000);  */
                    _this.loading = false;
                    _this.toastr.success('Approve payment success !');
                }
                else {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message + '. Error updating the purchase payment...');
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    /*   approvePayment(songpurchaseid, songname, songid, listenerid, songprice): void {
        if(confirm('Do you really want to approve this song payment: ' + songname + ' record?')){
          this.loading = true;
          let payload: any = {};
          payload.status = 'STSAPV';
          this.songpurchaseService.updateStatuspurchase(songpurchaseid, payload)
          .subscribe(data => {
            if (data.success === true) {
              let payload1: any = {};
              payload1.listenerid = listenerid;
              payload1.purchaseid = songpurchaseid;
              payload1.paymentmtd = 'PMTCASH';
              payload1.producttype = 'SONG';
              payload1.productid = songid;
              payload1.dbcr = '-'
              payload1.amount = Number(this.pfee.value) * (parseInt(songprice) / 100);
              this.transactionService.saveTransaction(this.userObj.userid, payload1)
              .subscribe(data => {
                if (data.success === true) {
                  let payload2: any = {};
                  this.songService.songbuyincrement(songid, payload2)
                  .subscribe(data => {
                    if (data.success === true) {
                      this.loading = false;
                      this.toastr.success('Approve payment success !');
                    } else {
                      this.toastr.warning('Error increment total purchase in song data...');
                    }
                    this.router.navigate(['songpendingpurchase'],
                      {
                          queryParams: {
                            artistname: this.qartistname,
                            //albumname: this.qalbumname,
                            buyername: this.qbuyername,
                            songname: this.qsongname,
                            rptype: this.qrptype,
                            startdt: this.qstartdt,
                            enddt: this.qenddt,
                            page: this.qpage || 1,
                            sortby: this.qsort }
                      }
                    );
                  },
                  err => {
                    this.loading = false;
                    //console.log(err);
                    this.toastr.error(err);
                    this.router.navigate(['songpendingpurchase'],
                      {
                          queryParams: {
                            artistname: this.qartistname,
                            //albumname: this.qalbumname,
                            buyername: this.qbuyername,
                            songname: this.qsongname,
                            rptype: this.qrptype,
                            startdt: this.qstartdt,
                            enddt: this.qenddt,
                            page: this.qpage || 1,
                            sortby: this.qsort }
                      }
                    );
                  });
                } else {
                  this.loading = false;
                  this.toastr.error('Error saving the payment transaction...');
                }
              },
              err => {
                this.loading = false;
                //console.log(err);
                this.toastr.error(err);
              });
    
            } else {
              this.loading = false;
              if (data.errcode){
                this.authService.logout();
                this.router.navigate(['errorpage']);
              }
              this.toastr.error(data.message + '. Error updating the purchase status...');
            }
          },
          err => {
            this.loading = false;
            //console.log(err);
            this.toastr.error(err);
          });
        }
      } */
    SongpendingpurchaseComponent.prototype.rejectPayment = function (idx, songpurchaseid, songname) {
        var _this = this;
        if (confirm('Do you really want to reject this song payment: ' + songname + ' record?')) {
            this.loading = true;
            var payload = {};
            payload.status = 'STSRJCT';
            payload.songpurchaseid = songpurchaseid;
            this.songpurchaseService.pubSaveSongpurchasePayment(this.userObj.userid, payload)
                .subscribe(function (data) {
                if (data.success === true) {
                    _this.songpendings.splice(idx, 1);
                    _this.totalrows = _this.totalrows - 1;
                    /* setTimeout(
                      this.router.navigate(['songpendingpurchase'],
                        {
                          queryParams: {
                            artistname: this.qartistname,
                            //albumname: this.qalbumname,
                            buyername: this.qbuyername,
                            songname: this.qsongname,
                            rptype: this.qrptype,
                            startdt: this.qstartdt,
                            enddt: this.qenddt,
                            page: this.qpage || 1,
                            sortby: this.qsort }
                        }
                      ), 1000); */
                    _this.loading = false;
                    //this.toastr.success(data.message);
                    _this.toastr.success('Reject payment success !');
                }
                else {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    SongpendingpurchaseComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-songpendingpurchase',
            template: __webpack_require__("./src/app/components/purchase/songpendingpurchase/songpendingpurchase.component.html"),
            styles: [__webpack_require__("./src/app/components/purchase/songpendingpurchase/songpendingpurchase.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_songpurchase_service__["a" /* SongpurchaseService */],
            __WEBPACK_IMPORTED_MODULE_7__services_transaction_service__["a" /* TransactionService */],
            __WEBPACK_IMPORTED_MODULE_8__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], SongpendingpurchaseComponent);
    return SongpendingpurchaseComponent;
}());



/***/ }),

/***/ "./src/app/components/purchase/songpurchasestats/songpurchasestats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/purchase/songpurchasestats/songpurchasestats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Purchase Summary</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n                <div class=\"row rowmarginsearch\">\n                    <!-- <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"artistname\" class=\"col-sm-2 paddingsearch\">Artist</label>\n                        <div class=\"col-sm-10\">\n                            <input type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Artist Name\">\n                        </div>\n                    </div> -->         \n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                        <div class=\"col-sm-10\">\n                          <select class=\"form-control\" [formControl]=\"labelid\">\n                            <option value=\"\">Select the label</option>\n                            <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                          </select>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"songname\" class=\"col-sm-2 paddingsearch\">Song</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"songname\" [formControl]=\"songname\" placeholder=\"Song Name\">\n                        </div>\n                    </div>            \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"buyername\" class=\"col-sm-2 paddingsearch\">Buyer</label>\n                        <div class=\"col-sm-10\">\n                            <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                            <input type=\"text\" class=\"form-control\" id=\"buyername\" [formControl]=\"buyername\" placeholder=\"Buyer Name\">\n                        </div>\n                      </div>\n                    <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                          <select class=\"form-control\" [formControl]=\"status\">\n                              <option ng-selected=\"true\" value=\"\">Select the status</option>\n                              <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                          </select>\n                      </div>\n                    </div>         \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                      <label class=\"col-sm-6 paddingsearch\">Purchase Date</label>\n                    </div>  \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-3 col-md-3\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                                Today\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-3 col-md-3\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                                Current month\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-6 col-md-6\">\n                        <div class=\"radio\">\n                            <label>\n                                <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                                Date Range (yyyy-mm-dd)\n                            </label>\n                        </div>\n                        <div class=\"row\" style=\"padding: 8px\">\n                            <div class=\"col-sm-6 col-md-6\">\n                                <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                    <div class=\"input-group\">\n                                        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                        <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                    </div>\n                                    <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                        <span class=\"col-sm-2\"></span>\n                                        <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-sm-6 col-md-6\">\n                                <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                    <div class=\"input-group\">\n                                        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                        <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                    </div>\n                                    <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                        <span class=\"col-sm-2\"></span>\n                                        <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div> \n\n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"purchaseid\" class=\"col-sm-2 paddingsearch\">Payment Ref</label>\n                        <div class=\"col-sm-10\">\n                            <input type=\"text\" class=\"form-control\" id=\"purchaseid\" [formControl]=\"purchaseid\" placeholder=\"24 chars Payment Ref\">\n                        </div>\n                    </div>   \n                    <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"paymentmtd\" class=\"col-sm-2 paddingsearch\">Payment</label>\n                      <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"paymentmtd\">\n                            <option ng-selected=\"true\" value=\"\">Select the method</option>\n                            <option *ngFor=\"let pmt of pmtd\" [ngValue]=\"pmt.code\">{{pmt.value}}</option>\n                        </select>\n                      </div>\n                    </div> \n                </div>\n                <div class=\"row rowmarginsearch\">\n                    <div class=\"col-sm-6 col-md-6\">\n                        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                    </div>                  \n                </div>\n            </form>  \n        </div>\n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"songpurchase && totalrows < 1\">\n      <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">No song purchase found</h3> \n      </div>\n\n      <div class=\"panel-body\">\n        There is NO song purchase found for the selected criteria.\n      </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"songpurchase && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('label')\">Label</a></th>  \n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('purchasedt')\">Purchase Date</a></th>\n                            <th width=\"5%\" scope=\"col\">Payment</th>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('listener')\">Buyer</a></th>\n                            <th width=\"25%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('song')\">Song Title</a></th>\n                            <!-- <th width=\"15%\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('album')\">Album</a></th> -->                            \n                            <th width=\"10%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('songprice')\">Price</a></th>\n                            <th width=\"5%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('status')\">Status</a></th>\n                            <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSongpurchase('approvedt')\">Response date</a></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let songpuritem of songpurchase; let songIndex = index'>\n                            <td data-label=\"Label\">{{ songpuritem.label }}</td>  \n                            <td data-label=\"Purchase Date\" scope=\"row\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showPurchase(songpuritem._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ songpuritem.purchasedt | date: 'd MMM y'}}</a></td>  \n                            <td data-label=\"Payment\">{{ songpuritem.payment }}</td>\n                            <td data-label=\"Buyer\">{{ songpuritem.listener }}</td>\n                            <td data-label=\"Song Title\"><a style=\"cursor:pointer\" (click)=\"showSong(songpuritem.songid)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Song\">{{ songpuritem.song}}</a></td>\n                            <!-- <td style=\"font-size:12px\">{{ songpuritem.album }}</td> -->\n                            <td data-label=\"Song Price\" class=\"text-right\">{{ songpuritem.songprice | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"Status\">{{ songpuritem.stsvalue }}</td>\n                            <td data-label=\"Response date\">{{ songpuritem.approvedt | date: 'd MMM y'}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"songpurchase && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/purchase/songpurchasestats/songpurchasestats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SongpurchasestatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_songpurchase_service__ = __webpack_require__("./src/app/services/songpurchase.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var SongpurchasestatsComponent = /** @class */ (function () {
    function SongpurchasestatsComponent(fb, authService, route, router, toastr, datePipe, songpurchaseService, msconfigService, labelmgtService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.songpurchaseService = songpurchaseService;
        this.msconfigService = msconfigService;
        this.labelmgtService = labelmgtService;
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        //albumname = new FormControl('',[Validators.nullValidator]);  
        this.buyername = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.paymentmtd = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.purchaseid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    SongpurchasestatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            artistname: this.artistname,
            //albumname: this.albumname,
            buyername: this.buyername,
            songname: this.songname,
            status: this.status,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt,
            paymentmtd: this.paymentmtd,
            purchaseid: this.purchaseid
        });
        this.getMsconfigGroupList('PMTSTATUS');
        this.getMsconfigGroupList('PMTMETHOD');
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qartistname = params['artistname'] || '';
            //this.qalbumname = params['albumname'] || '';
            _this.qbuyername = params['buyername'] || '';
            _this.qsongname = params['songname'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpaymentmtd = params['paymentmtd'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            _this.qpurchaseid = params['purchaseid'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.labelid = _this.qlabelid;
                payload.artistname = _this.qartistname;
                //payload.albumname = this.qalbumname;
                payload.buyername = _this.qbuyername;
                payload.songname = _this.qsongname;
                payload.status = _this.qstatus;
                payload.paymentmtd = _this.qpaymentmtd;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.purchaseid = _this.qpurchaseid;
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    artistname: _this.qartistname,
                    //albumname: this.qalbumname,
                    buyername: _this.qbuyername,
                    songname: _this.qsongname,
                    status: _this.qstatus,
                    paymentmtd: _this.qpaymentmtd,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                    purchaseid: _this.qpurchaseid
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    SongpurchasestatsComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    SongpurchasestatsComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    SongpurchasestatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'PMTSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'PMTMETHOD') {
                        _this.pmtd = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                    _this.pmtd = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.pmtd = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongpurchasestatsComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Error label list' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongpurchasestatsComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['songpurchasestats'], {
                            queryParams: {
                                purchaseid: this.reportForm.value.purchaseid,
                                labelid: this.reportForm.value.labelid,
                                artistname: this.reportForm.value.artistname,
                                //albumname: this.reportForm.value.albumname,
                                buyername: this.reportForm.value.buyername,
                                songname: this.reportForm.value.songname,
                                status: this.reportForm.value.status,
                                paymentmtd: this.reportForm.value.paymentmtd,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['songpurchasestats'], {
                    queryParams: {
                        purchaseid: this.reportForm.value.purchaseid,
                        labelid: this.reportForm.value.labelid,
                        artistname: this.reportForm.value.artistname,
                        //albumname: this.reportForm.value.albumname,
                        buyername: this.reportForm.value.buyername,
                        songname: this.reportForm.value.songname,
                        status: this.reportForm.value.status,
                        paymentmtd: this.reportForm.value.paymentmtd,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    SongpurchasestatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.songpurchaseService.getAdmSongpurchaseAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.songpurchase = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qartistname = formval.artistname;
                //this.qalbumname = formval.albumname;
                _this.qbuyername = formval.buyername;
                _this.qsongname = formval.songname;
                _this.qstatus = formval.status;
                _this.qpaymentmtd = formval.paymentmtd;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                _this.qpurchaseid = formval.purchaseid;
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    purchaseid: _this.qpurchaseid,
                    labelid: _this.qlabelid,
                    artistname: _this.qartistname,
                    //albumname: this.qalbumname,
                    buyername: _this.qbuyername,
                    songname: _this.qsongname,
                    status: _this.qstatus,
                    paymentmtd: _this.qpaymentmtd,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongpurchasestatsComponent.prototype.setPage = function (page) {
        this.router.navigate(['songpurchasestats'], {
            queryParams: {
                purchaseid: this.qpurchaseid,
                labelid: this.qlabelid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                status: this.qstatus,
                paymentmtd: this.qpaymentmtd,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    SongpurchasestatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    SongpurchasestatsComponent.prototype.sortSongpurchase = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['songpurchasestats'], {
            queryParams: {
                purchaseid: this.qpurchaseid,
                labelid: this.qlabelid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                status: this.qstatus,
                paymentmtd: this.qpaymentmtd,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongpurchasestatsComponent.prototype.showSong = function (songid) {
        this.router.navigate(["viewsongpurchase/" + songid], {
            queryParams: {
                srcpg: 'stats',
                purchaseid: this.qpurchaseid,
                labelid: this.qlabelid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                status: this.qstatus,
                paymentmtd: this.qpaymentmtd,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongpurchasestatsComponent.prototype.showPurchase = function (songpurchaseid) {
        this.router.navigate(["viewpurchase/" + songpurchaseid], {
            queryParams: {
                srcpg: 'stats',
                purchaseid: this.qpurchaseid,
                labelid: this.qlabelid,
                artistname: this.qartistname,
                //albumname: this.qalbumname,
                buyername: this.qbuyername,
                songname: this.qsongname,
                status: this.qstatus,
                paymentmtd: this.qpaymentmtd,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongpurchasestatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-songpurchasestats',
            template: __webpack_require__("./src/app/components/purchase/songpurchasestats/songpurchasestats.component.html"),
            styles: [__webpack_require__("./src/app/components/purchase/songpurchasestats/songpurchasestats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_songpurchase_service__["a" /* SongpurchaseService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_usermgt_service__["a" /* UsermgtService */]])
    ], SongpurchasestatsComponent);
    return SongpurchasestatsComponent;
}());



/***/ }),

/***/ "./src/app/components/purchase/viewpurchase/viewpurchase.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/purchase/viewpurchase/viewpurchase.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Purchase Details</h3>\n    </div>\n    <form class=\"form-horizontal \">\n        <div class=\"form-group\">\n            <label for=\"label\" class=\"col-sm-2 control-label\">Label</label>\n            <div class=\"form-ele col-sm-10\"> {{ purchase?.label }}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"id\" class=\"col-sm-2 control-label\">Purchase Ref</label>\n            <div class=\"form-ele col-sm-10\"> {{ purchase?._id }}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"purchasedate\" class=\"col-sm-2 control-label\">Purchase Date</label>\n            <div class=\"form-ele col-sm-10\"> {{ purchase?.purchasedt | date: 'd MMM y'}}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"payment\" class=\"col-sm-2 control-label\">Payment Method</label>\n            <div class=\"form-ele col-sm-10\"> {{ purchase?.payment }}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"listener\" class=\"col-sm-2 control-label\">Buyer</label>\n            <div class=\"form-ele col-sm-10\">{{ purchase?.listener }}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"song\" class=\"col-sm-2 control-label\">Song</label>\n            <div class=\"form-ele col-sm-10\">{{ purchase?.song }}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"artist\" class=\"col-sm-2 control-label\">Artist</label>\n            <div class=\"form-ele col-sm-10\">{{ purchase?.artist }}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"form-ele col-sm-10\">{{ purchase?.stsvalue }}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"approvedt\" class=\"col-sm-2 control-label\">Response Date</label>\n            <div class=\"form-ele col-sm-10\"> {{ purchase?.approvedt | date: 'd MMM y'}}</div>\n        </div>\n       \n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/components/purchase/viewpurchase/viewpurchase.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewpurchaseComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_songpurchase_service__ = __webpack_require__("./src/app/services/songpurchase.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ViewpurchaseComponent = /** @class */ (function () {
    function ViewpurchaseComponent(fb, authService, songpurchaseService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.songpurchaseService = songpurchaseService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
    }
    ViewpurchaseComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var songpurchaseid = params['id'];
            _this.getSongpurchase(songpurchaseid);
        });
        this.route.queryParams.forEach(function (params) {
            _this.qsrcpg = params['srcpg'] || '';
        });
    };
    ViewpurchaseComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ViewpurchaseComponent.prototype.getSongpurchase = function (id) {
        var _this = this;
        var payload = {};
        payload.songpurchaseid = id;
        this.songpurchaseService.getSongpurchaseAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.purchase = data.data[0];
                }
                else {
                    _this.toastr.error('Song purchase id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewpurchaseComponent.prototype.onBack = function () {
        if (this.qsrcpg === 'pend') {
            this.router.navigate(['/songpendingpurchase'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'comp') {
            this.router.navigate(['/songcompletepurchase'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'tranx') {
            this.router.navigate(['/transaction'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'stats') {
            this.router.navigate(['/songpurchasestats'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'tranxstats') {
            this.router.navigate(['/transactionstats'], { preserveQueryParams: true });
        }
        else {
            this.authService.logout();
            this.router.navigate(['errorpage']);
            this.toastr.error('Incorrect param in the URL');
        }
    };
    ViewpurchaseComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewpurchase',
            template: __webpack_require__("./src/app/components/purchase/viewpurchase/viewpurchase.component.html"),
            styles: [__webpack_require__("./src/app/components/purchase/viewpurchase/viewpurchase.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_songpurchase_service__["a" /* SongpurchaseService */],
            __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewpurchaseComponent);
    return ViewpurchaseComponent;
}());



/***/ }),

/***/ "./src/app/components/purchase/viewsongpurchase/viewsongpurchase.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/purchase/viewsongpurchase/viewsongpurchase.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Song Details</h3>\n    </div>\n    <form class=\"form-horizontal\">\n        <div class=\"form-group\">\n            <label for=\"songname\" class=\"col-sm-2 control-label\">Title</label>\n            <div class=\"form-ele col-sm-10\"> {{ song?.songname }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n              <!-- <div class=\"form-ele\">{{ song?.songname }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"artist\" class=\"col-sm-2 control-label\">Artist</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.artist }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.artist }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"album\" class=\"col-sm-2 control-label\">Album</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.album }} \n<!--               <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.album }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songlyric\" class=\"col-sm-2 control-label\">Lyric</label>\n            \n            <div class=\"form-ele col-sm-10\">{{ song?.songlyric }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.songlyric }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songgenre\" class=\"col-sm-2 control-label\">Genre</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list\"></i></div> -->\n              <select disabled class=\"form-control selectfontsize\" [formControl]=\"songgenre\">\n                  <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n              </select>\n              <!-- <div class=\"form-ele\">{{ song?.songgenre }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songprice\" class=\"col-sm-2 control-label\">Price</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songprice | currency: 'IDR':'symbol-narrow' }}\n                <!-- <div class=\"input-group-addon\">Rp</div> -->\n                <!-- <div class=\"form-ele\">{{ song?.songprice | currency: 'IDR':true }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songprvwpath\" class=\"col-sm-2 control-label\">Preview</label>\n            <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\" style=\"border:1px\"><i class=\"glyphicon glyphicon-music\"></i></div>\n              <!-- <a href=\"{{ song?.songprvwpath }}\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n              <a *ngIf=\"this.state.prvwplaying && !this.state.loadingprvw\" (click)=\"togglePrvw(song?.songprvwpath)\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Preview\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n              <span *ngIf=\"this.state.loadingprvw\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n              <a *ngIf=\"!this.state.prvwplaying && !this.state.loadingprvw\" (click)=\"togglePrvw(song?.songprvwpath)\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n              <!-- <div class=\"form-ele\">{{ song?.songprvwpath }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songfilepath\" class=\"col-sm-2 control-label\">File</label>\n            <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\" style=\"border:1px\"><i class=\"glyphicon glyphicon-music\"></i></div>\n                <!-- <a href=\"{{ song?.songfilepath }}\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n                <a *ngIf=\"this.state.songplaying && !this.state.loadingsong\" (click)=\"toggleSong(song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Song\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n                <span *ngIf=\"this.state.loadingsong\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n                <a *ngIf=\"!this.state.songplaying && !this.state.loadingsong\" (click)=\"toggleSong(song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n                <!-- <div class=\"form-ele\">{{ song?.songfilepath }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songpublish\" class=\"col-sm-2 control-label\">Publish?</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songpublish }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.songpublish }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songbuy\" class=\"col-sm-2 control-label\">Total Purchased</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songbuy }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-download\"></i></div>\n                <div class=\"form-ele\">{{ song?.songbuy }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list\"></i></div> -->\n              <select class=\"form-control selectfontsize\" [formControl]=\"status\" disabled>\n                    <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n              </select>\n              <!-- <div class=\"form-ele\">{{ song?.status }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/components/purchase/viewsongpurchase/viewsongpurchase.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewsongpurchaseComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ViewsongpurchaseComponent = /** @class */ (function () {
    function ViewsongpurchaseComponent(fb, authService, songService, msconfigService, toastr, route, router) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.songgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.state = { prvwplaying: false, songplaying: false,
            loadingprvw: false, loadingsong: false };
        this.audiotag = false;
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.pausePrvw();
                _this.pausePrvwAudio();
                _this.pauseSong();
                _this.pauseSongAudio();
                _this.resetAudioElement();
            }
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* NavigationStart */]) {
                _this.pausePrvw();
                _this.pausePrvwAudio();
                _this.pauseSong();
                _this.pauseSongAudio();
                _this.resetAudioElement();
            }
        });
    }
    ViewsongpurchaseComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var songid = params['id'];
            _this.getMsconfigGroupList('CSTATUS');
            _this.getMsconfigGroupList('GENRE');
            _this.getSong(songid);
        });
        this.route.queryParams.forEach(function (params) {
            _this.qsrcpg = params['srcpg'] || '';
        });
        this.songForm = this.fb.group({
            songgenre: this.songgenre,
            status: this.status
        });
        try {
            this.audioContext = new AudioContext();
            if (this.audioContext) {
                this.prvwBuffer = null;
                this.songBuffer = null;
                this.prvwbufferSource = null;
                this.songbufferSource = null;
            }
        }
        catch (error) {
            this.audiotag = true;
            this.prvwaudio = new Audio();
            this.songaudio = new Audio();
        }
    };
    ViewsongpurchaseComponent.prototype.ngOnDestroy = function () {
        this.resetAudioElement();
        this.sub.unsubscribe();
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    ViewsongpurchaseComponent.prototype.resetAudioElement = function () {
        this.audioContext = null;
        this.prvwBuffer = null;
        this.songBuffer = null;
        this.prvwbufferSource = null;
        this.songbufferSource = null;
        this.prvwaudio = null;
        this.songaudio = null;
    };
    ViewsongpurchaseComponent.prototype.fetchSong = function (songurl) {
        var _this = this;
        return fetch(songurl)
            .then(function (response) { return response.arrayBuffer(); })
            .then(function (buffer) {
            return new Promise(function (resolve, reject) {
                _this.audioContext.decodeAudioData(buffer, resolve, reject);
            });
        });
    };
    ViewsongpurchaseComponent.prototype.togglePrvw = function (audiourl) {
        if (this.audiotag) {
            //this.toastr.error("Error. Your browser doesn't support Web Audio API.");
            if (!this.state.prvwplaying) {
                this.playPrvwAudio(audiourl);
            }
            else {
                this.pausePrvwAudio();
            }
        }
        else {
            if (!this.state.prvwplaying) {
                this.playPrvw(audiourl);
            }
            else {
                this.pausePrvw();
            }
        }
    };
    ViewsongpurchaseComponent.prototype.toggleSong = function (audiourl) {
        if (this.audiotag) {
            //this.toastr.error("Error. Your browser doesn't support Web Audio API.");
            if (!this.state.songplaying) {
                this.playSongAudio(audiourl);
            }
            else {
                this.pauseSongAudio();
            }
        }
        else {
            if (!this.state.songplaying) {
                this.playSong(audiourl);
            }
            else {
                this.pauseSong();
            }
        }
    };
    ViewsongpurchaseComponent.prototype.stopAllplaying = function (type) {
        if (type === 'song') {
            if (this.songBuffer && this.songbufferSource) {
                this.state.songplaying = false;
                this.songbufferSource.stop();
            }
        }
        else if (type === 'prvw') {
            if (this.prvwBuffer && this.prvwbufferSource) {
                this.state.prvwplaying = false;
                this.prvwbufferSource.stop();
            }
        }
    };
    ViewsongpurchaseComponent.prototype.stopAllplayingaudio = function (type) {
        if (type === 'song') {
            if (this.songaudio && this.songaudio.src) {
                this.state.songplaying = false;
                this.songaudio.pause();
            }
        }
        else if (type === 'prvw') {
            if (this.prvwaudio && this.prvwaudio.src) {
                this.state.prvwplaying = false;
                this.prvwaudio.pause();
            }
        }
    };
    ViewsongpurchaseComponent.prototype.playPrvw = function (audiourl) {
        var _this = this;
        if (this.state.songplaying) {
            this.stopAllplaying('song');
        }
        if (this.prvwBuffer) {
            this.state.prvwplaying = true;
            this.prvwbufferSource = null;
            this.prvwbufferSource = this.audioContext.createBufferSource();
            this.prvwbufferSource.buffer = this.prvwBuffer;
            this.prvwbufferSource.connect(this.audioContext.destination);
            this.prvwbufferSource.start(0);
        }
        else {
            this.state.loadingprvw = true;
            this.fetchSong(audiourl)
                .then(function (audioBuffer) {
                _this.state.loadingprvw = false;
                _this.state.prvwplaying = true;
                _this.prvwBuffer = audioBuffer;
                _this.prvwbufferSource = _this.audioContext.createBufferSource();
                _this.prvwbufferSource.buffer = _this.prvwBuffer;
                _this.prvwbufferSource.connect(_this.audioContext.destination);
                _this.prvwbufferSource.start(0);
            })
                .catch(function (error) { _this.toastr.error(error); });
        }
    };
    ViewsongpurchaseComponent.prototype.playPrvwAudio = function (audiourl) {
        var _this = this;
        if (this.state.songplaying) {
            this.stopAllplayingaudio('song');
        }
        if (this.prvwaudio.src === '') {
            this.prvwaudio.src = audiourl;
            this.state.loadingprvw = true;
            this.prvwaudio.load();
            this.state.loadingprvw = false;
            //this.prvwaudio.play();
            var promise = this.prvwaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
            this.state.prvwplaying = true;
        }
        else {
            this.state.prvwplaying = true;
            //this.prvwaudio.play();
            var promise = this.prvwaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
        }
    };
    ViewsongpurchaseComponent.prototype.playSong = function (audiourl) {
        var _this = this;
        if (this.state.prvwplaying) {
            this.stopAllplaying('prvw');
        }
        if (this.songBuffer) {
            this.state.songplaying = true;
            this.songbufferSource = null;
            this.songbufferSource = this.audioContext.createBufferSource();
            this.songbufferSource.buffer = this.songBuffer;
            this.songbufferSource.connect(this.audioContext.destination);
            this.songbufferSource.start(0);
        }
        else {
            this.state.loadingsong = true;
            this.fetchSong(audiourl)
                .then(function (audioBuffer) {
                _this.state.loadingsong = false;
                _this.state.songplaying = true;
                _this.songBuffer = audioBuffer;
                _this.songbufferSource = _this.audioContext.createBufferSource();
                _this.songbufferSource.buffer = _this.songBuffer;
                _this.songbufferSource.connect(_this.audioContext.destination);
                _this.songbufferSource.start(0);
            })
                .catch(function (error) { _this.toastr.error(error); });
        }
    };
    ViewsongpurchaseComponent.prototype.playSongAudio = function (audiourl) {
        var _this = this;
        if (this.state.prvwplaying) {
            this.stopAllplayingaudio('prvw');
        }
        if (this.songaudio.src === '') {
            this.songaudio.src = audiourl;
            this.state.loadingsong = true;
            this.songaudio.load();
            this.state.loadingsong = false;
            //this.songaudio.play();
            var promise = this.songaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
            this.state.songplaying = true;
        }
        else {
            this.state.songplaying = true;
            //this.songaudio.play();
            var promise = this.songaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
        }
    };
    ViewsongpurchaseComponent.prototype.pausePrvw = function () {
        if (this.prvwBuffer && this.prvwbufferSource) {
            this.state.prvwplaying = false;
            this.prvwbufferSource.stop();
        }
    };
    ViewsongpurchaseComponent.prototype.pausePrvwAudio = function () {
        if (this.prvwaudio && this.prvwaudio.src) {
            this.state.prvwplaying = false;
            this.prvwaudio.pause();
        }
    };
    ViewsongpurchaseComponent.prototype.pauseSong = function () {
        if (this.songBuffer && this.songbufferSource) {
            this.state.songplaying = false;
            this.songbufferSource.stop();
        }
    };
    ViewsongpurchaseComponent.prototype.pauseSongAudio = function () {
        if (this.songaudio && this.songaudio.src) {
            this.state.songplaying = false;
            this.songaudio.pause();
        }
    };
    ViewsongpurchaseComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewsongpurchaseComponent.prototype.getSong = function (id) {
        var _this = this;
        this.songService.getSongAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.song = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Song id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewsongpurchaseComponent.prototype.populateForm = function (data) {
        this.songForm.patchValue({
            songgenre: data.songgenre,
            status: data.status
        });
    };
    ViewsongpurchaseComponent.prototype.onBack = function () {
        if (this.qsrcpg === 'pend') {
            this.router.navigate(['/songpendingpurchase'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'comp') {
            this.router.navigate(['/songcompletepurchase'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'tranx') {
            this.router.navigate(['../transaction'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'stats') {
            this.router.navigate(['/songpurchasestats'], { preserveQueryParams: true });
        }
        else {
            this.authService.logout();
            this.router.navigate(['errorpage']);
            this.toastr.error('Incorrect param in the URL');
        }
    };
    ViewsongpurchaseComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewsongpurchase',
            template: __webpack_require__("./src/app/components/purchase/viewsongpurchase/viewsongpurchase.component.html"),
            styles: [__webpack_require__("./src/app/components/purchase/viewsongpurchase/viewsongpurchase.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewsongpurchaseComponent);
    return ViewsongpurchaseComponent;
}());



/***/ }),

/***/ "./src/app/components/song/addsong/addsong.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/song/addsong/addsong.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Add Song</h3>\n  </div>  \n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <form [formGroup]=\"addSongForm\" (ngSubmit)=\"addSong(addSongForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n    <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\">  </label>\n      <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n      <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n   </div>\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addSongForm.get('artistid').invalid && addSongForm.get('artistid').dirty}\">\n      <label for=\"artistid\" class=\"col-sm-2 control-label\">Artist<sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n        <select #inputartist [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"artistid\" (change)=\"artistChangeEvent($event)\">\n            <option ng-selected=\"true\" value=\"\">Select the artist</option>\n            <option *ngFor=\"let artist of artistlist\" [ngValue]=\"artist._id\">{{artist.artistname}}</option>\n        </select>\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addSongForm.get('artistid').dirty && addSongForm.get('artistid').errors\">\n        <span class=\"col-sm-2\"></span>\n        <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addSongForm.get('artistid').errors.required\">\n            Please enter the artist\n        </span>\n      </div>\n    </div>\n\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addSongForm.get('albumid').invalid && addSongForm.get('albumid').dirty}\">\n      <label for=\"albumid\" class=\"col-sm-2 control-label\">Album<sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n        <select #inputalbum [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"albumid\">\n            <option ng-selected=\"true\" value=\"\">Select the album</option>\n            <option *ngFor=\"let album of albumlist\" [ngValue]=\"album._id\">{{album.albumname}}</option>\n        </select>\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addSongForm.get('albumid').dirty && addSongForm.get('albumid').errors\">\n        <span class=\"col-sm-2\"></span>\n        <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addSongForm.get('albumid').errors.required\">\n            Please enter the album\n        </span>\n      </div>\n    </div>\n\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addSongForm.get('songname').invalid && addSongForm.get('songname').dirty}\">\n      <label for=\"songname\" class=\"col-sm-2 control-label\">Song Name <sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n          <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n          <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"songname\" id=\"songname\" placeholder=\"Song Name\">\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addSongForm.get('songname').dirty && addSongForm.get('songname').errors\">\n          <span class=\"col-sm-2\"></span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addSongForm.get('songname').errors.required\">\n              Please enter the song name\n          </span>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"songlyric\" class=\"col-sm-2 control-label\">Lyric <sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n          <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"songlyric\" rows=\"10\" [formControl]=\"songlyric\" placeholder=\"Song Lyric\"></textarea>\n      </div>\n    </div>\n\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addSongForm.get('songgenre').invalid && addSongForm.get('songgenre').dirty}\">\n      <label for=\"songgenre\" class=\"col-sm-2 control-label\">Genre<sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n          <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n          <select #inputgenre [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"songgenre\">\n              <option ng-selected=\"true\" value=\"\">Select the genre</option>\n              <option *ngFor=\"let a of genre\" [ngValue]=\"a.code\">{{a.value}}</option>\n          </select>\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addSongForm.get('songgenre').dirty && addSongForm.get('songgenre').errors\">\n          <span class=\"col-sm-2\"></span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addSongForm.get('songgenre').errors.required\">\n              Please select song genre\n          </span>\n      </div>\n    </div>\n\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addSongForm.get('songprice').invalid && addSongForm.get('songprice').dirty}\">\n      <label for=\"songprice\" class=\"col-sm-2 control-label\">Price<sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n          <div class=\"input-group-addon\">Rp</div>\n          <input [disabled]=\"this.loading == true\" type=\"number\" class=\"form-control\" id=\"songprice\" [formControl]=\"songprice\" placeholder=\"Song Price\">\n      </div>\n      <div class=\"text-danger\" *ngIf=\"addSongForm.get('songprice').dirty && addSongForm.get('songprice').errors\">\n          <span class=\"col-sm-2\"></span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addSongForm.get('songprice').errors.required\">\n              Please enter price\n          </span>\n          <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addSongForm.get('songprice').errors.pattern\">\n              Please enter a valid amount\n          </span>\n      </div>\n    </div>\n\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addSongForm.get('songprvw').invalid && addSongForm.get('songprvw').dirty}\">\n      <label for=\"songprvw\" class=\"col-sm-2 control-label\">Song Preview<sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n          <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-file\"></i></div>\n          <input [disabled]=\"this.loading == true\" #inputprev type=\"file\" accept=\"audio/*,video/*\" (change)=\"prvwfileChangeEvent($event)\" name=\"songprvw\" id=\"songprvw\" placeholder=\"Song preview\">\n          <span class=\"control-label\" style=\"text-align:bottom;font-size:10px;color:red;\">&nbsp;&nbsp;<u><b>( MAX {{ +this.maxfilesize?.value/1000000 }} MB )</b></u></span>\n      </div>\n    </div>\n\n    <div class=\"form-group\" [ngClass]=\"{'has-error': addSongForm.get('songfile').invalid && addSongForm.get('songfile').dirty}\">\n      <label for=\"songfile\" class=\"col-sm-2 control-label\">Song File<sup>*</sup></label>\n      <div class=\"input-group col-sm-10\">\n          <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-file\"></i></div>\n          <input [disabled]=\"this.loading == true\" #inputsong type=\"file\" accept=\"audio/*,video/*\" (change)=\"songfileChangeEvent($event)\" name=\"songfile\" id=\"songfile\" placeholder=\"Song file\">\n          <span class=\"control-label\" style=\"text-align:bottom;font-size:10px;color:red;\">&nbsp;&nbsp;<u><b>( MAX {{ +this.maxfilesize?.value/1000000 }} MB )</b></u></span>\n      </div>\n    </div>\n    <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\">  </label>\n      <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n      <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n   </div>\n    <div class=\"form-group\">\n      <label class=\"col-sm-2 control-label\"></label>\n      <div class=\"col-sm-5\" style=\"padding:0;margin:0;\">\n          <button type=\"submit\" [disabled]=\"addSongForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n          <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n      </div>\n      <div class=\"col-sm-5\" style=\"text-align:right\">\n          <sup>*</sup> required\n      </div>\n    </div>\n  </form>\n</div>"

/***/ }),

/***/ "./src/app/components/song/addsong/addsong.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddsongComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var AddsongComponent = /** @class */ (function () {
    function AddsongComponent(fb, authService, artistService, albumService, songService, msconfigService, route, router, toastr, datePipe, ftService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.ftService = ftService;
        this.globals = globals;
        this.PrvwfilesToUpload = [];
        this.SongfilesToUpload = [];
        this.loading = false;
        this.progressvalue = 0;
        this.artistid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.albumid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.songname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.songlyric = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.songgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.songprice = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
    }
    AddsongComponent.prototype.ngOnInit = function () {
        this.progressvalue = 0;
        this.userObj = this.authService.currentUser;
        this.prvwuploadpath = this.globals.prvwuploadpath;
        this.songuploadpath = this.globals.songuploadpath;
        this.getMsconfigGroupList('GENRE');
        this.getMsconfigVal('AVSIZE', 'FSIZE');
        this.getArtistList(this.userObj.userid);
        this.getAlbumList(this.userObj.userid);
        this.songid = '';
        this.addSongForm = this.fb.group({
            artistid: this.artistid,
            albumid: this.albumid,
            songname: this.songname,
            songlyric: this.songlyric,
            songgenre: this.songgenre,
            songprice: this.songprice,
            songprvw: this.PrvwfilesToUpload,
            songfile: this.SongfilesToUpload,
            songprvwpath: this.songprvwpath,
            songprvwname: this.songprvwname,
            songfilepath: this.songfilepath,
            songfilename: this.songfilename,
        });
    };
    AddsongComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.genre = data.data;
                }
                else {
                    _this.genre = [{ code: '', value: 'Error ms config list' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.genre = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AddsongComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.maxfilesize = data.data[0];
                }
                else {
                    _this.maxfilesize = { code: '', value: '0' };
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.maxfilesize = { code: '', value: '0' };
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AddsongComponent.prototype.getArtistList = function (id) {
        var _this = this;
        this.artistService.getArtistList(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artistlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AddsongComponent.prototype.getAlbumList = function (id) {
        var _this = this;
        this.albumService.getAlbumList(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.albumlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AddsongComponent.prototype.getAlbumListbyArtist = function (id, artistid) {
        var _this = this;
        this.albumService.getAlbumListbyArtist(id, artistid).subscribe(function (data) {
            if (data.success === true) {
                console.log(data.data[0]);
                if (data.data[0]) {
                    _this.albumlist = data.data;
                    //console.log(this.albumlist);
                }
                else {
                    _this.albumlist = [{ _id: '', albumname: 'No album list available' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.albumlist = [{ _id: '', albumname: 'No album list available' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AddsongComponent.prototype.addSong = function (formdata) {
        var _this = this;
        this.progressvalue = 0;
        var prvwfiles = this.PrvwfilesToUpload;
        var songfiles = this.SongfilesToUpload;
        if (this.addSongForm.dirty && this.addSongForm.valid && prvwfiles[0] && songfiles[0]) {
            this.progressvalue = 10;
            //const prvwfiles: Array<File> = this.PrvwfilesToUpload;
            var theForm_1 = this.addSongForm.value;
            this.songService.checkSong(this.userObj.userid, theForm_1)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    _this.toastr.error(data.message);
                }
                else {
                    _this.progressvalue = 40;
                    var lformData = new FormData();
                    //console.log('Ini file: '+ prvwfiles[0]['name']);
                    lformData.append('prvwfileinputsrc', prvwfiles[0], prvwfiles[0]['name']);
                    lformData.append('prvwuploadpath', _this.prvwuploadpath);
                    lformData.append('songfileinputsrc', songfiles[0], songfiles[0]['name']);
                    lformData.append('songuploadpath', _this.songuploadpath);
                    _this.loading = true;
                    _this.progressvalue = 70;
                    _this.songService.uploadSongfiles(_this.userObj.userid, lformData)
                        .subscribe(function (data) {
                        if (data.success === false) {
                            _this.loading = false;
                            _this.progressvalue = 0;
                            _this.toastr.error(data.message);
                        }
                        else {
                            _this.progressvalue = 80;
                            /* let sgformData: FormData = new FormData();
                            sgformData.append('fileinputsrc',songfiles[0],songfiles[0]['name']);
                            sgformData.append('uploadpath',this.songuploadpath);
                            sgformData.append('artistid',theForm.artistid);
                            sgformData.append('albumid',theForm.albumid);
                            sgformData.append('songname',theForm.songname);
                            sgformData.append('songlyric',theForm.songlyric);
                            sgformData.append('songgenre',theForm.songgenre);
                            sgformData.append('songprice',theForm.songprice);
                            sgformData.append('songprvwpath',data.filedata.filepath);
                            sgformData.append('songprvwname',data.filedata.filename);
                            sgformData.append('status','STSACT'); */
                            var payload = {};
                            payload.artistid = theForm_1.artistid;
                            payload.albumid = theForm_1.albumid;
                            payload.songname = theForm_1.songname;
                            payload.songlyric = theForm_1.songlyric;
                            payload.songgenre = theForm_1.songgenre;
                            payload.songprice = theForm_1.songprice;
                            payload.songprvwpath = data.preview.prvwfilepath;
                            payload.songprvwname = data.preview.prvwfilename;
                            payload.songfilepath = data.song.songfilepath;
                            payload.songfilename = data.song.songfilename;
                            payload.status = 'STSACT';
                            _this.progressvalue = 90;
                            _this.songService.pubsaveSong(_this.userObj.userid, payload)
                                .subscribe(function (data) {
                                if (data.success === false) {
                                    _this.loading = false;
                                    _this.progressvalue = 0;
                                    _this.toastr.error(data.message);
                                }
                                else {
                                    _this.loading = false;
                                    _this.progressvalue = 100;
                                    _this.toastr.success(data.message);
                                    //this.router.navigate(['listsong']);
                                }
                                _this.addSongForm.reset();
                                _this.progressvalue = 0;
                                _this.artistVar.nativeElement.selectedIndex = 0;
                                _this.albumVar.nativeElement.selectedIndex = 0;
                                _this.genreVar.nativeElement.selectedIndex = 0;
                                _this.inputpreVar.nativeElement.value = "";
                                _this.inputsongVar.nativeElement.value = "";
                            }, function (err) {
                                _this.loading = false;
                                _this.progressvalue = 0;
                                //console.log(err);
                                _this.toastr.error(err);
                            });
                        }
                    }, function (err) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        //console.log(err);
                        _this.toastr.error(err);
                    });
                }
            }, function (err) {
                _this.loading = false;
                _this.progressvalue = 0;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
        else {
            this.toastr.error('Please provide BOTH Song Preview and Song File...');
        }
    };
    /* addSong(formdata:any): void {
      this.progressvalue = 0;
      const prvwfiles: Array<File> = this.PrvwfilesToUpload;
      const songfiles: Array<File> = this.SongfilesToUpload;
      if (this.addSongForm.dirty && this.addSongForm.valid && prvwfiles[0] && songfiles[0]) {
        this.progressvalue = 10;
        //const prvwfiles: Array<File> = this.PrvwfilesToUpload;
        let theForm = this.addSongForm.value;
        this.progressvalue = 20;
        let lformData: FormData = new FormData();
        //console.log('Ini file: '+ prvwfiles[0]['name']);
        lformData.append('fileinputsrc',prvwfiles[0],prvwfiles[0]['name']);
        lformData.append('uploadpath',this.prvwuploadpath);
  
        this.loading = true;
        this.progressvalue = 30;
        this.ftService.uploadInputFile(lformData)
          .subscribe(data => {
            if (data.success === false) {
              this.loading = false;
              this.progressvalue = 0;
              this.toastr.error(data.message);
            } else {
              this.progressvalue = 40;
                theForm.songprvwpath = data.filedata.filepath;
                theForm.songprvwname = data.filedata.filename;
                //const songfiles: Array<File> = this.SongfilesToUpload;
                let lformData1: FormData = new FormData();
                lformData1.append('fileinputsrc',songfiles[0],songfiles[0]['name']);
                lformData1.append('uploadpath',this.songuploadpath);
                //formdata.set is not supported in Safari and other browsers
                //lformData.set('fileinputsrc',songfiles[0],songfiles[0]['name']);
                //lformData.set('uploadpath',this.songuploadpath);
                this.progressvalue = 50;
                this.ftService.uploadInputFile(lformData1)
                .subscribe(data => {
                    if (data.success === false) {
                      this.loading = false;
                      this.progressvalue = 0;
                      this.toastr.error(data.message);
                    } else {
                      this.progressvalue = 60;
                      theForm.songfilepath = data.filedata.filepath;
                      theForm.songfilename = data.filedata.filename;
                      theForm.status = 'STSACT';
                      if (this.songid !== '') {
                        theForm.songid = this.songid;
                      }
                      this.progressvalue = 80;
                      this.songService.saveSong(this.userObj.userid, theForm.artistid, theForm.albumid, theForm)
                      .subscribe(data => {
                        if (data.success === false) {
                          this.loading = false;
                          this.progressvalue = 0;
                          this.toastr.error(data.message);
                        } else {
                          this.loading = false;
                          this.progressvalue = 100;
                          this.toastr.success(data.message);
                          //this.router.navigate(['listsong']);
                        }
                        this.addSongForm.reset();
                        this.progressvalue = 0;
                        this.artistVar.nativeElement.selectedIndex = 0;
                        this.albumVar.nativeElement.selectedIndex = 0;
                        this.genreVar.nativeElement.selectedIndex = 0;
                        this.inputpreVar.nativeElement.value = "";
                        this.inputsongVar.nativeElement.value = "";
                      },
                      err => {
                        this.loading = false;
                        this.progressvalue = 0;
                        //console.log(err);
                        this.toastr.error(err);
                      });
                    }
                },
                err => {
                  this.loading = false;
                  this.progressvalue = 0;
                  //console.log(err);
                  this.toastr.error(err);
                });
            }
          },
          err => {
            this.loading = false;
            this.progressvalue = 0;
            //console.log(err);
            this.toastr.error(err);
          });
   
      } else {
        this.toastr.error('Please provide BOTH Song Preview and Song File...');
      }
    } */
    AddsongComponent.prototype.prvwfileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        if (~files[0].type.indexOf("audio/") || ~files[0].type.indexOf("video/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.PrvwfilesToUpload = fileInput.target.files;
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000000;
                alert('Error file size. File size is maximum ' + mfsize + ' Mb');
                this.inputpreVar.nativeElement.value = "";
            }
        }
        else {
            alert('Error file type. You must input audio/video file type.');
            this.inputpreVar.nativeElement.value = "";
        }
    };
    AddsongComponent.prototype.songfileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        if (~files[0].type.indexOf("audio/") || ~files[0].type.indexOf("video/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.SongfilesToUpload = fileInput.target.files;
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000000;
                alert('Error file size. File size is maximum ' + mfsize + ' Mb');
                this.inputsongVar.nativeElement.value = "";
            }
        }
        else {
            alert('Error file type. You must input audio/video file type.');
            this.inputsongVar.nativeElement.value = "";
        }
    };
    AddsongComponent.prototype.artistChangeEvent = function (selectedValue) {
        var result = selectedValue.target.value;
        // result is 1: artistid. Therefore need split
        var res = result.split(" ");
        this.getAlbumListbyArtist(this.userObj.userid, res[1]);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputprev'),
        __metadata("design:type", Object)
    ], AddsongComponent.prototype, "inputpreVar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputsong'),
        __metadata("design:type", Object)
    ], AddsongComponent.prototype, "inputsongVar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputartist'),
        __metadata("design:type", Object)
    ], AddsongComponent.prototype, "artistVar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputalbum'),
        __metadata("design:type", Object)
    ], AddsongComponent.prototype, "albumVar", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('inputgenre'),
        __metadata("design:type", Object)
    ], AddsongComponent.prototype, "genreVar", void 0);
    AddsongComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-addsong',
            template: __webpack_require__("./src/app/components/song/addsong/addsong.component.html"),
            styles: [__webpack_require__("./src/app/components/song/addsong/addsong.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_8__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_7__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_10__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_11__app_global__["a" /* Globals */]])
    ], AddsongComponent);
    return AddsongComponent;
}());



/***/ }),

/***/ "./src/app/components/song/editsong/editsong.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/song/editsong/editsong.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Edit Song</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"songForm\" (ngSubmit)=\"saveSong(songForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\" [ngClass]=\"{'has-error': songForm.get('songname').invalid && songForm.get('songname').dirty}\">\n            <label for=\"songname\" class=\"col-sm-2 control-label\">Song Name</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"songname\" [formControl]=\"songname\" placeholder=\"Song Name\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"songForm.get('songname').dirty && songForm.get('songname').invalid\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter your {{ userObj.username }} song name</span>\n            </div>\n        </div>\n\n        <div class=\"form-group\" [ngClass]=\"{'has-error': songForm.get('artistid').invalid && songForm.get('artistid').dirty}\">\n            <label for=\"artistid\" class=\"col-sm-2 control-label\">Artist</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"artistid\" (change)=\"artistChangeEvent($event)\">\n                    <option *ngFor=\"let artist of artistlist\" [ngValue]=\"artist._id\">{{artist.artistname}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"songForm.get('artistid').dirty && songForm.get('artistid').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"songForm.get('artistid').errors.required\">\n                    Please select artist\n                </span>\n            </div>\n        </div>\n\n        <div class=\"form-group\" [ngClass]=\"{'has-error': songForm.get('albumid').invalid && songForm.get('albumid').dirty}\">\n            <label for=\"albumid\" class=\"col-sm-2 control-label\">Album</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"albumid\">\n                    <option *ngFor=\"let album of albumlist\" [ngValue]=\"album._id\">{{album.albumname}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"songForm.get('albumid').dirty && songForm.get('albumid').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"songForm.get('albumid').errors.required\">\n                    Please select album song\n                </span>\n            </div>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"songlyric\" class=\"col-sm-2 control-label\">Lyric</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <textarea class=\"form-control\" [disabled]=\"this.loading == true\" id=\"songlyric\" rows=\"10\" [formControl]=\"songlyric\" placeholder=\"Song Lyric\"></textarea>\n            </div>\n        </div>\n\n        <div class=\"form-group\" [ngClass]=\"{'has-error': songForm.get('songgenre').invalid && songForm.get('songgenre').dirty}\">\n            <label for=\"songgenre\" class=\"col-sm-2 control-label\">Song Genre</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"songgenre\">\n                    <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"songForm.get('songgenre').dirty && songForm.get('songgenre').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"songForm.get('songgenre').errors.required\">\n                    Please select song genre\n                </span>\n            </div>\n        </div>\n\n        <div class=\"form-group\" [ngClass]=\"{'has-error': songForm.get('songprice').invalid && songForm.get('songprice').dirty}\">\n            <label for=\"songprice\" class=\"col-sm-2 control-label\">Price</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\">Rp</div>\n                <input [disabled]=\"this.loading == true\" type=\"number\" class=\"form-control\" id=\"songprice\" [formControl]=\"songprice\" placeholder=\"Enter price\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"songForm.get('songprice').dirty && songForm.get('songprice').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"songForm.get('songprice').errors.required\">\n                    Please enter price\n                </span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"songForm.get('songprice').errors.pattern\">\n                    Please enter a valid amount\n                </span>\n            </div>\n        </div>\n<!--         <div class=\"form-group\" [ngClass]=\"{'has-error': songForm.get('songpublish').invalid && songForm.get('songpublish').dirty}\">\n            <label for=\"songpublish\" class=\"col-sm-2 control-label\">Song Published?</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <div class=\"form-ele\">{{ this.songpublish }}</div>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songbuy\" class=\"col-sm-2 control-label\">Total Purchased</label>\n            <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-download\"></i></div>\n              <div class=\"form-ele\">{{ this.songbuy }}</div>\n            </div>\n        </div>\n -->\n        <div class=\"form-group\" [ngClass]=\"{'has-error': songForm.get('status').invalid && songForm.get('status').dirty}\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                <select [disabled]=\"this.loading == true\" class=\"form-control\" [formControl]=\"status\">\n                    <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                </select>\n            </div>\n            <div class=\"text-danger\" *ngIf=\"songForm.get('status').dirty && songForm.get('status').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"songForm.get('status').errors.required\">\n                    Please select song status\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"submit\" [disabled]=\"songForm.invalid || this.loading == true\" class=\"btn btn-primary\">{{ btnLbl }}</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Back</button>\n            </div>\n        </div>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/components/song/editsong/editsong.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditsongComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var EditsongComponent = /** @class */ (function () {
    function EditsongComponent(fb, authService, artistService, albumService, songService, msconfigService, route, router, toastr, datePipe) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.loading = false;
        this.artistid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.albumid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.songname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.songlyric = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.songgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.songprice = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    EditsongComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.songid = params['id'];
            _this.btnLbl = "Update";
        });
        this.getSelectedSong(this.songid);
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.userObj = this.authService.currentUser;
        this.getArtistList(this.userObj.userid);
        this.songForm = this.fb.group({
            artistid: this.artistid,
            albumid: this.albumid,
            songname: this.songname,
            songlyric: this.songlyric,
            songgenre: this.songgenre,
            songprice: this.songprice,
            songpublish: this.songpublish,
            songbuy: this.songbuy,
            status: this.status
        });
    };
    EditsongComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Empty list' }];
                    _this.genre = [{ code: '', value: 'Empty list' }];
                }
            }
            else {
                _this.sts = [{ code: '', value: 'Error ms config list' }];
                _this.genre = [{ code: '', value: 'Error ms config list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EditsongComponent.prototype.getArtistList = function (id) {
        var _this = this;
        this.artistService.getArtistList(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artistlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.artistlist = [{ _id: '', artistname: 'Empty artist list' }];
                }
            }
            else {
                _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EditsongComponent.prototype.getAlbumListbyArtist = function (id, artistid) {
        var _this = this;
        this.albumService.getAlbumListbyArtist(id, artistid).subscribe(function (data) {
            if (data.success === true) {
                //console.log(data.data[0]);
                if (data.data[0]) {
                    _this.albumlist = data.data;
                    //console.log(this.albumlist);
                }
                else {
                    _this.albumlist = [{ _id: '', albumname: 'No album list available' }];
                }
            }
            else {
                _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EditsongComponent.prototype.getAlbumListbyArtist2 = function (id, artistid) {
        var _this = this;
        this.albumService.getAlbumListbyArtist(id, artistid).subscribe(function (data) {
            if (data.success === true) {
                //console.log(data.data[0]);
                if (data.data[0]) {
                    _this.albumlist = data.data;
                    _this.songForm.patchValue({
                        albumid: _this.albumlist[0]._id
                    });
                    //console.log(this.albumlist);
                }
                else {
                    _this.albumlist = [{ _id: '', albumname: 'No album list available' }];
                }
            }
            else {
                _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EditsongComponent.prototype.getSelectedSong = function (id) {
        var _this = this;
        this.songService.getSong(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.partistid = data.data[0].artistid;
                    _this.getAlbumListbyArtist(_this.userObj.userid, _this.partistid);
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Empty song result');
                    _this.router.navigate(['listsong']);
                }
            }
            else {
                _this.toastr.error('Song id is incorrect in the URL');
                _this.router.navigate(['listsong']);
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['listsong']);
        });
    };
    EditsongComponent.prototype.populateForm = function (data) {
        this.songpublish = data.songpublish;
        this.songbuy = data.songbuy;
        this.songForm.patchValue({
            artistid: data.artistid,
            albumid: data.albumid,
            songname: data.songname,
            songlyric: data.songlyric,
            songgenre: data.songgenre,
            songprice: data.songprice,
            songpublish: data.songpublish,
            songbuy: data.songbuy,
            status: data.status
        });
    };
    EditsongComponent.prototype.saveSong = function (formdata) {
        var _this = this;
        if (this.songForm.valid) {
            var theForm = this.songForm.value;
            if (this.songid !== '') {
                theForm.songid = this.songid;
            }
            this.loading = true;
            this.songService.pubeditSong(this.userObj.userid, theForm)
                .subscribe(function (data) {
                _this.loading = false;
                if (data.success === false) {
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.toastr.success(data.message);
                }
                if (!_this.songid) {
                    _this.songForm.reset();
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    /*   saveSong(formdata:any): void {
        if (this.songForm.valid) {
          const theForm:any = this.songForm.value;
          if (this.songid !== '') {
            theForm.songid = this.songid;
          
          }
          this.loading = true;
          this.songService.saveSong(this.userObj.userid,theForm.artistid, theForm.albumid,theForm)
            .subscribe(data => {
              this.loading = false;
              if (data.success === false) {
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.toastr.success(data.message);
              }
              if (!this.songid) {
                this.songForm.reset();
              }
          },
          err => {
            this.loading = false;
            //console.log(err);
            this.toastr.error(err);
          });
        }
      } */
    EditsongComponent.prototype.onBack = function () {
        this.router.navigate(['/listsong'], { preserveQueryParams: true });
    };
    EditsongComponent.prototype.artistChangeEvent = function (selectedValue) {
        var result = selectedValue.target.value;
        // result is 1: artistid. Therefore need split
        var res = result.split(" ");
        this.albumlist.length = 0;
        this.getAlbumListbyArtist2(this.userObj.userid, res[1]);
    };
    EditsongComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editsong',
            template: __webpack_require__("./src/app/components/song/editsong/editsong.component.html"),
            styles: [__webpack_require__("./src/app/components/song/editsong/editsong.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_8__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_7__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"]])
    ], EditsongComponent);
    return EditsongComponent;
}());



/***/ }),

/***/ "./src/app/components/song/editsongfiles/editsongfiles.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/song/editsongfiles/editsongfiles.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Change Song Files</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"songForm\" (ngSubmit)=\"updateSong(songForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\">\n          <label for=\"songprvw\" class=\"col-sm-2 control-label\">Song Preview</label>\n          <div class=\"input-group col-sm-10\">\n              <label class=\"input-group-btn\">\n                  <span *ngIf=\"this.loading == false\" class=\"btn btn-primary\">\n                      Browse&hellip; <input [disabled]=\"this.loading == true\" type=\"file\" accept=\"audio/*,video/*\" (change)=\"PrvwfileChangeEvent($event)\" name=\"songprvw\" id=\"songprvw\" style=\"display:none\">\n                  </span>\n              </label>\n              <input type=\"text\" class=\"form-control\" value=\"{{ this.newprvwfile }}\">  \n          </div>\n      </div>\n      <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <label class=\"col-sm-10\" style=\"margin:0;padding:0;color:red;\"><sup>* <u><b>FILE SIZE (MAX {{ +this.maxfilesize?.value/1000000 }} MB)</b></u></sup></label>    \n      </div>\n      <br>\n      <div class=\"form-group\">\n          <label for=\"songfile\" class=\"col-sm-2 control-label\">Song File</label>\n          <div class=\"input-group col-sm-10\">\n              <label class=\"input-group-btn\">\n                  <span *ngIf=\"this.loading == false\" class=\"btn btn-primary\">\n                      Browse&hellip; <input [disabled]=\"this.loading == true\" type=\"file\" accept=\"audio/*,video/*\" (change)=\"SongfileChangeEvent($event)\" name=\"songfile\" id=\"songfile\" style=\"display:none\">\n                  </span>\n              </label>\n              <input type=\"text\" class=\"form-control\" value=\"{{ this.newsongfile }}\">  \n            </div>\n      </div>\n      <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <label class=\"col-sm-10\" style=\"margin:0;padding:0;color:red;\"><sup>* <u><b>FILE SIZE (MAX {{ +this.maxfilesize?.value/1000000 }} MB)</b></u></sup></label>    \n      </div>\n      <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\">  </label>\n      </div>\n      <div class=\"form-group\">\n        <label class=\"col-sm-2 control-label\">  </label>\n        <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n        <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n      </div>\n      <div class=\"form-group\">\n          <label class=\"col-sm-2 control-label\">     </label>\n          <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n              <br>\n              <button type=\"button\" [disabled]=\"this.loading == true\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n          </div>\n      </div>\n  </form>\n</div>\n"

/***/ }),

/***/ "./src/app/components/song/editsongfiles/editsongfiles.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditsongfilesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EditsongfilesComponent = /** @class */ (function () {
    function EditsongfilesComponent(fb, authService, songService, route, router, toastr, ftService, globals, msconfigService) {
        this.fb = fb;
        this.authService = authService;
        this.songService = songService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.ftService = ftService;
        this.globals = globals;
        this.msconfigService = msconfigService;
        this.PrvwfilesToUpload = [];
        this.SongfilesToUpload = [];
        this.loading = false;
        this.progressvalue = 0;
        this.songprvwpath = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songprvwname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songfilepath = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songfilename = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    EditsongfilesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.prvwuploadpath = this.globals.prvwuploadpath;
        this.songuploadpath = this.globals.songuploadpath;
        this.progressvalue = 0;
        this.getMsconfigVal('AVSIZE', 'FSIZE');
        this.songForm = this.fb.group({
            songprvwpath: this.songprvwpath,
            songprvwname: this.songprvwname,
            songfilepath: this.songfilepath,
            songfilename: this.songfilename,
        });
        this.route.params.subscribe(function (params) {
            _this.songid = params['id'];
            _this.getSong(_this.songid);
        });
    };
    EditsongfilesComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.maxfilesize = data.data[0];
                }
                else {
                    _this.maxfilesize = { code: '', value: '0' };
                }
            }
            else {
                _this.maxfilesize = { code: '', value: '0' };
            }
        }, function (err) {
            _this.loading = false;
            _this.maxfilesize = { code: '', value: '0' };
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EditsongfilesComponent.prototype.getSong = function (id) {
        var _this = this;
        this.songService.getSong(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.song = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Empty Song result...');
                    _this.router.navigate(['listsong']);
                }
            }
            else {
                _this.toastr.error('Song id is incorrect in the URL...');
                _this.router.navigate(['listsong']);
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['listsong']);
        });
    };
    EditsongfilesComponent.prototype.populateForm = function (data) {
        this.deletedPrvwFile = this.song.songprvwname;
        this.deletedSongFile = this.song.songfilename;
        this.songForm.patchValue({
            songprvwpath: data.songprvwpath,
            songprvwname: data.songprvwname,
            songfilepath: data.songfilepath,
            songfilename: data.songfilename
        });
    };
    EditsongfilesComponent.prototype.PrvwfileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        if (~files[0].type.indexOf("audio/") || ~files[0].type.indexOf("video/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.PrvwfilesToUpload = fileInput.target.files;
                this.newprvwfile = this.PrvwfilesToUpload[0]['name'];
                this.progressvalue = 0;
                this.uploadNewPreview(this.PrvwfilesToUpload);
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000000;
                alert('Error file size. File size is maximum ' + mfsize + ' Mb');
            }
        }
        else {
            alert('Error file type. You must input audio/video file type.');
        }
    };
    EditsongfilesComponent.prototype.SongfileChangeEvent = function (fileInput) {
        var files = fileInput.target.files;
        //console.log('content file: ' + this.filesToUpload);
        //alert('File size: ' + files[0].size + '. File type: '+ files[0].type + '. Max size: ' + this.maxfilesize.value);
        if (~files[0].type.indexOf("audio/") || ~files[0].type.indexOf("video/")) {
            if (files[0].size <= +this.maxfilesize.value) {
                this.SongfilesToUpload = fileInput.target.files;
                this.newsongfile = this.SongfilesToUpload[0]['name'];
                this.progressvalue = 0;
                this.uploadNewSong(this.SongfilesToUpload);
            }
            else {
                var mfsize = +this.maxfilesize.value / 1000000;
                alert('Error file size. File size is maximum ' + mfsize + ' Mb');
            }
        }
        else {
            alert('Error file type. You must input audio/video file type.');
        }
    };
    EditsongfilesComponent.prototype.uploadNewPreview = function (newFileData) {
        var _this = this;
        var files = newFileData;
        var lformData = new FormData();
        this.progressvalue = 10;
        //lformData.append('songprvw',files[0],files[0]['name']);
        lformData.append('fileinputsrc', files[0], files[0]['name']);
        lformData.append('uploadpath', this.prvwuploadpath);
        this.loading = true;
        this.progressvalue = 40;
        this.ftService.uploadInputFile(lformData)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.progressvalue = 0;
                _this.toastr.error(data.message);
            }
            else {
                //let payloadData: any = this.songForm.value;
                _this.progressvalue = 60;
                var payloadData = {};
                payloadData.songprvwpath = data.filedata.filepath;
                payloadData.songprvwname = data.filedata.filename;
                payloadData.oldsongprvwname = _this.songForm.value.songprvwname;
                payloadData.uploadpath = _this.prvwuploadpath;
                payloadData.labelid = _this.userObj.userid;
                _this.progressvalue = 80;
                _this.progressvalue = 90;
                _this.songService.pubupdateSongPreview(_this.songid, payloadData)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.progressvalue = 100;
                        _this.loading = false;
                        console.log('Success update song preview.');
                        _this.toastr.success(data.message);
                        _this.progressvalue = 0;
                    }
                }, function (err) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    //console.log(err);
                    _this.toastr.error(err);
                });
                //this.songForm.value.songprvwpath = data.filedata.filepath;
                //this.songForm.value.songprvwname = data.filedata.filename;
            }
        }, function (err) {
            _this.loading = false;
            _this.progressvalue = 0;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    /*   uploadNewPreview(newFileData:any): void {
        const files: Array<File> = newFileData;
        let lformData: FormData = new FormData();
        this.progressvalue = 10;
        //lformData.append('songprvw',files[0],files[0]['name']);
        lformData.append('fileinputsrc',files[0],files[0]['name']);
        lformData.append('uploadpath',this.prvwuploadpath);
        this.loading = true;
        this.progressvalue = 40;
        this.ftService.uploadInputFile(lformData)
        .subscribe(data => {
          if (data.success === false) {
            this.loading = false;
            this.progressvalue = 0;
            this.toastr.error(data.message);
          } else {
            //let payloadData: any = this.songForm.value;
            this.progressvalue = 60;
            let payloadData: any = {};
            payloadData.uploadpath = this.prvwuploadpath;
            payloadData.filename = this.songForm.value.songprvwname;
            this.progressvalue = 80;
            this.ftService.deleteInputFile(payloadData)
            .subscribe(data => {
               if (data.success === false) {
                  console.log('Error deleted ' + data.message);
                } else {
                  if (payloadData) {
                    console.log('File deleted - ' + payloadData.filename);
                  }
                }
              },
              err => {
                console.log('Error deleted ' + err);
              });
            this.progressvalue = 90;
            this.songForm.value.songprvwpath = data.filedata.filepath;
            this.songForm.value.songprvwname = data.filedata.filename;
              
            this.songService.updateSongPreview(this.songid, this.songForm.value)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                this.progressvalue = 0;
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.progressvalue = 100;
                this.loading = false;
                console.log('Success update song preview.');
                this.toastr.success(data.message);
                this.progressvalue = 0;
              }
            },
            err => {
              this.loading = false;
              this.progressvalue = 0;
              //console.log(err);
              this.toastr.error(err);
            });
          }
        },
        err => {
          this.loading = false;
          this.progressvalue = 0;
          //console.log(err);
          this.toastr.error(err);
        });
      } */
    EditsongfilesComponent.prototype.uploadNewSong = function (newFileData) {
        var _this = this;
        var files = newFileData;
        var lformData = new FormData();
        this.progressvalue = 10;
        //lformData.append('songfile',files[0],files[0]['name']);
        lformData.append('fileinputsrc', files[0], files[0]['name']);
        lformData.append('uploadpath', this.songuploadpath);
        this.loading = true;
        this.progressvalue = 40;
        this.ftService.uploadInputFile(lformData)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.progressvalue = 0;
                _this.toastr.error(data.message);
            }
            else {
                //let payloadData: any = this.songForm.value;
                _this.progressvalue = 60;
                var payloadData = {};
                payloadData.songfilepath = data.filedata.filepath;
                payloadData.songfilename = data.filedata.filename;
                payloadData.oldsongfilename = _this.songForm.value.songfilename;
                payloadData.uploadpath = _this.songuploadpath;
                payloadData.labelid = _this.userObj.userid;
                _this.progressvalue = 80;
                _this.progressvalue = 90;
                _this.songService.pubupdateSongFile(_this.songid, payloadData)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        _this.progressvalue = 0;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.progressvalue = 100;
                        _this.loading = false;
                        console.log('Success update song file.');
                        _this.toastr.success(data.message);
                        _this.progressvalue = 0;
                    }
                }, function (err) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    //console.log(err);
                    _this.toastr.error(err);
                });
                //this.songForm.value.songfilepath = data.filedata.filepath;
                //this.songForm.value.songfilename = data.filedata.filename;
            }
        }, function (err) {
            _this.loading = false;
            _this.progressvalue = 0;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    /*   uploadNewSong(newFileData:any): void {
        const files: Array<File> = newFileData;
        let lformData: FormData = new FormData();
        this.progressvalue = 10;
        //lformData.append('songfile',files[0],files[0]['name']);
        lformData.append('fileinputsrc',files[0],files[0]['name']);
        lformData.append('uploadpath',this.songuploadpath);
        this.loading = true;
        this.progressvalue = 40;
        this.ftService.uploadInputFile(lformData)
        .subscribe(data => {
          if (data.success === false) {
            this.loading = false;
            this.progressvalue = 0;
            this.toastr.error(data.message);
          } else {
            //let payloadData: any = this.songForm.value;
            this.progressvalue = 60;
            let payloadData: any = {};
            payloadData.uploadpath = this.songuploadpath;
            payloadData.filename = this.songForm.value.songfilename;
            this.progressvalue = 80;
            this.ftService.deleteInputFile(payloadData)
            .subscribe(data => {
               if (data.success === false) {
                  console.log('Error deleted ' + data.message);
                } else {
                  console.log('File deleted - ' + payloadData.filename);
                }
              },
              err => {
                console.log('Error deleted ' + err);
              });
            this.progressvalue = 90;
            this.songForm.value.songfilepath = data.filedata.filepath;
            this.songForm.value.songfilename = data.filedata.filename;
    
            this.songService.updateSongFile(this.songid, this.songForm.value)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                this.progressvalue = 0;
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.progressvalue = 100;
                this.loading = false;
                console.log('Success update song file.');
                this.toastr.success(data.message);
                this.progressvalue = 0;
              }
            },
            err => {
              this.loading = false;
              this.progressvalue = 0;
              //console.log(err);
              this.toastr.error(err);
            });
          }
        },
        err => {
          this.loading = false;
          this.progressvalue = 0;
          //console.log(err);
          this.toastr.error(err);
        });
      } */
    EditsongfilesComponent.prototype.onBack = function () {
        this.router.navigate(['/listsong'], { preserveQueryParams: true });
    };
    EditsongfilesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editsongfiles',
            template: __webpack_require__("./src/app/components/song/editsongfiles/editsongfiles.component.html"),
            styles: [__webpack_require__("./src/app/components/song/editsongfiles/editsongfiles.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_6__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_7__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], EditsongfilesComponent);
    return EditsongfilesComponent;
}());



/***/ }),

/***/ "./src/app/components/song/listsong/listsong.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/song/listsong/listsong.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>List Song</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Search Parameter</h3>\n    </div>\n    <div class=\"panel-body\">\n      <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"row rowmarginsearch\">\n            <div class=\"col-sm-6 col-md-6\">\n                <label for=\"artistid\" class=\"col-sm-2 paddingsearch\">Artist</label>\n                <div class=\"col-sm-10\">\n                <!-- <div class=\"input-group col-sm-10\"> -->\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control\" [formControl]=\"artistid\" (change)=\"artistChangeEvent($event)\">\n                        <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                        <option value=\"\">Select the artist</option>\n                        <option *ngFor=\"let artist of artistlist\" [ngValue]=\"artist._id\">{{artist.artistname}}</option>\n                    </select>\n                  </div>\n            </div>\n            <div class=\"col-sm-6 col-md-6\">\n                <label for=\"albumid\" class=\"col-sm-2 paddingsearch\">Album</label>\n                <div class=\"col-sm-10\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control\" [formControl]=\"albumid\">\n                        <option value=\"\">Select the album</option>\n                        <option *ngFor=\"let album of albumlist\" [ngValue]=\"album._id\">{{album.albumname}}</option>\n                    </select>\n                  </div>\n            </div>\n\n\n          </div>\n\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"songname\" class=\"col-sm-2 paddingsearch\">Title</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"songname\" [formControl]=\"songname\" placeholder=\"Song Name\">\n                  </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"albumyear\" class=\"col-sm-2 paddingsearch\">Year</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"albumyear\" [formControl]=\"albumyear\" placeholder=\"Album Year\">\n                  </div>\n              </div>\n          </div>\n          <div class=\"row rowmarginsearch\">\n            <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"songgenre\" class=\"col-sm-2 paddingsearch\">Genre</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"songgenre\">\n                            <option ng-selected=\"true\" value=\"\">Select the genre</option>\n                            <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                        </select>\n                    </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"songpublish\" class=\"col-sm-2 paddingsearch\">Publish?</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"songpublish\">\n                        <option ng-selected=\"true\" value=\"\">Select the option</option>\n                        <option *ngFor=\"let a of ynlist\" [ngValue]=\"a.code\">{{a.value}}</option>\n                      </select>\n                  </div>\n              </div>  \n            </div>\n            <div class=\"row rowmarginsearch\">  \n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"status\">\n                            <option ng-selected=\"true\" value=\"\">Select the status</option>\n                            <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"songbuy\" class=\"col-sm-2 paddingsearch\">Purchased?</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"songbuy\">\n                        <option ng-selected=\"true\" value=\"\">Select the option</option>\n                        <option *ngFor=\"let a of ynlist\" [ngValue]=\"a.code\">{{a.value}}</option>\n                      </select>\n                  </div>\n                </div>  \n              </div>\n            <div class=\"row rowmarginsearch\">  \n                <div class=\"col-sm-6 col-md-6\">\n                  <label class=\"col-sm-2 paddingsearch\"></label>\n                  <div class=\"col-sm-10\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                  </div>\n                </div>                  \n          </div>\n      </form>\n    </div>\n  </div>\n  <div class=\"panel panel-danger\" *ngIf=\"songs && totalrows < 1\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No song found</h3> \n      </div>\n\n      <div class=\"panel-body\">\n          It seems like you havn't entered any songs for the selected criteria. Please add the song <a style=\"cursor:pointer\" (click)=\"toaddSongs()\">here</a>.\n      </div>\n  </div>\n\n  <div class=\"panel panel-default\" *ngIf=\"songs && totalrows > 0 && this.loading == false\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n      </div>\n      <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSong('songname')\">Song Title</a></th>\n                          <th width=\"20%\" scope=\"col\">Artist</th>\n                          <th width=\"20%\" scope=\"col\">Album</th>\n                          <!-- <th width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortSong('albumyear')\">Year</a></th> -->\n                          <th width=\"9%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSong('songgenre')\">Genre</a></th>\n                          <th width=\"10%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortSong('songprice')\">Price</a></th>\n                          <!-- <th width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th> -->\n                          <th width=\"20%\" scope=\"col\">Action</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let song of songs; let songIndex = index'>\n                          <td scope=\"row\" data-label=\"Song Title\"><a style=\"cursor:pointer\" (click)=\"showSong(song._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ song.songname}}</a></td>\n                          <td data-label=\"Artist\">{{ song.artist }}</td>\n                          <td data-label=\"Album\">{{ song.album }}</td>\n                          <!-- <td>{{ song.albumyear}}</td> -->\n                          <td data-label=\"Genre\">{{ song.genrevalue}}</td>\n                          <td data-label=\"Price\" class=\"text-right\">{{ song.songprice | currency: 'IDR':'symbol-narrow' }}</td>\n                          <!-- <td>{{ albm.status}}</td> -->\n                          <td data-label=\"Action\">\n                              <button type=\"button\" class=\"btn-xs btn-info\" aria-label=\"View\" (click)=\"editSongFiles(song._id, song.songpublish, song.songbuy)\">\n                                  <span class=\"glyphicon glyphicon-edit\" aria-hidden=\"true\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Song File\"></span>\n                              </button>\n                              <button type=\"button\" class=\"btn-xs btn-danger\" aria-label=\"Edit\" (click)=\"editSong(song._id, song.songpublish, song.songbuy)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Change Song Data\">\n                                  <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>\n                              </button>\n                              <button type=\"button\" class=\"btn-xs btn-primary\" aria-label=\"Delete\" (click)=\"confirmDel(songIndex, song._id, song.songpublish, song.songbuy, song.songname, song.songprvwname, song.songfilename)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete Song\">\n                                  <span class=\"glyphicon glyphicon-trash\" aria-hidden=\"true\"></span>\n                              </button>\n                          </td>\n                      </tr>\n                  </tbody>\n              </table>\n          </div> \n          <div style=\"text-align:center\" *ngIf=\"songs && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div> \n      </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/song/listsong/listsong.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListsongComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_artist_service__ = __webpack_require__("./src/app/services/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_album_service__ = __webpack_require__("./src/app/services/album.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_filetransfer_service__ = __webpack_require__("./src/app/services/filetransfer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var ListsongComponent = /** @class */ (function () {
    function ListsongComponent(fb, authService, artistService, albumService, songService, msconfigService, route, router, toastr, datePipe, ftService, globals) {
        this.fb = fb;
        this.authService = authService;
        this.artistService = artistService;
        this.albumService = albumService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.ftService = ftService;
        this.globals = globals;
        this.loading = false;
        this.songname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.artistid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumyear = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songpublish = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songbuy = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    ListsongComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.prvwuploadpath = this.globals.prvwuploadpath;
        this.songuploadpath = this.globals.songuploadpath;
        this.reportForm = this.fb.group({
            songname: this.songname,
            artistid: this.artistid,
            albumid: this.albumid,
            albumyear: this.albumyear,
            songgenre: this.songgenre,
            songpublish: this.songpublish,
            songbuy: this.songbuy,
            status: this.status
        });
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.getMsconfigGroupList('YRN');
        this.getArtistList(this.userObj.userid);
        this.getAlbumList(this.userObj.userid);
        this.route.queryParams.forEach(function (params) {
            _this.qsongname = params['songname'] || '';
            _this.qartistid = params['artistid'] || '';
            _this.qalbumid = params['albumid'] || '';
            _this.qalbumyear = params['albumyear'] || '';
            _this.qsonggenre = params['songgenre'] || '';
            _this.qsongpublish = params['songpublish'] || '';
            _this.qsongbuy = params['songbuy'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.status = _this.qstatus;
            payload.artistid = _this.qartistid;
            payload.albumid = _this.qalbumid;
            payload.songname = _this.qsongname;
            payload.albumyear = _this.qalbumyear;
            payload.songgenre = _this.qsonggenre;
            payload.songpublish = _this.qsongpublish;
            payload.songbuy = _this.qsongbuy;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
            _this.reportForm.patchValue({
                songname: _this.qsongname,
                artistid: _this.qartistid,
                albumid: _this.qalbumid,
                albumyear: _this.qalbumyear,
                songgenre: _this.qsonggenre,
                songpublish: _this.qsongpublish,
                songbuy: _this.qsongbuy,
                status: _this.qstatus
            });
        });
    };
    ListsongComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                    if (groupid == 'YRN') {
                        _this.ynlist = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Empty list...' }];
                    _this.genre = [{ code: '', value: 'Empty list...' }];
                    _this.ynlist = [{ code: '', value: 'Empty list...' }];
                }
            }
            else {
                _this.sts = [{ code: '', value: 'Error ms config list' }];
                _this.ynlist = [{ code: '', value: 'Error ms config list' }];
                _this.genre = [{ code: '', value: 'Error ms config list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.ynlist = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListsongComponent.prototype.getArtistList = function (id) {
        var _this = this;
        this.artistService.getArtistList(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.artistlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.artistlist = [{ _id: '', artistname: 'Empty list...' }];
                }
            }
            else {
                _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.artistlist = [{ _id: '', artistname: 'Error artist list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListsongComponent.prototype.getAlbumList = function (id) {
        var _this = this;
        this.albumService.getAlbumList(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.albumlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.albumlist = [{ _id: '', albumname: 'Empty list...' }];
                }
            }
            else {
                _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListsongComponent.prototype.getAlbumListbyArtist = function (id, artistid) {
        var _this = this;
        this.albumService.getAlbumListbyArtist(id, artistid).subscribe(function (data) {
            if (data.success === true) {
                //console.log(data.data[0]);
                if (data.data[0]) {
                    _this.albumlist = data.data;
                    //console.log(this.albumlist);
                }
                else {
                    _this.albumlist = [{ _id: '', albumname: 'No album list available' }];
                }
            }
            else {
                _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.albumlist = [{ _id: '', albumname: 'Error album list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListsongComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.userObj.userid, this.reportForm.value);
            this.router.navigate(['listsong'], {
                queryParams: {
                    songname: this.reportForm.value.songname,
                    artistid: this.reportForm.value.artistid,
                    albumid: this.reportForm.value.albumid,
                    albumyear: this.reportForm.value.albumyear,
                    songgenre: this.reportForm.value.songgenre,
                    songpublish: this.reportForm.value.songpublish,
                    songbuy: this.reportForm.value.songbuy,
                    status: this.reportForm.value.status,
                    page: 1,
                    sortby: null
                }
            });
        }
    };
    ListsongComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.songService.getAggSongs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.songs = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qsongname = formval.songname;
                _this.qartistid = formval.artistid;
                _this.qalbumid = formval.albumid;
                _this.qalbumyear = formval.albumyear;
                _this.qsonggenre = formval.songgenre;
                _this.qsongpublish = formval.songpublish;
                _this.qsongbuy = formval.songbuy;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Songs Result';
                if (_this.qartistid) {
                    _this.getAlbumListbyArtist(_this.userObj.userid, _this.qartistid);
                }
                else {
                    _this.getAlbumList(_this.userObj.userid);
                }
                _this.reportForm.patchValue({
                    songname: _this.qsongname,
                    artistid: _this.qartistid,
                    albumid: _this.qalbumid,
                    albumyear: _this.qalbumyear,
                    songgenre: _this.qsonggenre,
                    songpublish: _this.qsongpublish,
                    songbuy: _this.qsongbuy,
                    status: _this.qstatus
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListsongComponent.prototype.setPage = function (page) {
        this.router.navigate(['listsong'], {
            queryParams: {
                songname: this.qsongname,
                artistid: this.qartistid,
                albumid: this.qalbumid,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                songpublish: this.qsongpublish,
                songbuy: this.qsongbuy,
                status: this.qstatus,
                page: page,
                sortby: this.qsort
            }
        });
    };
    ListsongComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ListsongComponent.prototype.sortSong = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['listsong'], {
            queryParams: {
                songname: this.qsongname,
                artistid: this.qartistid,
                albumid: this.qalbumid,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                songpublish: this.qsongpublish,
                songbuy: this.qsongbuy,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListsongComponent.prototype.artistChangeEvent = function (selectedValue) {
        var result = selectedValue.target.value;
        // result is 1: artistid. Therefore need split
        var res = result.split(" ");
        if (res[1]) {
            this.getAlbumListbyArtist(this.userObj.userid, res[1]);
        }
        else {
            this.getAlbumList(this.userObj.userid);
        }
    };
    ListsongComponent.prototype.editSongFiles = function (songid, songpublish, songbuy) {
        if (songpublish == 'Y') {
            this.toastr.warning("This song files has been published. The file can not be edited");
        }
        else {
            //this.toastr.warning("This song id: " + songid);      
            this.router.navigate(["editsongfiles/" + songid], {
                queryParams: {
                    songname: this.qsongname,
                    artistid: this.qartistid,
                    albumid: this.qalbumid,
                    albumyear: this.qalbumyear,
                    songgenre: this.qsonggenre,
                    songpublish: this.qsongpublish,
                    songbuy: this.qsongbuy,
                    status: this.qstatus,
                    page: this.qpage || 1,
                    sortby: this.qsort
                }
            });
        }
    };
    ListsongComponent.prototype.showSong = function (songid) {
        this.router.navigate(["viewsong/" + songid], {
            queryParams: {
                songname: this.qsongname,
                artistid: this.qartistid,
                albumid: this.qalbumid,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                songpublish: this.qsongpublish,
                songbuy: this.qsongbuy,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListsongComponent.prototype.editSong = function (songid, songpublish, songbuy) {
        //if (songbuy > 0) {
        if (songpublish == 'Y') {
            this.toastr.warning("This song has been published. Data can not be edited");
        }
        else {
            this.router.navigate(["editsong/" + songid], {
                queryParams: {
                    songname: this.qsongname,
                    artistid: this.qartistid,
                    albumid: this.qalbumid,
                    albumyear: this.qalbumyear,
                    songgenre: this.qsonggenre,
                    songpublish: this.qsongpublish,
                    songbuy: this.qsongbuy,
                    status: this.qstatus,
                    page: this.qpage || 1,
                    sortby: this.qsort
                }
            });
        }
    };
    ListsongComponent.prototype.confirmDel = function (idx, songid, songpublish, songbuy, songname, songprvwname, songfilename) {
        var _this = this;
        //if (songbuy > 0) {
        if (songpublish == 'Y') {
            this.toastr.warning("This song has been published. Data can not be deleted");
        }
        else {
            if (confirm('Do you really want to delete this song: ' + songname + ' record?')) {
                this.loading = true;
                var payloadData = {};
                payloadData.labelid = this.userObj.userid;
                payloadData.songprvwname = songprvwname;
                payloadData.songfilename = songfilename;
                payloadData.prvwuploadpath = this.prvwuploadpath;
                payloadData.songuploadpath = this.songuploadpath;
                this.songService.pubdeleteSong(songid, payloadData)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.loading = false;
                        _this.songs.splice(idx, 1);
                        _this.totalrows = _this.totalrows - 1;
                        _this.toastr.success(data.message);
                    }
                }, function (err) {
                    _this.loading = false;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
        }
    };
    /*   confirmDel(idx: number, songid: string, songpublish, songbuy, songname, songprvwname, songfilename) {
        
        //if (songbuy > 0) {
        if (songpublish == 'Y') {
          this.toastr.warning("This song has been published. Data can not be deleted");
        } else {
          if(confirm('Do you really want to delete this song: ' + songname + ' record?')){
            this.loading = true;
            let payload: any = {};
            payload.uploadpath = this.prvwuploadpath;
            payload.filename = songprvwname;
            //payload.songprvwname = songprvwname;
            this.ftService.deleteInputFile(payload)
            .subscribe(data => {
               if (data.success === false) {
                  console.log('Error delete preview' + data.message);
                } else {
                  console.log('Success delete preview...');
                }
              },
              err => {
                console.log('Error delete preview' + err);
              });
            let payloadData: any = {};
            //payloadData.songfilename = songfilename;
            payloadData.uploadpath = this.songuploadpath;
            payloadData.filename = songfilename;
            this.ftService.deleteInputFile(payloadData)
            .subscribe(data => {
                if (data.success === false) {
                  console.log('Error delete songfile' + data.message);
                } else {
                  console.log('Success delete SongFile... ');
                }
              },
              err => {
                console.log('Error delete songfile' + err);
              });
            this.songService.deleteSong(songid)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.loading = false;
                this.songs.splice(idx, 1);
                this.totalrows = this.totalrows - 1;
                this.toastr.success(data.message);
              }
            },
            err => {
              this.loading = false;
              //console.log(err);
              this.toastr.error(err);
            });
          }
        }
      } */
    ListsongComponent.prototype.toaddSongs = function () {
        this.router.navigate(['/addsong']);
    };
    ListsongComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-listsong',
            template: __webpack_require__("./src/app/components/song/listsong/listsong.component.html"),
            styles: [__webpack_require__("./src/app/components/song/listsong/listsong.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_8__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_6__services_album_service__["a" /* AlbumService */],
            __WEBPACK_IMPORTED_MODULE_7__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_9__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_10__services_filetransfer_service__["a" /* FiletransferService */],
            __WEBPACK_IMPORTED_MODULE_11__app_global__["a" /* Globals */]])
    ], ListsongComponent);
    return ListsongComponent;
}());



/***/ }),

/***/ "./src/app/components/song/viewsong/viewsong.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/song/viewsong/viewsong.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Song Details</h3>\n    </div>\n    <form class=\"form-horizontal\">\n        <div class=\"form-group\">\n            <label for=\"songname\" class=\"col-sm-2 control-label\">Title</label>\n            <div class=\"form-ele col-sm-10\"> {{ song?.songname }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n              <!-- <div class=\"form-ele\">{{ song?.songname }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"artist\" class=\"col-sm-2 control-label\">Artist</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.artist }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.artist }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"album\" class=\"col-sm-2 control-label\">Album</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.album }} \n<!--               <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.album }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songlyric\" class=\"col-sm-2 control-label\">Lyric</label>\n            \n            <div class=\"form-ele col-sm-10\">{{ song?.songlyric }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.songlyric }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songgenre\" class=\"col-sm-2 control-label\">Genre</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list\"></i></div> -->\n              <select disabled class=\"form-control selectfontsize\" [formControl]=\"songgenre\">\n                  <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n              </select>\n              <!-- <div class=\"form-ele\">{{ song?.songgenre }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songprice\" class=\"col-sm-2 control-label\">Price</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songprice | currency: 'IDR':'symbol-narrow' }}\n                <!-- <div class=\"input-group-addon\">Rp</div> -->\n                <!-- <div class=\"form-ele\">{{ song?.songprice | currency: 'IDR':true }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songprvwpath\" class=\"col-sm-2 control-label\">Preview</label>\n            <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\" style=\"border:1px\"><i class=\"glyphicon glyphicon-music\"></i></div>\n              <!-- <a href=\"{{ song?.songprvwpath }}\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n              <a *ngIf=\"this.state.prvwplaying && !this.state.loadingprvw\" (click)=\"togglePrvw(song?.songprvwpath)\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Preview\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n              <span *ngIf=\"this.state.loadingprvw\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n              <a *ngIf=\"!this.state.prvwplaying && !this.state.loadingprvw\" (click)=\"togglePrvw(song?.songprvwpath)\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n              <!-- <div class=\"form-ele\">{{ song?.songprvwpath }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songfilepath\" class=\"col-sm-2 control-label\">File</label>\n            <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\" style=\"border:1px\"><i class=\"glyphicon glyphicon-music\"></i></div>\n                <!-- <a href=\"{{ song?.songfilepath }}\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n                <a *ngIf=\"this.state.songplaying && !this.state.loadingsong\" (click)=\"toggleSong(song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Song\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n                <span *ngIf=\"this.state.loadingsong\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n                <a *ngIf=\"!this.state.songplaying && !this.state.loadingsong\" (click)=\"toggleSong(song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n                <!-- <div class=\"form-ele\">{{ song?.songfilepath }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songpublish\" class=\"col-sm-2 control-label\">Publish?</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songpublish }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.songpublish }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songbuy\" class=\"col-sm-2 control-label\">Total Purchased</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songbuy }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-download\"></i></div>\n                <div class=\"form-ele\">{{ song?.songbuy }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list\"></i></div> -->\n              <select class=\"form-control selectfontsize\" [formControl]=\"status\" disabled>\n                    <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n              </select>\n              <!-- <div class=\"form-ele\">{{ song?.status }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/components/song/viewsong/viewsong.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewsongComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ViewsongComponent = /** @class */ (function () {
    function ViewsongComponent(fb, authService, songService, msconfigService, toastr, route, router) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.songgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.state = { prvwplaying: false, songplaying: false,
            loadingprvw: false, loadingsong: false };
        this.audiotag = false;
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.pausePrvw();
                _this.pausePrvwAudio();
                _this.pauseSong();
                _this.pauseSongAudio();
                _this.resetAudioElement();
            }
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* NavigationStart */]) {
                _this.pausePrvw();
                _this.pausePrvwAudio();
                _this.pauseSong();
                _this.pauseSongAudio();
                _this.resetAudioElement();
            }
        });
    }
    ViewsongComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var songid = params['id'];
            _this.getMsconfigGroupList('CSTATUS');
            _this.getMsconfigGroupList('GENRE');
            _this.getSong(songid);
        });
        this.songForm = this.fb.group({
            songgenre: this.songgenre,
            status: this.status
        });
        try {
            this.audioContext = new AudioContext();
            if (this.audioContext) {
                this.prvwBuffer = null;
                this.songBuffer = null;
                this.prvwbufferSource = null;
                this.songbufferSource = null;
            }
        }
        catch (error) {
            this.audiotag = true;
            this.prvwaudio = new Audio();
            this.songaudio = new Audio();
        }
    };
    ViewsongComponent.prototype.ngOnDestroy = function () {
        this.resetAudioElement();
        this.sub.unsubscribe();
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    ViewsongComponent.prototype.resetAudioElement = function () {
        this.audioContext = null;
        this.prvwBuffer = null;
        this.songBuffer = null;
        this.prvwbufferSource = null;
        this.songbufferSource = null;
        this.prvwaudio = null;
        this.songaudio = null;
    };
    ViewsongComponent.prototype.fetchSong = function (songurl) {
        var _this = this;
        return fetch(songurl)
            .then(function (response) { return response.arrayBuffer(); })
            .then(function (buffer) {
            return new Promise(function (resolve, reject) {
                _this.audioContext.decodeAudioData(buffer, resolve, reject);
            });
        });
    };
    ViewsongComponent.prototype.togglePrvw = function (audiourl) {
        if (this.audiotag) {
            //this.toastr.error("Error. Your browser doesn't support Web Audio API.");
            if (!this.state.prvwplaying) {
                this.playPrvwAudio(audiourl);
            }
            else {
                this.pausePrvwAudio();
            }
        }
        else {
            if (!this.state.prvwplaying) {
                this.playPrvw(audiourl);
            }
            else {
                this.pausePrvw();
            }
        }
    };
    ViewsongComponent.prototype.toggleSong = function (audiourl) {
        if (this.audiotag) {
            //this.toastr.error("Error. Your browser doesn't support Web Audio API.");
            if (!this.state.songplaying) {
                this.playSongAudio(audiourl);
            }
            else {
                this.pauseSongAudio();
            }
        }
        else {
            if (!this.state.songplaying) {
                this.playSong(audiourl);
            }
            else {
                this.pauseSong();
            }
        }
    };
    ViewsongComponent.prototype.stopAllplaying = function (type) {
        if (type === 'song') {
            if (this.songBuffer && this.songbufferSource) {
                this.state.songplaying = false;
                this.songbufferSource.stop();
            }
        }
        else if (type === 'prvw') {
            if (this.prvwBuffer && this.prvwbufferSource) {
                this.state.prvwplaying = false;
                this.prvwbufferSource.stop();
            }
        }
    };
    ViewsongComponent.prototype.stopAllplayingaudio = function (type) {
        if (type === 'song') {
            if (this.songaudio && this.songaudio.src) {
                this.state.songplaying = false;
                this.songaudio.pause();
            }
        }
        else if (type === 'prvw') {
            if (this.prvwaudio && this.prvwaudio.src) {
                this.state.prvwplaying = false;
                this.prvwaudio.pause();
            }
        }
    };
    ViewsongComponent.prototype.playPrvw = function (audiourl) {
        var _this = this;
        if (this.state.songplaying) {
            this.stopAllplaying('song');
        }
        if (this.prvwBuffer) {
            this.state.prvwplaying = true;
            this.prvwbufferSource = null;
            this.prvwbufferSource = this.audioContext.createBufferSource();
            this.prvwbufferSource.buffer = this.prvwBuffer;
            this.prvwbufferSource.connect(this.audioContext.destination);
            this.prvwbufferSource.start(0);
        }
        else {
            this.state.loadingprvw = true;
            this.fetchSong(audiourl)
                .then(function (audioBuffer) {
                _this.state.loadingprvw = false;
                _this.state.prvwplaying = true;
                _this.prvwBuffer = audioBuffer;
                _this.prvwbufferSource = _this.audioContext.createBufferSource();
                _this.prvwbufferSource.buffer = _this.prvwBuffer;
                _this.prvwbufferSource.connect(_this.audioContext.destination);
                _this.prvwbufferSource.start(0);
            })
                .catch(function (error) { _this.toastr.error(error); });
        }
    };
    ViewsongComponent.prototype.playPrvwAudio = function (audiourl) {
        var _this = this;
        if (this.state.songplaying) {
            this.stopAllplayingaudio('song');
        }
        if (this.prvwaudio.src === '') {
            this.prvwaudio.src = audiourl;
            this.state.loadingprvw = true;
            this.prvwaudio.load();
            this.state.loadingprvw = false;
            //this.prvwaudio.play();
            var promise = this.prvwaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
            this.state.prvwplaying = true;
        }
        else {
            this.state.prvwplaying = true;
            //this.prvwaudio.play();
            var promise = this.prvwaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
        }
    };
    ViewsongComponent.prototype.playSong = function (audiourl) {
        var _this = this;
        if (this.state.prvwplaying) {
            this.stopAllplaying('prvw');
        }
        if (this.songBuffer) {
            this.state.songplaying = true;
            this.songbufferSource = null;
            this.songbufferSource = this.audioContext.createBufferSource();
            this.songbufferSource.buffer = this.songBuffer;
            this.songbufferSource.connect(this.audioContext.destination);
            this.songbufferSource.start(0);
        }
        else {
            this.state.loadingsong = true;
            this.fetchSong(audiourl)
                .then(function (audioBuffer) {
                _this.state.loadingsong = false;
                _this.state.songplaying = true;
                _this.songBuffer = audioBuffer;
                _this.songbufferSource = _this.audioContext.createBufferSource();
                _this.songbufferSource.buffer = _this.songBuffer;
                _this.songbufferSource.connect(_this.audioContext.destination);
                _this.songbufferSource.start(0);
            })
                .catch(function (error) { _this.toastr.error(error); });
        }
    };
    ViewsongComponent.prototype.playSongAudio = function (audiourl) {
        var _this = this;
        if (this.state.prvwplaying) {
            this.stopAllplayingaudio('prvw');
        }
        if (this.songaudio.src === '') {
            this.songaudio.src = audiourl;
            this.state.loadingsong = true;
            this.songaudio.load();
            this.state.loadingsong = false;
            //this.songaudio.play();
            var promise = this.songaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
            this.state.songplaying = true;
        }
        else {
            this.state.songplaying = true;
            //this.songaudio.play();
            var promise = this.songaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
        }
    };
    ViewsongComponent.prototype.pausePrvw = function () {
        if (this.prvwBuffer && this.prvwbufferSource) {
            this.state.prvwplaying = false;
            this.prvwbufferSource.stop();
        }
    };
    ViewsongComponent.prototype.pausePrvwAudio = function () {
        if (this.prvwaudio && this.prvwaudio.src) {
            this.state.prvwplaying = false;
            this.prvwaudio.pause();
        }
    };
    ViewsongComponent.prototype.pauseSong = function () {
        if (this.songBuffer && this.songbufferSource) {
            this.state.songplaying = false;
            this.songbufferSource.stop();
        }
    };
    ViewsongComponent.prototype.pauseSongAudio = function () {
        if (this.songaudio && this.songaudio.src) {
            this.state.songplaying = false;
            this.songaudio.pause();
        }
    };
    ViewsongComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Empty list...' }];
                    _this.genre = [{ code: '', value: 'Empty list...' }];
                }
            }
            else {
                _this.sts = [{ code: '', value: 'Error ms config list' }];
                _this.genre = [{ code: '', value: 'Error ms config list' }];
            }
        }, function (err) {
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewsongComponent.prototype.getSong = function (id) {
        var _this = this;
        this.songService.getSongAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.song = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Song id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewsongComponent.prototype.populateForm = function (data) {
        this.songForm.patchValue({
            songgenre: data.songgenre,
            status: data.status
        });
    };
    ViewsongComponent.prototype.onBack = function () {
        if (this.userObj.usertype === 'ADM') {
            this.router.navigate(['/songmanagement'], { preserveQueryParams: true });
        }
        else if (this.userObj.usertype === 'LBL') {
            this.router.navigate(['/listsong'], { preserveQueryParams: true });
        }
        else {
            this.authService.logout();
            this.router.navigate(['errorpage']);
            this.toastr.error('Incorrect param in the URL');
        }
    };
    ViewsongComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewsong',
            template: __webpack_require__("./src/app/components/song/viewsong/viewsong.component.html"),
            styles: [__webpack_require__("./src/app/components/song/viewsong/viewsong.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewsongComponent);
    return ViewsongComponent;
}());



/***/ }),

/***/ "./src/app/components/songmgt/songmgt.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/songmgt/songmgt.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Publish Song</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Search Parameter</h3>\n    </div>\n    <div class=\"panel-body\">\n      <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"row rowmarginsearch\">\n            <div class=\"col-sm-6 col-md-6\">\n                <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                <div class=\"col-sm-10\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control\" [formControl]=\"labelid\">\n                        <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                        <option value=\"\">Select the label</option>\n                        <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                    </select>\n                  </div>\n            </div>\n            <div class=\"col-sm-6 col-md-6\">\n              <label for=\"songname\" class=\"col-sm-2 paddingsearch\">Title</label>\n              <div class=\"col-sm-10\">\n                  <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                  <input type=\"text\" class=\"form-control\" id=\"songname\" [formControl]=\"songname\" placeholder=\"Song Name\">\n              </div>\n            </div>            \n        </div>\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"artistname\" class=\"col-sm-2 paddingsearch\">Artist</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Artist Name\">\n                  </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                <label for=\"albumname\" class=\"col-sm-2 paddingsearch\">Album</label>\n                <div class=\"col-sm-10\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                    <input type=\"text\" class=\"form-control\" id=\"albumname\" [formControl]=\"albumname\" placeholder=\"Album Name\">\n                </div>\n              </div>\n          </div>\n          <div class=\"row rowmarginsearch\">    \n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"albumyear\" class=\"col-sm-2 paddingsearch\">Year</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"albumyear\" [formControl]=\"albumyear\" placeholder=\"Year\">\n                  </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"songgenre\" class=\"col-sm-2 paddingsearch\">Genre</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"songgenre\">\n                        <option ng-selected=\"true\" value=\"\">Select the genre</option>\n                        <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                      </select>\n                  </div>\n              </div>\n           </div>\n          <div class=\"row rowmarginsearch\">        \n<!--               <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"songbuy\" class=\"col-sm-2 paddingsearch\">Buy?</label>\n                  <div class=\"col-sm-10\">\n                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div>\n                      <select class=\"form-control\" [formControl]=\"songbuy\">\n                        <option ng-selected=\"true\" value=\"\">Select the option</option>\n                        <option *ngFor=\"let a of ynlist\" [ngValue]=\"a.code\">{{a.value}}</option>\n                      </select>\n                  </div>\n              </div>   -->\n              <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"status\">\n                          <option ng-selected=\"true\" value=\"\">Select the status</option>\n                          <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                        <label for=\"submit\" class=\"col-sm-2 paddingsearch\">     </label>\n                        <div class=\"col-sm-5\">\n                          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                        </div>\n                </div>                  \n            </div>\n      </form>\n    </div>\n  </div>\n    <div class=\"panel panel-danger\" *ngIf=\"songs && totalrows < 1\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">No song found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n            There is NO any songs found for the selected criteria.\n        </div>\n    </div>\n\n  <div class=\"panel panel-default\" *ngIf=\"songs && totalrows > 0 && this.loading == false\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n      </div>\n      <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songname')\">Song Title</a></th>\n                          <th scope=\"col\" width=\"15%\"><a style=\"cursor:pointer\" (click)=\"sortSong('label')\">Label</a></th>\n                          <th scope=\"col\" width=\"20%\">Artist</th>\n                          <th scope=\"col\" width=\"20%\">Album</th>\n                          <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songpublish')\">Publish?</a></th>\n                          <th scope=\"col\" width=\"10%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songprice')\">Price</a></th>\n                          <th scope=\"col\" width=\"5%\">Preview</th>\n                          <th scope=\"col\" width=\"5%\">Song</th>\n                          <!-- <th width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th> -->\n                          <th scope=\"col\" width=\"5%\">Action</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let song of songs; let songIndex = index'>\n                          <td scope=\"row\" data-label=\"Song Title\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showSong(song._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ song.songname}}</a></td>\n                          <td data-label=\"Label\">{{ song.label }}</td>\n                          <td data-label=\"Artist\">{{ song.artist }}</td>\n                          <td data-label=\"Album\">{{ song.album }}</td>\n                          <td data-label=\"Publish\">{{ song.songpublish }}</td>\n                          <td class=\"text-right\" data-label=\"Song Price\">{{ song.songprice | currency: 'IDR':'symbol-narrow' }}</td>\n                          <td data-label=\"Song Preview\">\n                                <!-- <a href=\"{{ song.songprvwpath }}\" style=\"cursor:pointer;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n                                <a *ngIf=\"this.state[songIndex].playingprvw && !this.state[songIndex].loadingprvw\" (click)=\"toggleAudio(songIndex,'prvw',song?.songprvwpath)\" style=\"cursor:pointer;float:center;color:#2748B4\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Preview\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n                                <span *ngIf=\"this.state[songIndex].loadingprvw\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n                                <a *ngIf=\"!this.state[songIndex].playingprvw && !this.state[songIndex].loadingprvw\" (click)=\"toggleAudio(songIndex,'prvw',song?.songprvwpath)\" style=\"cursor:pointer;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n                          </td>\n                          <td data-label=\"Song File\">\n                              <!-- <a href=\"{{ song.songfilepath }}\" style=\"cursor:pointer;float:center;color:#19663B\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n                              <a *ngIf=\"this.state[songIndex].playingsong && !this.state[songIndex].loadingsong\" (click)=\"toggleAudio(songIndex,'song',song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#2748B4\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Song\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n                              <span *ngIf=\"this.state[songIndex].loadingsong\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n                              <a *ngIf=\"!this.state[songIndex].playingsong && !this.state[songIndex].loadingsong\" (click)=\"toggleAudio(songIndex,'song',song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#19663B\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n                          </td>\n                          <!-- <td>{{ albm.status}}</td> -->\n                          <td data-label=\"Action\">\n                               <a alt=\"Publish\" style=\"cursor:pointer;float:center;color:#11DFDF\" (click)=\"publishSong(song._id, song.songname, song.songpublish)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Publish\"><i class=\"fa fa-cloud-upload fa-2x\"></i></a>\n                               <!-- <a alt=\"Unpublish\" style=\"cursor:pointer;float:center;color:grey\" (click)=\"unpublishSong(song._id, song.songname, song.songpublish)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Unpublish\"><i class=\"fa fa-cloud-download fa-2x\"></i></a> -->\n<!--                               <button type=\"button\" class=\"btn-xs btn-success\" aria-label=\"Publish\" (click)=\"publishSong(song._id, song.songname, song.songpublish)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Publish Song\">\n                                  <span class=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span>\n                              </button>\n                              <button type=\"button\" class=\"btn-xs btn-danger\" aria-label=\"UnPublish\" (click)=\"unpublishSong(song._id, song.songname, song.songpublish)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Cancel Publish Song\">\n                                  <span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span>\n                              </button> -->\n                          </td>\n                      </tr>\n                  </tbody>\n              </table>\n          </div> \n          <div style=\"text-align:center\" *ngIf=\"songs && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div> \n      </div>\n\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/components/songmgt/songmgt.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SongmgtComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_songadmin_service__ = __webpack_require__("./src/app/services/admin/songadmin.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var SongmgtComponent = /** @class */ (function () {
    function SongmgtComponent(fb, authService, labelmgtService, msconfigService, route, router, toastr, datePipe, songadminService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.labelmgtService = labelmgtService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.songadminService = songadminService;
        //currsongbuy: Number;
        this.loading = false;
        this.songname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumyear = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        //songbuy = new FormControl('',[Validators.nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        //private state = {playing:false, loading:false};
        this.state = [];
        this.audiotag = false;
        this.currentPlaying = -1;
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.pauseanyAudiostream();
                _this.pauseanyAudiocontext();
                _this.resetAudioElement();
                _this.ngOnInit();
            }
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* NavigationStart */]) {
                _this.pauseanyAudiostream();
                _this.pauseanyAudiocontext();
                _this.resetAudioElement();
            }
        });
    }
    SongmgtComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            songname: this.songname,
            artistname: this.artistname,
            albumname: this.albumname,
            albumyear: this.albumyear,
            songgenre: this.songgenre,
            //songbuy: this.songbuy,
            status: this.status
        });
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.getMsconfigGroupList('YRN');
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qsongname = params['songname'] || '';
            _this.qartistname = params['artistname'] || '';
            _this.qalbumname = params['albumname'] || '';
            _this.qalbumyear = params['albumyear'] || '';
            _this.qsonggenre = params['songgenre'] || '';
            //this.qsongbuy = params['songbuy'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.status = _this.qstatus;
            payload.labelid = _this.qlabelid;
            payload.artistname = _this.qartistname;
            payload.albumname = _this.qalbumname;
            payload.songname = _this.qsongname;
            payload.albumyear = _this.qalbumyear;
            payload.songgenre = _this.qsonggenre;
            //payload.songbuy = this.qsongbuy;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(payload);
            _this.reportForm.patchValue({
                labelid: _this.qlabelid,
                songname: _this.qsongname,
                artistname: _this.qartistname,
                albumname: _this.qalbumname,
                albumyear: _this.qalbumyear,
                songgenre: _this.qsonggenre,
                //songbuy: this.qsongbuy,
                status: _this.qstatus
            });
        });
        try {
            this.audioContext = new AudioContext();
            if (this.audioContext) {
                this.audioBuffer = null;
                this.audiobufferSource = null;
            }
        }
        catch (error) {
            this.audiotag = true;
            this.audio = null;
        }
    };
    SongmgtComponent.prototype.ngOnDestroy = function () {
        this.resetAudioElement();
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    SongmgtComponent.prototype.resetAudioElement = function () {
        this.audioContext = null;
        this.audioBuffer = null;
        this.audiobufferSource = null;
        this.audio = null;
        this.state = [];
    };
    SongmgtComponent.prototype.fetchSong = function (audiourl) {
        var _this = this;
        return fetch(audiourl)
            .then(function (response) { return response.arrayBuffer(); })
            .then(function (buffer) {
            return new Promise(function (resolve, reject) {
                _this.audioContext.decodeAudioData(buffer, resolve, reject);
            });
        });
    };
    SongmgtComponent.prototype.toggleAudio = function (selectedItem, audiotype, audiourl) {
        console.log(this.audiotag);
        if (this.audiotag) {
            //this.toastr.error("Error. Your browser doesn't support Web Audio API.");
            if (audiotype === 'prvw') {
                if (!this.state[selectedItem].playingprvw) {
                    this.playAudiostream(selectedItem, audiotype, audiourl);
                }
                else {
                    this.pauseAudiostream(selectedItem, audiotype);
                }
            }
            else if (audiotype === 'song') {
                if (!this.state[selectedItem].playingsong) {
                    this.playAudiostream(selectedItem, audiotype, audiourl);
                }
                else {
                    this.pauseAudiostream(selectedItem, audiotype);
                }
            }
        }
        else {
            if (audiotype === 'prvw') {
                if (!this.state[selectedItem].playingprvw) {
                    this.playAudiocontext(selectedItem, audiotype, audiourl);
                }
                else {
                    this.pauseAudiocontext(selectedItem, audiotype);
                }
            }
            else if (audiotype === 'song') {
                if (!this.state[selectedItem].playingsong) {
                    this.playAudiocontext(selectedItem, audiotype, audiourl);
                }
                else {
                    this.pauseAudiocontext(selectedItem, audiotype);
                }
            }
        }
    };
    SongmgtComponent.prototype.stopAllplaying = function (selectedItem, audiotype) {
        var curState = true;
        if (this.state[this.currentPlaying]) {
            curState = this.state[this.currentPlaying].playingprvw || this.state[this.currentPlaying].playingsong;
        }
        if (this.currentPlaying != selectedItem && curState) {
            if (this.state[this.currentPlaying]) {
                this.state[this.currentPlaying].playingprvw = false;
                this.state[this.currentPlaying].playingsong = false;
            }
            if (this.audiotag) {
                if (this.audio) {
                    this.audio.pause();
                }
                this.audio = null;
            }
            else {
                if (this.audiobufferSource) {
                    this.audiobufferSource.stop();
                }
                this.audioBuffer = null;
                this.audiobufferSource = null;
            }
        }
        else {
            if (this.currentPlaying == selectedItem && curState) {
                if (audiotype === 'prvw') {
                    if (this.state[this.currentPlaying]) {
                        if (this.state[this.currentPlaying].playingsong) {
                            if (this.audiotag) {
                                if (this.audio) {
                                    this.audio.pause();
                                }
                                this.audio = null;
                            }
                            else {
                                if (this.audiobufferSource) {
                                    this.audiobufferSource.stop();
                                }
                                this.audioBuffer = null;
                                this.audiobufferSource = null;
                            }
                            this.state[this.currentPlaying].playingsong = false;
                        }
                    }
                }
                else if (audiotype === 'song') {
                    if (this.state[this.currentPlaying]) {
                        if (this.state[this.currentPlaying].playingprvw) {
                            if (this.audiotag) {
                                if (this.audio) {
                                    this.audio.pause();
                                }
                                this.audio = null;
                            }
                            else {
                                if (this.audiobufferSource) {
                                    this.audiobufferSource.stop();
                                }
                                this.audioBuffer = null;
                                this.audiobufferSource = null;
                            }
                            this.state[this.currentPlaying].playingprvw = false;
                        }
                    }
                }
            }
        }
    };
    SongmgtComponent.prototype.playAudiocontext = function (selectedItem, audiotype, audiourl) {
        var _this = this;
        this.stopAllplaying(selectedItem, audiotype);
        if (!this.audioContext) {
            this.audioContext = new AudioContext();
        }
        if (this.audioBuffer) {
            if (audiotype === 'prvw') {
                this.state[selectedItem].playingprvw = true;
            }
            else if (audiotype === 'song') {
                this.state[selectedItem].playingsong = true;
            }
            this.audiobufferSource = null;
            this.audiobufferSource = this.audioContext.createBufferSource();
            this.audiobufferSource.buffer = this.audioBuffer;
            this.audiobufferSource.connect(this.audioContext.destination);
            this.audiobufferSource.start(0);
        }
        else {
            if (audiotype === 'prvw') {
                this.state[selectedItem].loadingprvw = true;
            }
            else if (audiotype === 'song') {
                this.state[selectedItem].loadingsong = true;
            }
            this.fetchSong(audiourl)
                .then(function (audioBuffer) {
                if (audiotype === 'prvw') {
                    _this.state[selectedItem].loadingprvw = false;
                    _this.state[selectedItem].playingprvw = true;
                }
                else if (audiotype === 'song') {
                    _this.state[selectedItem].loadingsong = false;
                    _this.state[selectedItem].playingsong = true;
                }
                _this.audioBuffer = audioBuffer;
                _this.audiobufferSource = _this.audioContext.createBufferSource();
                _this.audiobufferSource.buffer = _this.audioBuffer;
                _this.audiobufferSource.connect(_this.audioContext.destination);
                _this.audiobufferSource.start(0);
            })
                .catch(function (error) { _this.toastr.error(error); });
        }
        this.currentPlaying = selectedItem;
    };
    SongmgtComponent.prototype.playAudiostream = function (selectedItem, audiotype, audiourl) {
        var _this = this;
        this.stopAllplaying(selectedItem, audiotype);
        if (!this.audio) {
            console.log('create new audio');
            try {
                this.audio = new Audio();
                if (this.audio) {
                    this.audio.src = audiourl;
                    if (audiotype === 'prvw') {
                        this.state[selectedItem].loadingprvw = true;
                    }
                    else if (audiotype === 'song') {
                        this.state[selectedItem].loadingsong = true;
                    }
                    this.audio.load();
                    if (audiotype === 'prvw') {
                        this.state[selectedItem].loadingprvw = false;
                    }
                    else if (audiotype === 'song') {
                        this.state[selectedItem].loadingsong = false;
                    }
                    //this.audio.play();
                    var promise = this.audio.play();
                    if (promise !== undefined) {
                        promise.then(function (_) {
                            // Autoplay started!
                        }).catch(function (error) {
                            // Autoplay was prevented.
                            // Show a "Play" button so that user can start playback.
                            _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                        });
                    }
                    if (audiotype === 'prvw') {
                        this.state[selectedItem].playingprvw = true;
                    }
                    else if (audiotype === 'song') {
                        this.state[selectedItem].playingsong = true;
                    }
                }
                else {
                    this.toastr.error('Error creating Audio element.');
                }
            }
            catch (error) {
                this.toastr.error(error);
            }
        }
        else {
            if (audiotype === 'prvw') {
                this.state[selectedItem].playingprvw = true;
            }
            else if (audiotype === 'song') {
                this.state[selectedItem].playingsong = true;
            }
            //this.audio.play();
            var promise = this.audio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
        }
        this.currentPlaying = selectedItem;
    };
    SongmgtComponent.prototype.pauseAudiocontext = function (selectedItem, audiotype) {
        if (this.audioBuffer && this.audiobufferSource) {
            if (audiotype === 'prvw') {
                this.state[selectedItem].playingprvw = false;
            }
            else if (audiotype === 'song') {
                this.state[selectedItem].playingsong = false;
            }
            this.audiobufferSource.stop();
        }
    };
    SongmgtComponent.prototype.pauseAudiostream = function (selectedItem, audiotype) {
        if (this.audio && this.audio.src) {
            if (audiotype === 'prvw') {
                this.state[selectedItem].playingprvw = false;
            }
            else if (audiotype === 'song') {
                this.state[selectedItem].playingsong = false;
            }
            this.audio.pause();
        }
    };
    SongmgtComponent.prototype.pauseanyAudiocontext = function () {
        if (this.audioBuffer && this.audiobufferSource) {
            this.audiobufferSource.stop();
        }
    };
    SongmgtComponent.prototype.pauseanyAudiostream = function () {
        if (this.audio && this.audio.src) {
            this.audio.pause();
        }
    };
    SongmgtComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                    if (groupid == 'YRN') {
                        _this.ynlist = data.data;
                    }
                }
                else {
                    if (groupid == 'CSTATUS')
                        _this.sts = [{ code: '', value: 'Empty list...' }];
                    if (groupid == 'GENRE')
                        _this.genre = [{ code: '', value: 'Empty list...' }];
                    if (groupid == 'YRN')
                        _this.ynlist = [{ code: '', value: 'Empty list...' }];
                }
            }
            else {
                _this.sts = [{ code: '', value: 'Error ms config list' }];
                _this.genre = [{ code: '', value: 'Error ms config list' }];
                _this.ynlist = [{ code: '', value: 'Error ms config list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            _this.genre = [{ code: '', value: 'Error ms config list' }];
            _this.ynlist = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongmgtComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
            else {
                _this.userlist = [{ _id: '', name: 'Error label list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongmgtComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            this.router.navigate(['songmanagement'], {
                queryParams: {
                    labelid: this.reportForm.value.labelid,
                    songname: this.reportForm.value.songname,
                    artistname: this.reportForm.value.artistname,
                    albumname: this.reportForm.value.albumname,
                    albumyear: this.reportForm.value.albumyear,
                    songgenre: this.reportForm.value.songgenre,
                    //songbuy: this.reportForm.value.songbuy,
                    status: this.reportForm.value.status,
                    page: 1,
                    sortby: null
                }
            });
        }
    };
    SongmgtComponent.prototype.fetchReport = function (formval) {
        var _this = this;
        this.loading = true;
        this.songadminService.getAggSongsnonpublish(formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.songs = data.data;
                _this.songs.forEach(function (res) {
                    var stateitem = { playingprvw: false, playingsong: false, loadingprvw: false, loadingsong: false };
                    _this.state.push(stateitem);
                });
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qsongname = formval.songname;
                _this.qartistname = formval.artistname;
                _this.qalbumname = formval.albumname;
                _this.qalbumyear = formval.albumyear;
                _this.qsonggenre = formval.songgenre;
                //this.qsongbuy = formval.songbuy;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Songs Result';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    songname: _this.qsongname,
                    artistname: _this.qartistname,
                    albumname: _this.qalbumname,
                    albumyear: _this.qalbumyear,
                    songgenre: _this.qsonggenre,
                    //songbuy: this.qsongbuy,
                    status: _this.qstatus
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongmgtComponent.prototype.setPage = function (page) {
        this.router.navigate(['songmanagement'], {
            queryParams: {
                labelid: this.qlabelid,
                songname: this.qsongname,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                //songbuy: this.qsongbuy,
                status: this.qstatus,
                page: page,
                sortby: this.qsort
            }
        });
    };
    SongmgtComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    SongmgtComponent.prototype.sortSong = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['songmanagement'], {
            queryParams: {
                labelid: this.qlabelid,
                songname: this.qsongname,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                //songbuy: this.qsongbuy,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongmgtComponent.prototype.showSong = function (songid) {
        this.router.navigate(["viewsong/" + songid], {
            queryParams: {
                labelid: this.qlabelid,
                songname: this.qsongname,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                //songbuy: this.qsongbuy,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongmgtComponent.prototype.publishSong = function (songid, songname, songpublish) {
        var _this = this;
        this.loading = true;
        if (songpublish === 'Y') {
            this.loading = false;
            this.toastr.warning('This song has already been published.');
        }
        else {
            if (confirm('Do you really want to publish this song: ' + songname + ' record?')) {
                this.pauseanyAudiostream();
                this.pauseanyAudiocontext();
                this.resetAudioElement();
                var payload = {};
                payload.status = 'STSACT';
                this.songadminService.publishSong(songid, payload)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.loading = false;
                        _this.fetchReport(_this.reportForm.value);
                        _this.toastr.success(data.message);
                    }
                }, function (err) {
                    _this.loading = false;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
            else {
                this.loading = false;
            }
        }
    };
    SongmgtComponent.prototype.unpublishSong = function (songid, songname, songpublish) {
        var _this = this;
        this.loading = true;
        if (songpublish === 'N') {
            this.loading = false;
            this.toastr.warning('This song is already still unpublished.');
        }
        else {
            if (confirm('Do you really want to unpublish this song: ' + songname + ' record?')) {
                var payload = {};
                payload.status = 'STSACT';
                this.songadminService.cancelpublishSong(songid, payload)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.loading = false;
                        _this.fetchReport(_this.reportForm.value);
                        _this.toastr.success(data.message);
                    }
                }, function (err) {
                    _this.loading = false;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
            else {
                this.loading = false;
            }
        }
    };
    SongmgtComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-songmgt',
            template: __webpack_require__("./src/app/components/songmgt/songmgt.component.html"),
            styles: [__webpack_require__("./src/app/components/songmgt/songmgt.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_songadmin_service__["a" /* SongadminService */]])
    ], SongmgtComponent);
    return SongmgtComponent;
}());



/***/ }),

/***/ "./src/app/components/songstats/songstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/songstats/songstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Songs</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">Search Parameter</h3>\n      </div>\n      <div class=\"panel-body\">\n        <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"labelid\">\n                          <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                          <option value=\"\">Select the label</option>\n                          <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                      </select>\n                    </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                <label for=\"songname\" class=\"col-sm-2 paddingsearch\">Title</label>\n                <div class=\"col-sm-10\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                    <input type=\"text\" class=\"form-control\" id=\"songname\" [formControl]=\"songname\" placeholder=\"Song Name\">\n                </div>\n              </div>            \n          </div>\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"artistname\" class=\"col-sm-2 paddingsearch\">Artist</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"artistname\" [formControl]=\"artistname\" placeholder=\"Artist Name\">\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"albumname\" class=\"col-sm-2 paddingsearch\">Album</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"albumname\" [formControl]=\"albumname\" placeholder=\"Album Name\">\n                  </div>\n                </div>\n            </div>\n            <div class=\"row rowmarginsearch\">    \n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"albumyear\" class=\"col-sm-2 paddingsearch\">Year</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"albumyear\" [formControl]=\"albumyear\" placeholder=\"Year\">\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"songgenre\" class=\"col-sm-2 paddingsearch\">Genre</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"songgenre\">\n                          <option ng-selected=\"true\" value=\"\">Select the genre</option>\n                          <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n                        </select>\n                    </div>\n                </div>\n             </div>\n            <div class=\"row rowmarginsearch\">        \n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"songpublish\" class=\"col-sm-2 paddingsearch\">Publish?</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"songpublish\">\n                          <option ng-selected=\"true\" value=\"\">Select the option</option>\n                          <option *ngFor=\"let a of ynlist\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                    </div>\n                </div>  \n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"songbuy\" class=\"col-sm-2 paddingsearch\">Purchased?</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"songbuy\">\n                          <option ng-selected=\"true\" value=\"\">Select the option</option>\n                          <option *ngFor=\"let a of ynlist\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                    </div>\n                </div>  \n            </div>\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"status\">\n                          <option ng-selected=\"true\" value=\"\">Select the status</option>\n                          <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"submit\" class=\"col-sm-2 paddingsearch\">     </label>\n                    <div class=\"col-sm-5\">\n                      <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                    </div>\n                </div>                  \n            </div>\n        </form>\n      </div>\n    </div>\n      <div class=\"panel panel-danger\" *ngIf=\"songs && totalrows < 1\">\n          <div class=\"panel-heading\">\n              <h3 class=\"panel-title\">No song found</h3> \n          </div>\n    \n          <div class=\"panel-body\">\n              There is NO any songs found for the selected criteria.\n          </div>\n      </div>\n  \n    <div class=\"panel panel-default\" *ngIf=\"songs && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songname')\">Song Title</a></th>\n                            <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortSong('label')\">Label</a></th>\n                            <th scope=\"col\" width=\"10%\">Artist</th>\n                            <th scope=\"col\" width=\"10%\">Album</th>\n                            <th scope=\"col\" width=\"5%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songbuy')\">Purchase</a></th>\n                            <th scope=\"col\" width=\"10%\"><a style=\"cursor:pointer\" (click)=\"sortSong('songprice')\">Price</a></th>\n                            <th scope=\"col\" width=\"5%\">Publish?</th>\n                            <!-- <th width=\"5%\">Preview</th> -->\n                            <th scope=\"col\" width=\"5%\">Song</th>\n                            <!-- <th width=\"6%\"><a style=\"cursor:pointer\" (click)=\"sortAlbum('status')\">Status</a></th> -->\n                            <th scope=\"col\" width=\"20%\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let song of songs; let songIndex = index'>\n                            <td scope=\"row\" data-label=\"Song Title\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showSong(song._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ song.songname}}</a></td>\n                            <td data-label=\"Label\">{{ song.label }}</td>\n                            <td data-label=\"Artist\">{{ song.artist }}</td>\n                            <td data-label=\"Album\">{{ song.album }}</td>\n                            <td class=\"text-right\" data-label=\"Purchase\">{{ song.songbuy}}</td>\n                            <td class=\"text-right\" data-label=\"Price\">{{ song.songprice | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"Publish?\">{{ song.songpublish }}</td>\n                            <!-- <td><a href=\"{{ song.songprvwpath }}\" style=\"cursor:pointer;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a></td> -->\n                            <td data-label=\"Song\">\n                                <!-- <a href=\"{{ song.songfilepath }}\" style=\"cursor:pointer;float:center;color:#19663B\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n                                <a *ngIf=\"this.state[songIndex].playing && !this.state[songIndex].loading\" (click)=\"toggleAudio(songIndex, song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#CF2222\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Song\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n                                <span *ngIf=\"this.state[songIndex].loading\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n                                <a *ngIf=\"!this.state[songIndex].playing && !this.state[songIndex].loading\" (click)=\"toggleAudio(songIndex, song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#0B9111\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n                            </td>\n                            <!-- <td>{{ albm.status}}</td> -->\n                            <td data-label=\"Action\">\n                                <a *ngIf=\"song.songpublish === 'Y'\" alt=\"Unpublish\" style=\"cursor:pointer;float:center;color:grey\" (click)=\"unpublishSong(song._id, song.songname, song.songpublish)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Unpublish\"><i class=\"fa fa-cloud-download fa-2x\"></i></a>\n                                <span style=\"color:#eee;float:center\">&nbsp;&nbsp;</span> \n                                <a alt=\"Delete\" style=\"cursor:pointer;float:center;color:#E42020\" (click)=\"confirmDel(songIndex, song._id, song.songpublish, song.songbuy, song.songname, song.songprvwname, song.songfilename)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete Song\"><i class=\"fa fa-trash fa-2x\"></i></a>\n                                <!-- <span *ngIf=\"song.songpublish !== 'Y'\" style=\"color:#eee\">No</span>-->\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"songs && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n  </div>\n  "

/***/ }),

/***/ "./src/app/components/songstats/songstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SongstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_songadmin_service__ = __webpack_require__("./src/app/services/admin/songadmin.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var SongstatsComponent = /** @class */ (function () {
    function SongstatsComponent(fb, authService, labelmgtService, msconfigService, route, router, toastr, datePipe, songadminService, globals, songService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.labelmgtService = labelmgtService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.songadminService = songadminService;
        this.globals = globals;
        this.songService = songService;
        this.loading = false;
        this.songname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.artistname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.albumyear = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songpublish = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.songbuy = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        //private state = {playing:false, loading:false};
        this.state = [];
        this.audiotag = false;
        this.currentPlaying = -1;
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.pauseanyAudiostream();
                _this.pauseanyAudiocontext();
                _this.resetAudioElement();
            }
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* NavigationStart */]) {
                _this.pauseanyAudiostream();
                _this.pauseanyAudiocontext();
                _this.resetAudioElement();
            }
        });
    }
    SongstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.prvwuploadpath = this.globals.prvwuploadpath;
        this.songuploadpath = this.globals.songuploadpath;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            songname: this.songname,
            artistname: this.artistname,
            albumname: this.albumname,
            albumyear: this.albumyear,
            songgenre: this.songgenre,
            songpublish: this.songpublish,
            songbuy: this.songbuy,
            status: this.status
        });
        this.getMsconfigGroupList('CSTATUS');
        this.getMsconfigGroupList('GENRE');
        this.getMsconfigGroupList('YRN');
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qsongname = params['songname'] || '';
            _this.qartistname = params['artistname'] || '';
            _this.qalbumname = params['albumname'] || '';
            _this.qalbumyear = params['albumyear'] || '';
            _this.qsonggenre = params['songgenre'] || '';
            _this.qsongpublish = params['songpublish'] || '';
            _this.qsongbuy = params['songbuy'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.status = _this.qstatus;
            payload.labelid = _this.qlabelid;
            payload.artistname = _this.qartistname;
            payload.albumname = _this.qalbumname;
            payload.songname = _this.qsongname;
            payload.albumyear = _this.qalbumyear;
            payload.songgenre = _this.qsonggenre;
            payload.songpublish = _this.qsongpublish;
            payload.songbuy = _this.qsongbuy;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(payload);
            _this.reportForm.patchValue({
                labelid: _this.qlabelid,
                songname: _this.qsongname,
                artistname: _this.qartistname,
                albumname: _this.qalbumname,
                albumyear: _this.qalbumyear,
                songgenre: _this.qsonggenre,
                songpublish: _this.qsongpublish,
                songbuy: _this.qsongbuy,
                status: _this.qstatus
            });
        });
        try {
            this.audioContext = new AudioContext();
            if (this.audioContext) {
                this.audioBuffer = null;
                this.audiobufferSource = null;
            }
        }
        catch (error) {
            this.audiotag = true;
            this.audio = null;
        }
    };
    SongstatsComponent.prototype.ngOnDestroy = function () {
        this.resetAudioElement();
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    SongstatsComponent.prototype.resetAudioElement = function () {
        this.audioContext = null;
        this.audioBuffer = null;
        this.audiobufferSource = null;
        this.audio = null;
        this.state = [];
    };
    SongstatsComponent.prototype.fetchSong = function (audiourl) {
        var _this = this;
        return fetch(audiourl)
            .then(function (response) { return response.arrayBuffer(); })
            .then(function (buffer) {
            return new Promise(function (resolve, reject) {
                _this.audioContext.decodeAudioData(buffer, resolve, reject);
            });
        });
    };
    SongstatsComponent.prototype.toggleAudio = function (selectedItem, audiourl) {
        if (this.audiotag) {
            //this.toastr.error("Error. Your browser doesn't support Web Audio API.");
            if (!this.state[selectedItem].playing) {
                this.playAudiostream(selectedItem, audiourl);
            }
            else {
                this.pauseAudiostream(selectedItem);
            }
        }
        else {
            if (!this.state[selectedItem].playing) {
                this.playAudiocontext(selectedItem, audiourl);
            }
            else {
                this.pauseAudiocontext(selectedItem);
            }
        }
    };
    SongstatsComponent.prototype.stopAllplaying = function (selectedItem) {
        var curState = true;
        if (this.state[this.currentPlaying]) {
            curState = this.state[this.currentPlaying].playing;
        }
        if (this.currentPlaying != selectedItem && curState) {
            if (this.state[this.currentPlaying]) {
                this.state[this.currentPlaying].playing = false;
            }
            if (this.audiotag) {
                if (this.audio) {
                    this.audio.pause();
                }
                this.audio = null;
            }
            else {
                if (this.audiobufferSource) {
                    this.audiobufferSource.stop();
                }
                this.audioBuffer = null;
                this.audiobufferSource = null;
            }
        }
    };
    SongstatsComponent.prototype.playAudiocontext = function (selectedItem, audiourl) {
        var _this = this;
        this.stopAllplaying(selectedItem);
        if (!this.audioContext) {
            this.audioContext = new AudioContext();
        }
        if (this.audioBuffer) {
            this.state[selectedItem].playing = true;
            this.audiobufferSource = null;
            this.audiobufferSource = this.audioContext.createBufferSource();
            this.audiobufferSource.buffer = this.audioBuffer;
            this.audiobufferSource.connect(this.audioContext.destination);
            this.audiobufferSource.start(0);
        }
        else {
            this.state[selectedItem].loading = true;
            this.fetchSong(audiourl)
                .then(function (audioBuffer) {
                _this.state[selectedItem].loading = false;
                _this.state[selectedItem].playing = true;
                _this.audioBuffer = audioBuffer;
                _this.audiobufferSource = _this.audioContext.createBufferSource();
                _this.audiobufferSource.buffer = _this.audioBuffer;
                _this.audiobufferSource.connect(_this.audioContext.destination);
                _this.audiobufferSource.start(0);
            })
                .catch(function (error) { _this.toastr.error(error); });
        }
        this.currentPlaying = selectedItem;
    };
    SongstatsComponent.prototype.playAudiostream = function (selectedItem, audiourl) {
        var _this = this;
        this.stopAllplaying(selectedItem);
        if (!this.audio) {
            this.audio = new Audio();
            this.audio.src = audiourl;
            this.state[selectedItem].loading = true;
            this.audio.load();
            this.state[selectedItem].loading = false;
            //this.audio.play();
            var promise = this.audio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
            this.state[selectedItem].playing = true;
        }
        else {
            this.state[selectedItem].playing = true;
            //this.audio.play();
            var promise = this.audio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
        }
        this.currentPlaying = selectedItem;
    };
    SongstatsComponent.prototype.pauseAudiocontext = function (selectedItem) {
        if (this.audioBuffer && this.audiobufferSource) {
            this.state[selectedItem].playing = false;
            this.audiobufferSource.stop();
        }
    };
    SongstatsComponent.prototype.pauseAudiostream = function (selectedItem) {
        if (this.audio && this.audio.src) {
            this.state[selectedItem].playing = false;
            this.audio.pause();
        }
    };
    SongstatsComponent.prototype.pauseanyAudiocontext = function () {
        if (this.audioBuffer && this.audiobufferSource) {
            this.audiobufferSource.stop();
        }
    };
    SongstatsComponent.prototype.pauseanyAudiostream = function () {
        if (this.audio && this.audio.src) {
            this.audio.pause();
        }
    };
    SongstatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                    if (groupid == 'YRN') {
                        _this.ynlist = data.data;
                    }
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongstatsComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongstatsComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            this.router.navigate(['songstats'], {
                queryParams: {
                    labelid: this.reportForm.value.labelid,
                    songname: this.reportForm.value.songname,
                    artistname: this.reportForm.value.artistname,
                    albumname: this.reportForm.value.albumname,
                    albumyear: this.reportForm.value.albumyear,
                    songgenre: this.reportForm.value.songgenre,
                    songpublish: this.reportForm.value.songpublish,
                    songbuy: this.reportForm.value.songbuy,
                    status: this.reportForm.value.status,
                    page: 1,
                    sortby: null
                }
            });
        }
    };
    SongstatsComponent.prototype.fetchReport = function (formval) {
        var _this = this;
        this.loading = true;
        this.songadminService.getAggSongs(formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.songs = data.data;
                _this.songs.forEach(function (res) {
                    var stateitem = { playing: false, loading: false };
                    _this.state.push(stateitem);
                });
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qsongname = formval.songname;
                _this.qartistname = formval.artistname;
                _this.qalbumname = formval.albumname;
                _this.qalbumyear = formval.albumyear;
                _this.qsonggenre = formval.songgenre;
                _this.qsongpublish = formval.songpublish;
                _this.qsongbuy = formval.songbuy;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Songs Result';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    songname: _this.qsongname,
                    artistname: _this.qartistname,
                    albumname: _this.qalbumname,
                    albumyear: _this.qalbumyear,
                    songgenre: _this.qsonggenre,
                    songpublish: _this.qsongpublish,
                    songbuy: _this.qsongbuy,
                    status: _this.qstatus
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    SongstatsComponent.prototype.setPage = function (page) {
        this.router.navigate(['songstats'], {
            queryParams: {
                labelid: this.qlabelid,
                songname: this.qsongname,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                songpublish: this.qsongpublish,
                songbuy: this.qsongbuy,
                status: this.qstatus,
                page: page,
                sortby: this.qsort
            }
        });
    };
    SongstatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    SongstatsComponent.prototype.sortSong = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['songstats'], {
            queryParams: {
                labelid: this.qlabelid,
                songname: this.qsongname,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                songpublish: this.qsongpublish,
                songbuy: this.qsongbuy,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongstatsComponent.prototype.showSong = function (songid) {
        this.router.navigate(["viewsongstats/" + songid], {
            queryParams: {
                labelid: this.qlabelid,
                songname: this.qsongname,
                artistname: this.qartistname,
                albumname: this.qalbumname,
                albumyear: this.qalbumyear,
                songgenre: this.qsonggenre,
                songpublish: this.qsongpublish,
                songbuy: this.qsongbuy,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    SongstatsComponent.prototype.unpublishSong = function (songid, songname, songpublish) {
        var _this = this;
        this.loading = true;
        if (songpublish === 'N') {
            this.loading = false;
            this.toastr.warning('This song is already still unpublished.');
        }
        else {
            if (confirm('Do you really want to unpublish this song: ' + songname + ' record?')) {
                this.pauseanyAudiostream();
                this.pauseanyAudiocontext();
                this.resetAudioElement();
                var payload = {};
                payload.status = 'STSACT';
                this.songadminService.cancelpublishSong(songid, payload)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.loading = false;
                        _this.fetchReport(_this.reportForm.value);
                        _this.toastr.success(data.message);
                    }
                }, function (err) {
                    _this.loading = false;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
            else {
                this.loading = false;
            }
        }
    };
    SongstatsComponent.prototype.confirmDel = function (idx, songid, songpublish, songbuy, songname, songprvwname, songfilename) {
        var _this = this;
        //if (songbuy > 0) {
        if (confirm('Do you really want to delete this song: ' + songname + ' record?')) {
            this.pauseanyAudiostream();
            this.pauseanyAudiocontext();
            this.resetAudioElement();
            this.loading = true;
            var payloadData = {};
            payloadData.labelid = this.userObj.userid;
            payloadData.songprvwname = songprvwname;
            payloadData.songfilename = songfilename;
            payloadData.prvwuploadpath = this.prvwuploadpath;
            payloadData.songuploadpath = this.songuploadpath;
            this.songService.pubdeleteSong(songid, payloadData)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.songs.splice(idx, 1);
                    _this.totalrows = _this.totalrows - 1;
                    _this.toastr.success(data.message);
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    SongstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-songstats',
            template: __webpack_require__("./src/app/components/songstats/songstats.component.html"),
            styles: [__webpack_require__("./src/app/components/songstats/songstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_songadmin_service__["a" /* SongadminService */],
            __WEBPACK_IMPORTED_MODULE_10__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_9__services_song_service__["a" /* SongService */]])
    ], SongstatsComponent);
    return SongstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/songstats/viewsongstats/viewsongstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/songstats/viewsongstats/viewsongstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Song Details</h3>\n    </div>\n    <form class=\"form-horizontal\">\n        <div class=\"form-group\">\n            <label for=\"songname\" class=\"col-sm-2 control-label\">Title</label>\n            <div class=\"form-ele col-sm-10\"> {{ song?.songname }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n              <!-- <div class=\"form-ele\">{{ song?.songname }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"artist\" class=\"col-sm-2 control-label\">Artist</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.artist }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.artist }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"album\" class=\"col-sm-2 control-label\">Album</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.album }} \n<!--               <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.album }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songlyric\" class=\"col-sm-2 control-label\">Lyric</label>\n            \n            <div class=\"form-ele col-sm-10\">{{ song?.songlyric }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.songlyric }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songgenre\" class=\"col-sm-2 control-label\">Genre</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list\"></i></div> -->\n              <select disabled class=\"form-control selectfontsize\" [formControl]=\"songgenre\">\n                  <option *ngFor=\"let g of genre\" [ngValue]=\"g.code\">{{g.value}}</option>\n              </select>\n              <!-- <div class=\"form-ele\">{{ song?.songgenre }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songprice\" class=\"col-sm-2 control-label\">Price</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songprice | currency: 'IDR':'symbol-narrow' }}\n                <!-- <div class=\"input-group-addon\">Rp</div> -->\n                <!-- <div class=\"form-ele\">{{ song?.songprice | currency: 'IDR':true }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songprvwpath\" class=\"col-sm-2 control-label\">Preview</label>\n            <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\" style=\"border:1px\"><i class=\"glyphicon glyphicon-music\"></i></div>\n              <!-- <a href=\"{{ song?.songprvwpath }}\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n              <a *ngIf=\"this.state.prvwplaying && !this.state.loadingprvw\" (click)=\"togglePrvw(song?.songprvwpath)\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Preview\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n              <span *ngIf=\"this.state.loadingprvw\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n              <a *ngIf=\"!this.state.prvwplaying && !this.state.loadingprvw\" (click)=\"togglePrvw(song?.songprvwpath)\" style=\"cursor:pointer;padding-right:5px;float:center;color:#C92020\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Preview\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n              <!-- <div class=\"form-ele\">{{ song?.songprvwpath }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songfilepath\" class=\"col-sm-2 control-label\">File</label>\n            <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\" style=\"border:1px\"><i class=\"glyphicon glyphicon-music\"></i></div>\n                <!-- <a href=\"{{ song?.songfilepath }}\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a> -->\n                <a *ngIf=\"this.state.songplaying && !this.state.loadingsong\" (click)=\"toggleSong(song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Pause Song\"><i class=\"fa fa-pause-circle fa-2x\"></i></a>\n                <span *ngIf=\"this.state.loadingsong\"><i class=\"fa fa-spinner fa-2x\"></i></span>\n                <a *ngIf=\"!this.state.songplaying && !this.state.loadingsong\" (click)=\"toggleSong(song?.songfilepath)\" style=\"cursor:pointer;float:center;color:#11DFDF\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Play Song\"><i class=\"fa fa-play-circle fa-2x\"></i></a>\n                <!-- <div class=\"form-ele\">{{ song?.songfilepath }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songpublish\" class=\"col-sm-2 control-label\">Publish?</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songpublish }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ song?.songpublish }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"songbuy\" class=\"col-sm-2 control-label\">Total Purchased</label>\n            <div class=\"form-ele col-sm-10\">{{ song?.songbuy }}\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-download\"></i></div>\n                <div class=\"form-ele\">{{ song?.songbuy }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"status\" class=\"col-sm-2 control-label\">Status</label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n              <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list\"></i></div> -->\n              <select class=\"form-control selectfontsize\" [formControl]=\"status\" disabled>\n                    <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n              </select>\n              <!-- <div class=\"form-ele\">{{ song?.status }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/components/songstats/viewsongstats/viewsongstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewsongstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_song_service__ = __webpack_require__("./src/app/services/song.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ViewsongstatsComponent = /** @class */ (function () {
    function ViewsongstatsComponent(fb, authService, songService, msconfigService, toastr, route, router) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.songService = songService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.songgenre = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.state = { prvwplaying: false, songplaying: false,
            loadingprvw: false, loadingsong: false };
        this.audiotag = false;
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.pausePrvw();
                _this.pausePrvwAudio();
                _this.pauseSong();
                _this.pauseSongAudio();
                _this.resetAudioElement();
            }
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* NavigationStart */]) {
                _this.pausePrvw();
                _this.pausePrvwAudio();
                _this.pauseSong();
                _this.pauseSongAudio();
                _this.resetAudioElement();
            }
        });
    }
    ViewsongstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var songid = params['id'];
            _this.getMsconfigGroupList('CSTATUS');
            _this.getMsconfigGroupList('GENRE');
            _this.getSong(songid);
        });
        this.songForm = this.fb.group({
            songgenre: this.songgenre,
            status: this.status
        });
        try {
            this.audioContext = new AudioContext();
            if (this.audioContext) {
                this.prvwBuffer = null;
                this.songBuffer = null;
                this.prvwbufferSource = null;
                this.songbufferSource = null;
            }
        }
        catch (error) {
            this.audiotag = true;
            this.prvwaudio = new Audio();
            this.songaudio = new Audio();
        }
    };
    ViewsongstatsComponent.prototype.ngOnDestroy = function () {
        this.resetAudioElement();
        this.sub.unsubscribe();
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    ViewsongstatsComponent.prototype.resetAudioElement = function () {
        this.audioContext = null;
        this.prvwBuffer = null;
        this.songBuffer = null;
        this.prvwbufferSource = null;
        this.songbufferSource = null;
        this.prvwaudio = null;
        this.songaudio = null;
    };
    ViewsongstatsComponent.prototype.fetchSong = function (songurl) {
        var _this = this;
        return fetch(songurl)
            .then(function (response) { return response.arrayBuffer(); })
            .then(function (buffer) {
            return new Promise(function (resolve, reject) {
                _this.audioContext.decodeAudioData(buffer, resolve, reject);
            });
        });
    };
    ViewsongstatsComponent.prototype.togglePrvw = function (audiourl) {
        if (this.audiotag) {
            //this.toastr.error("Error. Your browser doesn't support Web Audio API.");
            if (!this.state.prvwplaying) {
                this.playPrvwAudio(audiourl);
            }
            else {
                this.pausePrvwAudio();
            }
        }
        else {
            if (!this.state.prvwplaying) {
                this.playPrvw(audiourl);
            }
            else {
                this.pausePrvw();
            }
        }
    };
    ViewsongstatsComponent.prototype.toggleSong = function (audiourl) {
        if (this.audiotag) {
            //this.toastr.error("Error. Your browser doesn't support Web Audio API.");
            if (!this.state.songplaying) {
                this.playSongAudio(audiourl);
            }
            else {
                this.pauseSongAudio();
            }
        }
        else {
            if (!this.state.songplaying) {
                this.playSong(audiourl);
            }
            else {
                this.pauseSong();
            }
        }
    };
    ViewsongstatsComponent.prototype.stopAllplaying = function (type) {
        if (type === 'song') {
            if (this.songBuffer && this.songbufferSource) {
                this.state.songplaying = false;
                this.songbufferSource.stop();
            }
        }
        else if (type === 'prvw') {
            if (this.prvwBuffer && this.prvwbufferSource) {
                this.state.prvwplaying = false;
                this.prvwbufferSource.stop();
            }
        }
    };
    ViewsongstatsComponent.prototype.stopAllplayingaudio = function (type) {
        if (type === 'song') {
            if (this.songaudio && this.songaudio.src) {
                this.state.songplaying = false;
                this.songaudio.pause();
            }
        }
        else if (type === 'prvw') {
            if (this.prvwaudio && this.prvwaudio.src) {
                this.state.prvwplaying = false;
                this.prvwaudio.pause();
            }
        }
    };
    ViewsongstatsComponent.prototype.playPrvw = function (audiourl) {
        var _this = this;
        if (this.state.songplaying) {
            this.stopAllplaying('song');
        }
        if (this.prvwBuffer) {
            this.state.prvwplaying = true;
            this.prvwbufferSource = null;
            this.prvwbufferSource = this.audioContext.createBufferSource();
            this.prvwbufferSource.buffer = this.prvwBuffer;
            this.prvwbufferSource.connect(this.audioContext.destination);
            this.prvwbufferSource.start(0);
        }
        else {
            this.state.loadingprvw = true;
            this.fetchSong(audiourl)
                .then(function (audioBuffer) {
                _this.state.loadingprvw = false;
                _this.state.prvwplaying = true;
                _this.prvwBuffer = audioBuffer;
                _this.prvwbufferSource = _this.audioContext.createBufferSource();
                _this.prvwbufferSource.buffer = _this.prvwBuffer;
                _this.prvwbufferSource.connect(_this.audioContext.destination);
                _this.prvwbufferSource.start(0);
            })
                .catch(function (error) { _this.toastr.error(error); });
        }
    };
    ViewsongstatsComponent.prototype.playPrvwAudio = function (audiourl) {
        var _this = this;
        if (this.state.songplaying) {
            this.stopAllplayingaudio('song');
        }
        if (this.prvwaudio.src === '') {
            this.prvwaudio.src = audiourl;
            this.state.loadingprvw = true;
            this.prvwaudio.load();
            this.state.loadingprvw = false;
            //this.prvwaudio.play();
            var promise = this.prvwaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
            this.state.prvwplaying = true;
        }
        else {
            this.state.prvwplaying = true;
            //this.prvwaudio.play();
            var promise = this.prvwaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
        }
    };
    ViewsongstatsComponent.prototype.playSong = function (audiourl) {
        var _this = this;
        if (this.state.prvwplaying) {
            this.stopAllplaying('prvw');
        }
        if (this.songBuffer) {
            this.state.songplaying = true;
            this.songbufferSource = null;
            this.songbufferSource = this.audioContext.createBufferSource();
            this.songbufferSource.buffer = this.songBuffer;
            this.songbufferSource.connect(this.audioContext.destination);
            this.songbufferSource.start(0);
        }
        else {
            this.state.loadingsong = true;
            this.fetchSong(audiourl)
                .then(function (audioBuffer) {
                _this.state.loadingsong = false;
                _this.state.songplaying = true;
                _this.songBuffer = audioBuffer;
                _this.songbufferSource = _this.audioContext.createBufferSource();
                _this.songbufferSource.buffer = _this.songBuffer;
                _this.songbufferSource.connect(_this.audioContext.destination);
                _this.songbufferSource.start(0);
            })
                .catch(function (error) { _this.toastr.error(error); });
        }
    };
    ViewsongstatsComponent.prototype.playSongAudio = function (audiourl) {
        var _this = this;
        if (this.state.prvwplaying) {
            this.stopAllplayingaudio('prvw');
        }
        if (this.songaudio.src === '') {
            this.songaudio.src = audiourl;
            this.state.loadingsong = true;
            this.songaudio.load();
            this.state.loadingsong = false;
            //this.songaudio.play();
            var promise = this.songaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
            this.state.songplaying = true;
        }
        else {
            this.state.songplaying = true;
            //this.songaudio.play();
            var promise = this.songaudio.play();
            if (promise !== undefined) {
                promise.then(function (_) {
                    // Autoplay started!
                }).catch(function (error) {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    _this.toastr.error('Can not play audio file. File type is not supported to be played in this browser.');
                });
            }
        }
    };
    ViewsongstatsComponent.prototype.pausePrvw = function () {
        if (this.prvwBuffer && this.prvwbufferSource) {
            this.state.prvwplaying = false;
            this.prvwbufferSource.stop();
        }
    };
    ViewsongstatsComponent.prototype.pausePrvwAudio = function () {
        if (this.prvwaudio && this.prvwaudio.src) {
            this.state.prvwplaying = false;
            this.prvwaudio.pause();
        }
    };
    ViewsongstatsComponent.prototype.pauseSong = function () {
        if (this.songBuffer && this.songbufferSource) {
            this.state.songplaying = false;
            this.songbufferSource.stop();
        }
    };
    ViewsongstatsComponent.prototype.pauseSongAudio = function () {
        if (this.songaudio && this.songaudio.src) {
            this.state.songplaying = false;
            this.songaudio.pause();
        }
    };
    ViewsongstatsComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'CSTATUS') {
                        _this.sts = data.data;
                    }
                    if (groupid == 'GENRE') {
                        _this.genre = data.data;
                    }
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewsongstatsComponent.prototype.getSong = function (id) {
        var _this = this;
        this.songService.getSongAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.song = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Song id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewsongstatsComponent.prototype.populateForm = function (data) {
        this.songForm.patchValue({
            songgenre: data.songgenre,
            status: data.status
        });
    };
    ViewsongstatsComponent.prototype.onBack = function () {
        this.router.navigate(['../songstats'], { preserveQueryParams: true });
    };
    ViewsongstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewsongstats',
            template: __webpack_require__("./src/app/components/songstats/viewsongstats/viewsongstats.component.html"),
            styles: [__webpack_require__("./src/app/components/songstats/viewsongstats/viewsongstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_song_service__["a" /* SongService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewsongstatsComponent);
    return ViewsongstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/transaction/transaction.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/transaction/transaction.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Transactions</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"purchaseid\" class=\"col-sm-2 paddingsearch\">Payment Ref</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"purchaseid\" [formControl]=\"purchaseid\" placeholder=\"Payment Ref\">\n                    </div>\n                </div>         \n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"buyername\" class=\"col-sm-2 paddingsearch\">Buyer</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"buyername\" [formControl]=\"buyername\" placeholder=\"Buyer Name\">\n                  </div>\n                </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"productname\" class=\"col-sm-2 paddingsearch\">Product Name</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"productname\" [formControl]=\"productname\" placeholder=\"Product Name\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"dbcr\" class=\"col-sm-2 paddingsearch\">IN/OUT</label>\n                      <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"dbcr\">\n                            <option ng-selected=\"true\" value=\"\">Select the option</option>\n                            <option *ngFor=\"let a of dc\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                      </div>\n                    </div>             \n                </div>\n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"fromamt\" class=\"col-sm-2 paddingsearch\">From Amount</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"fromamt\" [formControl]=\"fromamt\" placeholder=\"From Amount\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"toamt\" class=\"col-sm-2 paddingsearch\">To Amount</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"toamt\" [formControl]=\"toamt\" placeholder=\"To Amount\">\n                    </div>\n                  </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label class=\"col-sm-6 paddingsearch\">Transaction Date</label>\n                  </div>  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                              Today\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                              Current month\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                              Date Range (yyyy-mm-dd)\n                          </label>\n                      </div>\n                      <div class=\"row\" style=\"padding: 8px\">\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n                  </div> \n\n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"col-sm-6\" style=\"margin:0;padding:0\">\n                        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                      </div>\n                  </div>                  \n              </div>\n            </form>\n        </div>    \n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"transactions && totalrows < 1\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No transaction found</h3> \n        </div>\n\n        <div class=\"panel-body\">\n          There is NO transaction found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"transactions && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTransaction('transactiondt')\">Transaction Date</a></th>\n                            <th width=\"40%\" scope=\"col\">Remarks</th>\n                            <th width=\"20%\" scope=\"col\">Payment</th>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTransaction('amount')\">Amount</a></th>\n                            <th width=\"5%\" scope=\"col\">In/Out</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let trx of transactions; let trxIndex = index'>\n                            <!-- <td data-label=\"Transaction Date\" scope=\"row\"><a style=\"cursor:pointer\" (click)=\"showTransaction(trx._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ trx.transactiondt | date: 'd MMM y'}}</a></td>   -->\n                            <td data-label=\"Transaction Date\" scope=\"row\">{{ trx.transactiondt | date: 'd MMM y'}}</td>\n                            <td data-label=\"Remarks\">payment ref: {{ trx.purchaseid }} ; <br> buyer: {{ trx.listener }} ;<br> product: {{ trx.producttype}} &nbsp; {{ trx.product}}</td>\n                            <td data-label=\"Payment\"><a style=\"cursor:pointer\" (click)=\"showPurchase(trx.purchaseid)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Payment\">{{ trx.payment }}</a></td>\n                            <td data-label=\"Amount\" class=\"text-right\">{{ trx.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"In/Out\">{{ trx.dbcr }}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"transactions && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/transaction/transaction.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TransactionComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_transaction_service__ = __webpack_require__("./src/app/services/transaction.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







//import { SongService } from '../../services/song.service';

var TransactionComponent = /** @class */ (function () {
    function TransactionComponent(fb, authService, route, router, toastr, datePipe, transactionService, msconfigService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.transactionService = transactionService;
        this.msconfigService = msconfigService;
        this.dc = [{ code: '-', value: 'OUT' },
            { code: '+', value: 'IN' }];
        this.loading = false;
        this.productname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.purchaseid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.buyername = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.dbcr = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.fromamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.toamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    TransactionComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            productname: this.productname,
            purchaseid: this.purchaseid,
            buyername: this.buyername,
            dbcr: this.dbcr,
            fromamt: this.fromamt,
            toamt: this.toamt,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.route.queryParams.forEach(function (params) {
            _this.qproductname = params['productname'] || '';
            _this.qpurchaseid = params['purchaseid'] || '';
            _this.qbuyername = params['buyername'] || '';
            _this.qdbcr = params['dbcr'] || '';
            _this.qfromamt = params['fromamt'] || '';
            _this.qtoamt = params['toamt'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.productname = _this.qproductname;
                payload.purchaseid = _this.qpurchaseid;
                payload.buyername = _this.qbuyername;
                payload.dbcr = _this.qdbcr;
                payload.fromamt = _this.qfromamt;
                payload.toamt = _this.qtoamt;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    productname: _this.qproductname,
                    purchaseid: _this.qpurchaseid,
                    buyername: _this.qbuyername,
                    dbcr: _this.qdbcr,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    TransactionComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    TransactionComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    TransactionComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['transaction'], {
                            queryParams: {
                                productname: this.reportForm.value.productname,
                                purchaseid: this.reportForm.value.purchaseid,
                                buyername: this.reportForm.value.buyername,
                                dbcr: this.reportForm.value.dbcr,
                                fromamt: this.reportForm.value.fromamt,
                                toamt: this.reportForm.value.toamt,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['transaction'], {
                    queryParams: {
                        productname: this.reportForm.value.productname,
                        purchaseid: this.reportForm.value.purchaseid,
                        buyername: this.reportForm.value.buyername,
                        dbcr: this.reportForm.value.dbcr,
                        fromamt: this.reportForm.value.fromamt,
                        toamt: this.reportForm.value.toamt,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    TransactionComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.transactionService.getTransactionAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.transactions = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qproductname = formval.productname;
                _this.qpurchaseid = formval.purchaseid;
                _this.qbuyername = formval.buyername;
                _this.qdbcr = formval.dbcr;
                _this.qfromamt = formval.fromamt;
                _this.qtoamt = formval.toamt;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    productname: _this.qproductname,
                    purchaseid: _this.qpurchaseid,
                    buyername: _this.qbuyername,
                    dbcr: _this.qdbcr,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    TransactionComponent.prototype.setPage = function (page) {
        this.router.navigate(['transaction'], {
            queryParams: {
                productname: this.qproductname,
                purchaseid: this.qpurchaseid,
                buyername: this.qbuyername,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    TransactionComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    TransactionComponent.prototype.sortTransaction = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['transaction'], {
            queryParams: {
                productname: this.qproductname,
                purchaseid: this.qpurchaseid,
                buyername: this.qbuyername,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    TransactionComponent.prototype.showSong = function (songid) {
        this.router.navigate(["viewsongpurchase/" + songid], {
            queryParams: {
                srcpg: 'tranx',
                productname: this.qproductname,
                purchaseid: this.qpurchaseid,
                buyername: this.qbuyername,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    TransactionComponent.prototype.showPurchase = function (songpurchaseid) {
        this.router.navigate(["viewpurchase/" + songpurchaseid], {
            queryParams: {
                srcpg: 'tranx',
                productname: this.qproductname,
                purchaseid: this.qpurchaseid,
                buyername: this.qbuyername,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    TransactionComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-transaction',
            template: __webpack_require__("./src/app/components/transaction/transaction.component.html"),
            styles: [__webpack_require__("./src/app/components/transaction/transaction.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_transaction_service__["a" /* TransactionService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], TransactionComponent);
    return TransactionComponent;
}());



/***/ }),

/***/ "./src/app/components/transactionstats/transactionstats.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/transactionstats/transactionstats.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Transactions</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"purchaseid\" class=\"col-sm-2 paddingsearch\">Payment Ref</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"purchaseid\" [formControl]=\"purchaseid\" placeholder=\"Payment Ref\">\n                    </div>\n                </div>         \n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"buyername\" class=\"col-sm-2 paddingsearch\">Buyer</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"buyername\" [formControl]=\"buyername\" placeholder=\"Buyer Name\">\n                  </div>\n                </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"productname\" class=\"col-sm-2 paddingsearch\">Product Name</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"productname\" [formControl]=\"productname\" placeholder=\"Product Name\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"dbcr\" class=\"col-sm-2 paddingsearch\">IN/OUT</label>\n                      <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"dbcr\">\n                            <option ng-selected=\"true\" value=\"\">Select the option</option>\n                            <option *ngFor=\"let a of dc\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                      </div>\n                    </div>             \n                </div>\n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"fromamt\" class=\"col-sm-2 paddingsearch\">From Amount</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"fromamt\" [formControl]=\"fromamt\" placeholder=\"From Amount\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"toamt\" class=\"col-sm-2 paddingsearch\">To Amount</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"toamt\" [formControl]=\"toamt\" placeholder=\"To Amount\">\n                    </div>\n                  </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label class=\"col-sm-6 paddingsearch\">Transaction Date</label>\n                  </div>  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                              Today\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                              Current month\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                              Date Range (yyyy-mm-dd)\n                          </label>\n                      </div>\n                      <div class=\"row\" style=\"padding: 8px\">\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n                  </div> \n\n              </div>\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"labelid\">\n                          <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                          <option value=\"\">Select the label</option>\n                          <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                      </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                </div>                  \n              </div>\n            </form>\n        </div>    \n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"transactions && totalrows < 1\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No transaction found</h3> \n        </div>\n\n        <div class=\"panel-body\">\n          There is NO transaction found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"transactions && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTransaction('transactiondt')\">Transaction Date</a></th>\n                            <th width=\"40%\" scope=\"col\">Remarks</th>\n                            <th width=\"20%\" scope=\"col\">Payment</th>\n                            <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTransaction('amount')\">Amount</a></th>\n                            <th width=\"5%\" scope=\"col\">In/Out</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let trx of transactions; let trxIndex = index'>\n                            <!-- <td data-label=\"Transaction Date\" scope=\"row\"><a style=\"cursor:pointer\" (click)=\"showTransaction(trx._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ trx.transactiondt | date: 'd MMM y'}}</a></td>   -->\n                            <td data-label=\"Transaction Date\" scope=\"row\">{{ trx.transactiondt | date: 'd MMM y'}}</td>\n                            <td data-label=\"Remarks\">payment ref: {{ trx.purchaseid }} ; <br> buyer: {{ trx.listener }} ;<br> product: {{ trx.producttype}} &nbsp; {{ trx.product}}</td>\n                            <td data-label=\"Payment\"><a style=\"cursor:pointer\" (click)=\"showPurchase(trx.purchaseid)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Payment\">{{ trx.payment }}</a></td>\n                            <td data-label=\"Amount\" class=\"text-right\">{{ trx.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"In/Out\">{{ trx.dbcr }}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"transactions && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n  \n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/transactionstats/transactionstats.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TransactionstatsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_transaction_service__ = __webpack_require__("./src/app/services/transaction.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







//import { SongService } from '../../services/song.service';


var TransactionstatsComponent = /** @class */ (function () {
    function TransactionstatsComponent(fb, authService, route, router, toastr, datePipe, transactionService, msconfigService, labelmgtService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.transactionService = transactionService;
        this.msconfigService = msconfigService;
        this.labelmgtService = labelmgtService;
        this.dc = [{ code: '-', value: 'OUT' },
            { code: '+', value: 'IN' }];
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.productname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.purchaseid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.buyername = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.dbcr = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.fromamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.toamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    TransactionstatsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            productname: this.productname,
            purchaseid: this.purchaseid,
            buyername: this.buyername,
            dbcr: this.dbcr,
            fromamt: this.fromamt,
            toamt: this.toamt,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qproductname = params['productname'] || '';
            _this.qpurchaseid = params['purchaseid'] || '';
            _this.qbuyername = params['buyername'] || '';
            _this.qdbcr = params['dbcr'] || '';
            _this.qfromamt = params['fromamt'] || '';
            _this.qtoamt = params['toamt'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.labelid = _this.qlabelid;
                payload.productname = _this.qproductname;
                payload.purchaseid = _this.qpurchaseid;
                payload.buyername = _this.qbuyername;
                payload.dbcr = _this.qdbcr;
                payload.fromamt = _this.qfromamt;
                payload.toamt = _this.qtoamt;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    productname: _this.qproductname,
                    purchaseid: _this.qpurchaseid,
                    buyername: _this.qbuyername,
                    dbcr: _this.qdbcr,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    TransactionstatsComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    TransactionstatsComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    TransactionstatsComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    TransactionstatsComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['transactionstats'], {
                            queryParams: {
                                labelid: this.reportForm.value.labelid,
                                productname: this.reportForm.value.productname,
                                purchaseid: this.reportForm.value.purchaseid,
                                buyername: this.reportForm.value.buyername,
                                dbcr: this.reportForm.value.dbcr,
                                fromamt: this.reportForm.value.fromamt,
                                toamt: this.reportForm.value.toamt,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['transactionstats'], {
                    queryParams: {
                        labelid: this.reportForm.value.labelid,
                        productname: this.reportForm.value.productname,
                        purchaseid: this.reportForm.value.purchaseid,
                        buyername: this.reportForm.value.buyername,
                        dbcr: this.reportForm.value.dbcr,
                        fromamt: this.reportForm.value.fromamt,
                        toamt: this.reportForm.value.toamt,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    TransactionstatsComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.transactionService.getAdmTransactionAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.transactions = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid,
                    _this.qproductname = formval.productname;
                _this.qpurchaseid = formval.purchaseid;
                _this.qbuyername = formval.buyername;
                _this.qdbcr = formval.dbcr;
                _this.qfromamt = formval.fromamt;
                _this.qtoamt = formval.toamt;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    productname: _this.qproductname,
                    purchaseid: _this.qpurchaseid,
                    buyername: _this.qbuyername,
                    dbcr: _this.qdbcr,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    TransactionstatsComponent.prototype.setPage = function (page) {
        this.router.navigate(['transactionstats'], {
            queryParams: {
                labelid: this.qlabelid,
                productname: this.qproductname,
                purchaseid: this.qpurchaseid,
                buyername: this.qbuyername,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    TransactionstatsComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    TransactionstatsComponent.prototype.sortTransaction = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['transactionstats'], {
            queryParams: {
                labelid: this.qlabelid,
                productname: this.qproductname,
                purchaseid: this.qpurchaseid,
                buyername: this.qbuyername,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    TransactionstatsComponent.prototype.showPurchase = function (songpurchaseid) {
        this.router.navigate(["viewpurchase/" + songpurchaseid], {
            queryParams: {
                srcpg: 'tranxstats',
                labelid: this.qlabelid,
                productname: this.qproductname,
                purchaseid: this.qpurchaseid,
                buyername: this.qbuyername,
                dbcr: this.qdbcr,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    TransactionstatsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-transactionstats',
            template: __webpack_require__("./src/app/components/transactionstats/transactionstats.component.html"),
            styles: [__webpack_require__("./src/app/components/transactionstats/transactionstats.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_transaction_service__["a" /* TransactionService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_8__services_admin_usermgt_service__["a" /* UsermgtService */]])
    ], TransactionstatsComponent);
    return TransactionstatsComponent;
}());



/***/ }),

/***/ "./src/app/components/trfbalancereq/addtrfbalancereq/addtrfbalancereq.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/trfbalancereq/addtrfbalancereq/addtrfbalancereq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>TRANSFER REQUEST</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form  [formGroup]=\"addTrfRequestForm\" (ngSubmit)=\"addTrfRequest(addTrfRequestForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n      <div class=\"form-group\" [ngClass]=\"{'has-error': addTrfRequestForm.get('insref').invalid && addTrfRequestForm.get('insref').dirty}\">\n          <label for=\"insref\" class=\"col-sm-2 control-label\">Reference </label>\n          <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n              <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"insref\" id=\"insref\" placeholder=\"Ins Reference\">\n          </div>\n\n      </div>\n      <div class=\"form-group\" [ngClass]=\"{'has-error': addTrfRequestForm.get('amount').invalid && addTrfRequestForm.get('amount').dirty}\">\n          <label for=\"amount\" class=\"col-sm-2 control-label\">Amount<sup>*</sup></label>\n          <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\">Rp</div>\n              <input [disabled]=\"this.loading == true\" type=\"number\" class=\"form-control\" id=\"amount\" [formControl]=\"amount\" placeholder=\"Amount\">\n          </div>\n          <div class=\"text-danger\" *ngIf=\"addTrfRequestForm.get('amount').dirty && addTrfRequestForm.get('amount').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addTrfRequestForm.get('amount').errors.required\">\n                  Please enter amount\n              </span>\n              <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"addTrfRequestForm.get('amount').errors.pattern\">\n                  Please enter a valid amount\n              </span>\n          </div>\n      </div>\n      <div class=\"form-group\" *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\">\n          <label for=\"account\" class=\"col-sm-2\"></label>\n            <div class=\"input-group col-sm-10\"> \n                <button style=\"padding:5px;\"type=\"button\" (click)=\"viewlabelbalance(this.name)\" [disabled]=\"this.loading == true\" class=\"btn btn-primary\">Check balance</button>\n            </div>\n      </div>\n      <hr class=\"line-grey-center\">\n      <div class=\"form-group\">\n        <label for=\"account\" class=\"col-sm-2\"></label>\n        <div class=\"col-xs-12 col-sm-10 input-group\">\n          <h4>Will be Transfered To</h4>            \n          <ul class=\"list-group\">\n              <li class=\"list-group-item borderless bordersideless\">Account No <span class=\"badge\"><b><i>{{ this.bankaccno }}</i></b></span></li>\n              <li class=\"list-group-item borderless bordersideless\">Account Name <span class=\"badge\"><b><i>{{ this.bankaccname }}</i></b></span></li>\n              <li class=\"list-group-item borderless bordersideless\">Bank Name <span class=\"badge\"><b><i>{{ this.bankname }}</i></b></span></li>\n          </ul>\n        </div>\n      </div>\n\n      <div class=\"form-group\">\n           <label class=\"col-sm-2 control-label\">  </label>\n         <mat-progress-bar mode=\"determinate\" value=\"{{this.progressvalue}}\"></mat-progress-bar>\n         <sup *ngIf=\"progressvalue > 0\">{{ this.progressvalue }} %</sup>\n      </div>\n      <div class=\"form-group\">\n          <label class=\"col-sm-2 control-label\"></label>\n          <div class=\"col-sm-5\" style=\"padding:0;margin:0;\">\n              <button type=\"submit\" [disabled]=\"addTrfRequestForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n              <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n          </div>\n          <div class=\"col-sm-5\" style=\"text-align:right\">\n              <sup>*</sup> required\n          </div>\n      </div>\n    </form>\n</div>"

/***/ }),

/***/ "./src/app/components/trfbalancereq/addtrfbalancereq/addtrfbalancereq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddtrfbalancereqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__labelbalancedialog_labelbalancedialog_component__ = __webpack_require__("./src/app/components/labelbalancedialog/labelbalancedialog.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_trfbalance_service__ = __webpack_require__("./src/app/services/trfbalance.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var AddtrfbalancereqComponent = /** @class */ (function () {
    function AddtrfbalancereqComponent(fb, authService, userService, toastr, route, router, dialog, trfbalanceService) {
        this.fb = fb;
        this.authService = authService;
        this.userService = userService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.dialog = dialog;
        this.trfbalanceService = trfbalanceService;
        this.loading = false;
        this.progressvalue = 0;
        this.amount = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.insref = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    AddtrfbalancereqComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.name = this.userObj.name;
        this.progressvalue = 0;
        this.addTrfRequestForm = this.fb.group({
            amount: this.amount,
            insref: this.insref
        });
        this.userService.getUser(this.userObj.userid).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.user = data.data[0];
                _this.bankaccno = _this.user.bankaccno;
                _this.bankaccname = _this.user.bankaccname;
                _this.bankname = _this.user.bankname;
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AddtrfbalancereqComponent.prototype.addTrfRequest = function (formdata) {
        var _this = this;
        this.progressvalue = 0;
        if (this.addTrfRequestForm.dirty && this.addTrfRequestForm.valid) {
            this.progressvalue = 10;
            var theForm = this.addTrfRequestForm.value;
            //alert('Amount to be transfered: '+ theForm.amount);  
            theForm.bankaccno = this.bankaccno;
            theForm.bankaccname = this.bankaccname;
            theForm.bankname = this.bankname;
            theForm.status = 'STSPEND';
            this.trfbalanceService.saveTrfbalancereq(this.userObj.userid, theForm)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.progressvalue = 0;
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.progressvalue = 100;
                    _this.toastr.success(data.message);
                }
                _this.addTrfRequestForm.reset();
                _this.progressvalue = 0;
            }, function (err) {
                _this.loading = false;
                _this.progressvalue = 0;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
        else {
            this.toastr.error('Please provide correct input...');
        }
    };
    AddtrfbalancereqComponent.prototype.viewlabelbalance = function (labelname) {
        var dialogRef = this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__labelbalancedialog_labelbalancedialog_component__["a" /* LabelbalancedialogComponent */], {
            disableClose: true,
            width: '400px',
            data: 'Hi ' + labelname + ', Please find below your balance.'
        });
    };
    AddtrfbalancereqComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-addtrfbalancereq',
            template: __webpack_require__("./src/app/components/trfbalancereq/addtrfbalancereq/addtrfbalancereq.component.html"),
            styles: [__webpack_require__("./src/app/components/trfbalancereq/addtrfbalancereq/addtrfbalancereq.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__angular_material__["d" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_8__services_trfbalance_service__["a" /* TrfbalanceService */]])
    ], AddtrfbalancereqComponent);
    return AddtrfbalancereqComponent;
}());



/***/ }),

/***/ "./src/app/components/trfbalancereq/admlisttransferbalancereq/admlisttransferbalancereq.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/trfbalancereq/admlisttransferbalancereq/admlisttransferbalancereq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>TRANSFER REQUEST SUMMARY</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n\n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"fromamt\" class=\"col-sm-2 paddingsearch\">From Amount</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"fromamt\" [formControl]=\"fromamt\" placeholder=\"From Amount\">\n                      </div>\n                  </div>         \n                  <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"toamt\" class=\"col-sm-2 paddingsearch\">To Amount</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"toamt\" [formControl]=\"toamt\" placeholder=\"To Amount\">\n                    </div>\n                  </div>            \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label class=\"col-sm-6 paddingsearch\">Request Date</label>\n                  </div>  \n              </div>\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                              Today\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-3 col-md-3\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                              Current month\n                          </label>\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                      <div class=\"radio\">\n                          <label>\n                              <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                              Date Range (yyyy-mm-dd)\n                          </label>\n                      </div>\n                      <div class=\"row\" style=\"padding: 8px\">\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                  </div>\n                              </div>\n                          </div>\n                          <div class=\"col-sm-6 col-md-6\">\n                              <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                  <div class=\"input-group\">\n                                      <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                      <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                  </div>\n                                  <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                      <span class=\"col-sm-2\"></span>\n                                      <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n                  </div> \n\n              </div>\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                      <select class=\"form-control\" [formControl]=\"labelid\">\n                          <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                          <option value=\"\">Select the label</option>\n                          <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                      </select>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                </div>                  \n              </div>\n            </form>\n        </div>    \n    </div>\n    <div class=\"panel panel-danger\" *ngIf=\"trfbalancereqs && totalrows < 1\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">No transfer balance req found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n            There is NO pending transfer balance request found for the selected criteria.\n        </div>\n    </div>\n    <div class=\"panel panel-default\" *ngIf=\"trfbalancereqs && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <span class=\"panel-title\"><i>{{reportTitle}}</i> <b> {{ totalrows }} records found</b> </span> \n        </div>\n        <div class=\"panel-body\">\n          <div class=\"table-responsive\">\n              <table class=\"table table-hover\">\n                  <thead>\n                      <tr>\n                          <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('requestdt')\">Request Date</a></th>\n                          <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('label')\">Label</a></th>\n                          <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('amount')\">Amount</a></th>\n                          <th width=\"10%\" scope=\"col\">Ins Ref</th>\n                          <th width=\"15%\" scope=\"col\">Status</th>\n                          <th width=\"25%\" scope=\"col\" >Action</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr *ngFor='let trf of trfbalancereqs; let trfIndex = index'>\n                          <td data-label=\"Request Date\" scope=\"row\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showTrfbalancereq(trf._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Transfer Req\">{{ trf.requestdt | date: 'd MMM y'}}</a></td>  \n                          <td data-label=\"Label\">{{ trf.label }}</td>\n                          <td data-label=\"Amount\" class=\"text-right\">{{ trf.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                          <td data-label=\"Ins Ref\">{{ trf.insref}}</td>\n                          <td data-label=\"Status\">{{ trf.stsvalue}}</td>\n                          <td data-label=\"Action\">\n                              <a *ngIf=\"trf.status != 'STSRJCT' && authService.currentUser.usertype == 'ADM'\" style=\"cursor:pointer;color:darkgreen\" aria-label=\"Edit\" (click)=\"updateTrfbalancereq(trfIndex, trf._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Update Transfer\">Update</a>\n                          </td>\n                      </tr>\n                  </tbody>\n              </table>\n          </div> \n          <div style=\"text-align:center\" *ngIf=\"trfbalancereqs && totalrows > 10\">\n              <nav aria-label=\"Page navigation\">\n                  <ul class=\"pagination\">\n                      <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                          <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                      </li>\n                  </ul>\n              </nav>\n          </div> \n        </div>\n    </div>\n  </div>"

/***/ }),

/***/ "./src/app/components/trfbalancereq/admlisttransferbalancereq/admlisttransferbalancereq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdmlisttransferbalancereqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_trfbalancemgt_service__ = __webpack_require__("./src/app/services/admin/trfbalancemgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AdmlisttransferbalancereqComponent = /** @class */ (function () {
    function AdmlisttransferbalancereqComponent(fb, authService, route, router, toastr, datePipe, trfbalancemgtService, labelmgtService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.trfbalancemgtService = trfbalancemgtService;
        this.labelmgtService = labelmgtService;
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.fromamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.toamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    AdmlisttransferbalancereqComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            fromamt: this.fromamt,
            toamt: this.toamt,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qfromamt = params['fromamt'] || '';
            _this.qtoamt = params['toamt'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.labelid = _this.qlabelid;
                payload.fromamt = _this.qfromamt;
                payload.toamt = _this.qtoamt;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                //admlisttrfbalancereq
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    AdmlisttransferbalancereqComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    AdmlisttransferbalancereqComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    AdmlisttransferbalancereqComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AdmlisttransferbalancereqComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['admlisttrfbalancereq'], {
                            queryParams: {
                                labelid: this.reportForm.value.labelid,
                                fromamt: this.reportForm.value.fromamt,
                                toamt: this.reportForm.value.toamt,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['admlisttrfbalancereq'], {
                    queryParams: {
                        labelid: this.reportForm.value.labelid,
                        fromamt: this.reportForm.value.fromamt,
                        toamt: this.reportForm.value.toamt,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    AdmlisttransferbalancereqComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.trfbalancemgtService.getSumTrfbalancereqAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.trfbalancereqs = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid;
                _this.qfromamt = formval.fromamt;
                _this.qtoamt = formval.toamt;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    AdmlisttransferbalancereqComponent.prototype.setPage = function (page) {
        this.router.navigate(['admlisttrfbalancereq'], {
            queryParams: {
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    AdmlisttransferbalancereqComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    AdmlisttransferbalancereqComponent.prototype.sortTrfbalancereq = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['admlisttrfbalancereq'], {
            queryParams: {
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    AdmlisttransferbalancereqComponent.prototype.showTrfbalancereq = function (trfbalancereqid) {
        this.router.navigate(["viewtrfbalancereq/" + trfbalancereqid], {
            queryParams: {
                src: 'cmpl',
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    AdmlisttransferbalancereqComponent.prototype.updateTrfbalancereq = function (idx, trfbalancereqid) {
        this.router.navigate(["editposttrfbalancereq/" + trfbalancereqid], {
            queryParams: {
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    AdmlisttransferbalancereqComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-admlisttransferbalancereq',
            template: __webpack_require__("./src/app/components/trfbalancereq/admlisttransferbalancereq/admlisttransferbalancereq.component.html"),
            styles: [__webpack_require__("./src/app/components/trfbalancereq/admlisttransferbalancereq/admlisttransferbalancereq.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_trfbalancemgt_service__["a" /* TrfbalancemgtService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__["a" /* UsermgtService */]])
    ], AdmlisttransferbalancereqComponent);
    return AdmlisttransferbalancereqComponent;
}());



/***/ }),

/***/ "./src/app/components/trfbalancereq/editposttransferbalancereq/editposttransferbalancereq.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/trfbalancereq/editposttransferbalancereq/editposttransferbalancereq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>EDIT DETAILS TRANSFER BALANCE</h3>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n            <form [formGroup]=\"trfbalancereqForm\" (ngSubmit)=\"editTrfbalancereq(trfbalancereqForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n    \n              <div class=\"form-group\">\n                  <label for=\"account\" class=\"col-sm-1\"></label>\n                  <div class=\"col-xs-12 col-sm-11 input-group\">\n                    <h4>Request Detail</h4>            \n                    <ul class=\"list-group\">\n                        <li class=\"list-group-item borderless bordersideless\">Request Date <span class=\"badge\"><b><i>{{ trfbalancereq?.requestdt | date: 'd MMM y'}}</i></b></span></li>\n                        <li class=\"list-group-item borderless bordersideless\">Amount <span class=\"badge\"><b><i>{{ trfbalancereq?.amount | currency: 'IDR':'symbol-narrow' }}</i></b></span></li>\n                        <li class=\"list-group-item borderless bordersideless\">Ins Reference <span class=\"badge\"><b><i>{{ trfbalancereq?.insref }}</i></b></span></li>\n                        <li class=\"list-group-item borderless bordersideless\">Status <span class=\"badge\"><b><i>{{ trfbalancereq?.stsvalue }}</i></b></span></li>\n                    </ul>\n                  </div>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"account\" class=\"col-sm-1\"></label>\n                  <div class=\"col-xs-12 col-sm-11 input-group\">\n                    <h4>Will be Transfered To</h4>            \n                    <ul class=\"list-group\">\n                        <li class=\"list-group-item borderless bordersideless\">Account No <span class=\"badge\"><b><i>{{ trfbalancereq?.bankaccno }}</i></b></span></li>\n                        <li class=\"list-group-item borderless bordersideless\">Account Name <span class=\"badge\"><b><i>{{ trfbalancereq?.bankaccname }}</i></b></span></li>\n                        <li class=\"list-group-item borderless bordersideless\">Bank Name <span class=\"badge\"><b><i>{{ trfbalancereq?.bankname }}</i></b></span></li>\n                    </ul>\n                  </div>\n                </div>\n                <hr class=\"line-grey-center\">\n                <div class=\"form-group\" [ngClass]=\"{'has-error': trfbalancereqForm.get('bankref').invalid && trfbalancereqForm.get('bankref').dirty}\">\n                    <label for=\"bankref\" class=\"col-sm-3 control-label\">Bank Reference <sup>*</sup></label>\n                    <div class=\"input-group col-sm-9\">\n                        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                        <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"bankref\" id=\"bankref\" placeholder=\"Bank Reference\">\n                    </div>\n                    <div class=\"text-danger\" *ngIf=\"trfbalancereqForm.get('bankref').dirty && trfbalancereqForm.get('bankref').errors\">\n                        <span class=\"col-sm-3\"></span>\n                        <span class=\"col-sm-9\" style=\"padding:4px 0 0\" *ngIf=\"trfbalancereqForm.get('bankref').errors.required\">\n                            Please enter the bank reference\n                        </span>\n                    </div>\n                </div>\n                <div class=\"form-group\" [ngClass]=\"{'has-error': trfbalancereqForm.get('transferdt').invalid && trfbalancereqForm.get('transferdt').dirty}\">\n                    <label for=\"transferdt\" class=\"col-sm-3 control-label\">Transfer date <sup>*</sup></label>  \n                  <div class=\"input-group col-sm-9\">\n                        <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                        <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"transferdt\" placeholder=\"Transfer Date\">\n                    </div>\n                    <div class=\"text-danger\" *ngIf=\"trfbalancereqForm.get('transferdt').dirty && trfbalancereqForm.get('transferdt').invalid\">\n                        <span class=\"col-sm-3\"></span>\n                        <span class=\"col-sm-9\" style=\"padding:4px 0 0\">Please enter valid transfer date</span>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"remarks\" class=\"col-sm-3 control-label\">Remarks <sup>&nbsp;</sup></label>\n                    <div class=\"input-group col-xs-12 col-sm-9\">\n                        <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"remarks\" rows=\"10\" [formControl]=\"remarks\" placeholder=\"Remarks\"></textarea>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"editlog\" class=\"col-sm-3 control-label\">Edit Log <sup>&nbsp;</sup></label>\n                    <div class=\"input-group col-xs-12 col-sm-9\">\n                        <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"editlog\" rows=\"10\" [formControl]=\"editlog\" placeholder=\"Edit Log\"></textarea>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                  <label class=\"col-sm-3 control-label\"></label>\n                  <div class=\"col-sm-9\" style=\"padding:0;margin:0;\">\n                    <button type=\"submit\" [disabled]=\"trfbalancereqForm.invalid || this.loading == true\" class=\"btn btn-primary\">Update</button>\n                    <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Back</button>\n                  </div>\n                </div>\n            </form>\n        </div>\n        \n      </div>\n</div>"

/***/ }),

/***/ "./src/app/components/trfbalancereq/editposttransferbalancereq/editposttransferbalancereq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditposttransferbalancereqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_admin_trfbalancemgt_service__ = __webpack_require__("./src/app/services/admin/trfbalancemgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var EditposttransferbalancereqComponent = /** @class */ (function () {
    function EditposttransferbalancereqComponent(fb, authService, trfbalancemgtService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.trfbalancemgtService = trfbalancemgtService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.loading = false;
        this.bankref = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.transferdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.remarks = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.editlog = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true }, [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    EditposttransferbalancereqComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.trfbalancereqid = params['id'];
        });
        this.getSelectedTrfbalancereq(this.trfbalancereqid);
        this.userObj = this.authService.currentUser;
        this.trfbalancereqForm = this.fb.group({
            bankref: this.bankref,
            transferdt: this.transferdt,
            remarks: this.remarks,
            editlog: this.editlog,
        });
    };
    EditposttransferbalancereqComponent.prototype.getSelectedTrfbalancereq = function (id) {
        var _this = this;
        this.trfbalancemgtService.getTrfbalancereqAgg(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.trfbalancereq = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Empty transfer balance request result');
                    _this.router.navigate(['pendingtrfbalancereq']);
                }
            }
            else {
                _this.toastr.error('Transfer request id is incorrect in the URL');
                _this.router.navigate(['pendingtrfbalancereq']);
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['pendingtrfbalancereq']);
        });
    };
    EditposttransferbalancereqComponent.prototype.populateForm = function (data) {
        this.trfbalancereqForm.patchValue({
            bankref: data.bankref,
            transferdt: data.transferdt,
            remarks: data.remarks,
            editlog: data.extfield1
        });
    };
    EditposttransferbalancereqComponent.prototype.editTrfbalancereq = function (formdata) {
        var _this = this;
        if (this.trfbalancereqForm.valid) {
            var theForm = this.trfbalancereqForm.value;
            theForm.adminuser = this.userObj.username;
            theForm.adminuserid = this.userObj.userid;
            this.loading = true;
            this.trfbalancemgtService.editposttrfbalance(this.trfbalancereqid, theForm)
                .subscribe(function (data) {
                _this.loading = false;
                if (data.success === false) {
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.toastr.success(data.message);
                }
                if (!_this.trfbalancereqid) {
                    _this.trfbalancereqForm.reset();
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    EditposttransferbalancereqComponent.prototype.onBack = function () {
        this.router.navigate(['/admlisttrfbalancereq'], { preserveQueryParams: true });
    };
    EditposttransferbalancereqComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-editposttransferbalancereq',
            template: __webpack_require__("./src/app/components/trfbalancereq/editposttransferbalancereq/editposttransferbalancereq.component.html"),
            styles: [__webpack_require__("./src/app/components/trfbalancereq/editposttransferbalancereq/editposttransferbalancereq.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_admin_trfbalancemgt_service__["a" /* TrfbalancemgtService */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], EditposttransferbalancereqComponent);
    return EditposttransferbalancereqComponent;
}());



/***/ }),

/***/ "./src/app/components/trfbalancereq/listtrfbalancereq/listtrfbalancereq.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/trfbalancereq/listtrfbalancereq/listtrfbalancereq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>TRANSFER REQUEST LIST</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"insref\" class=\"col-sm-2 paddingsearch\">Ins Ref</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"insref\" [formControl]=\"insref\" placeholder=\"Ins Reference\">\n                    </div>\n                </div>         \n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"status\" class=\"col-sm-2 paddingsearch\">Status</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                        <select class=\"form-control\" [formControl]=\"status\">\n                            <option ng-selected=\"true\" value=\"\">Select the status</option>\n                            <option *ngFor=\"let a of sts\" [ngValue]=\"a.code\">{{a.value}}</option>\n                        </select>\n                    </div>\n                </div>            \n              </div>\n\n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"submit\" class=\"col-sm-2 paddingsearch\"></label>\n                      <div class=\"col-sm-10\">\n                        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n                      </div>\n                  </div>                  \n              </div>\n            </form>\n        </div>    \n    </div>\n\n    <div class=\"panel panel-danger\" *ngIf=\"trfbalancereqs && totalrows < 1\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">No transfer request found</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n            There is no Transfer balance request found.\n        </div>\n    </div>\n\n    <div class=\"panel panel-default\" *ngIf=\"trfbalancereqs && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\"><i>{{reportTitle}}</i> <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('requestdt')\">Request Date</a></th>\n                            <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('amount')\">Amount</a></th>\n                            <th width=\"20%\" scope=\"col\">Ins Reference</th>\n                            <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('status')\">Status</a></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor='let trf of trfbalancereqs; let trfIndex = index'>\n                            <td scope=\"row\" data-label=\"Request Date\"><a style=\"cursor:pointer\" (click)=\"showTrfbalancereq(trf._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ trf.requestdt | date: 'd MMM y'}}</a></td>\n                            <td data-label=\"Amount\">{{ trf.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                            <td data-label=\"Ins Reference\">{{ trf.insref }}</td>\n                            <td data-label=\"Status\">{{ trf.stsvalue}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div> \n            <div style=\"text-align:center\" *ngIf=\"trfbalancereqs && totalrows > 10\">\n                <nav aria-label=\"Page navigation\">\n                    <ul class=\"pagination\">\n                        <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                            <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div> \n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/components/trfbalancereq/listtrfbalancereq/listtrfbalancereq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListtrfbalancereqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_trfbalance_service__ = __webpack_require__("./src/app/services/trfbalance.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ListtrfbalancereqComponent = /** @class */ (function () {
    function ListtrfbalancereqComponent(fb, authService, toastr, route, router, trfbalanceService, msconfigService) {
        this.fb = fb;
        this.authService = authService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.trfbalanceService = trfbalanceService;
        this.msconfigService = msconfigService;
        this.loading = false;
        this.insref = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.status = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    ListtrfbalancereqComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            insref: this.insref,
            status: this.status
        });
        this.getMsconfigGroupList('TRFBLSTATUS');
        this.route.queryParams.forEach(function (params) {
            _this.qinsref = params['insref'] || '';
            _this.qstatus = params['status'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.status = _this.qstatus;
            payload.insref = _this.qinsref;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
            _this.reportForm.patchValue({
                insref: _this.qinsref,
                status: _this.qstatus
            });
        });
    };
    ListtrfbalancereqComponent.prototype.getMsconfigGroupList = function (groupid) {
        var _this = this;
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (groupid == 'TRFBLSTATUS') {
                        _this.sts = data.data;
                    }
                }
                else {
                    _this.sts = [{ code: '', value: 'Empty list...' }];
                }
            }
            else {
                _this.sts = [{ code: '', value: 'Error ms config list' }];
            }
        }, function (err) {
            _this.loading = false;
            _this.sts = [{ code: '', value: 'Error ms config list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListtrfbalancereqComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.userObj.userid, this.reportForm.value);
            this.router.navigate(['listtrfbalancereq'], {
                queryParams: {
                    insref: this.reportForm.value.insref,
                    status: this.reportForm.value.status,
                    page: 1,
                    sortby: null
                }
            });
        }
    };
    ListtrfbalancereqComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.trfbalanceService.getTrfbalancereqAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.trfbalancereqs = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qinsref = formval.insref;
                _this.qstatus = formval.status;
                _this.reportTitle = 'Transfer Request Result';
                _this.reportForm.patchValue({
                    insref: _this.qinsref,
                    status: _this.qstatus
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ListtrfbalancereqComponent.prototype.setPage = function (page) {
        this.router.navigate(['listtrfbalancereq'], {
            queryParams: {
                insref: this.qinsref,
                status: this.qstatus,
                page: page,
                sortby: this.qsort
            }
        });
    };
    ListtrfbalancereqComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    ListtrfbalancereqComponent.prototype.sortTrfbalancereq = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['listtrfbalancereq'], {
            queryParams: {
                insref: this.qinsref,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListtrfbalancereqComponent.prototype.showTrfbalancereq = function (trfbalancereqid) {
        this.router.navigate(["viewtrfbalancereq/" + trfbalancereqid], {
            queryParams: {
                src: 'list',
                insref: this.qinsref,
                status: this.qstatus,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    ListtrfbalancereqComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-listtrfbalancereq',
            template: __webpack_require__("./src/app/components/trfbalancereq/listtrfbalancereq/listtrfbalancereq.component.html"),
            styles: [__webpack_require__("./src/app/components/trfbalancereq/listtrfbalancereq/listtrfbalancereq.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__services_trfbalance_service__["a" /* TrfbalanceService */],
            __WEBPACK_IMPORTED_MODULE_5__services_admin_msconfig_service__["a" /* MsconfigService */]])
    ], ListtrfbalancereqComponent);
    return ListtrfbalancereqComponent;
}());



/***/ }),

/***/ "./src/app/components/trfbalancereq/pendingtrfbalancereq/pendingtrfbalancereq.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/trfbalancereq/pendingtrfbalancereq/pendingtrfbalancereq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Pending Transfer Balance</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">Search Parameter</h3>\n      </div>\n      <div class=\"panel-body\">\n          <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n\n              <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"fromamt\" class=\"col-sm-2 paddingsearch\">From Amount</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"fromamt\" [formControl]=\"fromamt\" placeholder=\"From Amount\">\n                    </div>\n                </div>         \n                <div class=\"col-sm-6 col-md-6\">\n                  <label for=\"toamt\" class=\"col-sm-2 paddingsearch\">To Amount</label>\n                  <div class=\"col-sm-10\">\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                      <input type=\"text\" class=\"form-control\" id=\"toamt\" [formControl]=\"toamt\" placeholder=\"To Amount\">\n                  </div>\n                </div>            \n            </div>\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-6 col-md-6\">\n                  <label class=\"col-sm-6 paddingsearch\">Request Date</label>\n                </div>  \n            </div>\n            <div class=\"row rowmarginsearch\">\n                <div class=\"col-sm-3 col-md-3\">\n                    <div class=\"radio\">\n                        <label>\n                            <input type=\"radio\" name=\"rptype\" value=\"opt3\" [formControl]=\"rptype\" checked>\n                            Today\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-sm-3 col-md-3\">\n                    <div class=\"radio\">\n                        <label>\n                            <input type=\"radio\" name=\"rptype\" value=\"opt1\" [formControl]=\"rptype\">\n                            Current month\n                        </label>\n                    </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                    <div class=\"radio\">\n                        <label>\n                            <input type=\"radio\" name=\"rptype\" value=\"opt2\" [formControl]=\"rptype\">\n                            Date Range (yyyy-mm-dd)\n                        </label>\n                    </div>\n                    <div class=\"row\" style=\"padding: 8px\">\n                        <div class=\"col-sm-6 col-md-6\">\n                            <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('startdt').invalid && reportForm.get('startdt').dirty}\">\n                                <div class=\"input-group\">\n                                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                    <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"startdt\" placeholder=\"Start Date\">\n                                </div>\n                                <div class=\"text-danger\" *ngIf=\"reportForm.get('startdt').dirty && reportForm.get('startdt').invalid\">\n                                    <span class=\"col-sm-2\"></span>\n                                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid start date</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 col-md-6\">\n                            <div class=\"form-group\" style=\"margin-right:0\" [ngClass]=\"{'has-error': reportForm.get('enddt').invalid && reportForm.get('enddt').dirty}\">\n                                <div class=\"input-group\">\n                                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                                    <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"enddt\" placeholder=\"End Date\">\n                                </div>\n                                <div class=\"text-danger\" *ngIf=\"reportForm.get('enddt').dirty && reportForm.get('enddt').invalid\">\n                                    <span class=\"col-sm-2\"></span>\n                                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid end date</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div> \n\n            </div>\n            <div class=\"row rowmarginsearch\">\n              <div class=\"col-sm-6 col-md-6\">\n                <label for=\"labelid\" class=\"col-sm-2 paddingsearch\">Label</label>\n                <div class=\"col-sm-10\">\n                    <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-list-alt\"></i></div> -->\n                    <select class=\"form-control\" [formControl]=\"labelid\">\n                        <!-- <option ng-selected=\"true\" value=\"\">Select the artist</option> -->\n                        <option value=\"\">Select the label</option>\n                        <option *ngFor=\"let label of userlist\" [ngValue]=\"label._id\">{{label.name}}</option>\n                    </select>\n                  </div>\n              </div>\n              <div class=\"col-sm-6 col-md-6\">\n                  <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"this.loading == false && reportForm.invalid\">Submit</button>\n              </div>                  \n            </div>\n          </form>\n      </div>    \n  </div>  \n  <div class=\"panel panel-danger\" *ngIf=\"trfbalancereqs && totalrows < 1\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">No transfer balance req found</h3> \n      </div>\n\n      <div class=\"panel-body\">\n          There is NO pending transfer balance request found for the selected criteria.\n      </div>\n  </div>\n  <div class=\"panel panel-default\" *ngIf=\"trfbalancereqs && totalrows > 0 && this.loading == false\">\n    <div class=\"panel-heading\">\n        <span class=\"panel-title\"><i>{{reportTitle}}</i> <b> {{ totalrows }} records found</b> </span> \n    </div>\n    <div class=\"panel-body\">\n      <div class=\"table-responsive\">\n          <table class=\"table table-hover\">\n              <thead>\n                  <tr>\n                      <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('requestdt')\">Request Date</a></th>\n                      <th width=\"20%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('label')\">Label</a></th>\n                      <th width=\"15%\" scope=\"col\"><a style=\"cursor:pointer\" (click)=\"sortTrfbalancereq('amount')\">Amount</a></th>\n                      <th width=\"10%\" scope=\"col\">Ins Ref</th>\n                      <th width=\"15%\" scope=\"col\">Status</th>\n                      <th width=\"25%\" scope=\"col\" >Action</th>\n                  </tr>\n              </thead>\n              <tbody>\n                  <tr *ngFor='let trf of trfbalancereqs; let trfIndex = index'>\n                      <td data-label=\"Request Date\" scope=\"row\"><a style=\"font-size:12px;cursor:pointer\" (click)=\"showTrfbalancereq(trf._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Transfer Req\">{{ trf.requestdt | date: 'd MMM y'}}</a></td>  \n                      <td data-label=\"Label\">{{ trf.label }}</td>\n                      <td data-label=\"Amount\" class=\"text-right\">{{ trf.amount | currency: 'IDR':'symbol-narrow' }}</td>\n                      <td data-label=\"Ins Ref\">{{ trf.insref}}</td>\n                      <td data-label=\"Status\">{{ trf.stsvalue}}</td>\n                      <td data-label=\"Action\">\n                          <!-- <a style=\"cursor:pointer;color:darkgreen\" aria-label=\"Approve\" (click)=\"approvePayment(songpending._id, songpending.song,songpending.songid,songpending.objlistenerid, songpending.songprice)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Approve Payment\"><i class=\"fa fa-check fa-2x\"></i></a> -->\n                          <a style=\"cursor:pointer;color:darkgreen\" aria-label=\"Edit\" (click)=\"updateTrfbalancereq(trfIndex, trf._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Update Transfer\">Update</a>\n                          &nbsp;&nbsp;&nbsp;\n                          <!-- <a style=\"cursor:pointer;color:red\" aria-label=\"Reject\" (click)=\"rejectPayment(songpending._id, songpending.song)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Reject Payment\"><i class=\"fa fa-times fa-2x\"></i></a> -->\n                          <a style=\"cursor:pointer;color:red\" aria-label=\"Reject\" (click)=\"rejectTrfbalancereq(trfIndex, trf._id, trf.label)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Reject Transfer\">Reject</a>\n                      </td>\n                  </tr>\n              </tbody>\n          </table>\n      </div> \n      <div style=\"text-align:center\" *ngIf=\"trfbalancereqs && totalrows > 10\">\n          <nav aria-label=\"Page navigation\">\n              <ul class=\"pagination\">\n                  <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                      <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                  </li>\n              </ul>\n          </nav>\n      </div> \n    </div>\n  </div>\n\n</div>"

/***/ }),

/***/ "./src/app/components/trfbalancereq/pendingtrfbalancereq/pendingtrfbalancereq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PendingtrfbalancereqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_trfbalancemgt_service__ = __webpack_require__("./src/app/services/admin/trfbalancemgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var PendingtrfbalancereqComponent = /** @class */ (function () {
    function PendingtrfbalancereqComponent(fb, authService, route, router, toastr, datePipe, trfbalancemgtService, labelmgtService) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.trfbalancemgtService = trfbalancemgtService;
        this.labelmgtService = labelmgtService;
        this.loading = false;
        this.labelid = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.fromamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.toamt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('[0-9]+(\.[0-9][0-9]?)?')]);
        this.rptype = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('opt3');
        this.startdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.enddt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]({ value: '', disabled: true });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    PendingtrfbalancereqComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            labelid: this.labelid,
            fromamt: this.fromamt,
            toamt: this.toamt,
            rptype: this.rptype,
            startdt: this.startdt,
            enddt: this.enddt
        });
        this.getLabels();
        this.route.queryParams.forEach(function (params) {
            _this.qlabelid = params['labelid'] || '';
            _this.qfromamt = params['fromamt'] || '';
            _this.qtoamt = params['toamt'] || '';
            _this.qrptype = params['rptype'] || '';
            _this.qstartdt = params['startdt'] || '';
            _this.qenddt = params['enddt'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            if (_this.qrptype !== '') {
                var payload = {};
                payload.labelid = _this.qlabelid;
                payload.fromamt = _this.qfromamt;
                payload.toamt = _this.qtoamt;
                payload.rptype = _this.qrptype;
                if ((_this.qstartdt !== '' && _this.qenddt !== '')) {
                    payload.startdt = _this.qstartdt;
                    payload.enddt = _this.qenddt;
                    _this.reportForm.get('startdt').enable();
                    _this.reportForm.get('enddt').enable();
                }
                payload.page = _this.qpage;
                payload.sortby = _this.qsort;
                _this.fetchReport(_this.userObj.userid, payload);
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt
                });
            }
            else {
                _this.fetchReport(_this.userObj.userid, _this.reportForm.value);
            }
        });
        this.reportForm.get('rptype').valueChanges
            .subscribe(function (value) { return _this.toggleDates(value); });
    };
    PendingtrfbalancereqComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    PendingtrfbalancereqComponent.prototype.toggleDates = function (opt) {
        var dt1Control = this.reportForm.get('startdt');
        var dt2Control = this.reportForm.get('enddt');
        if (opt === 'opt2') {
            dt1Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt2Control.setValidators(__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required);
            dt1Control.enable();
            dt2Control.enable();
        }
        else {
            dt1Control.clearValidators();
            dt2Control.clearValidators();
            dt1Control.disable();
            dt2Control.disable();
            dt1Control.setValue('');
            dt2Control.setValue('');
        }
        dt1Control.updateValueAndValidity();
        dt2Control.updateValueAndValidity();
    };
    PendingtrfbalancereqComponent.prototype.getLabels = function () {
        var _this = this;
        this.labelmgtService.getLabelList().subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.userlist = data.data;
                    //console.log(this.artistlist);
                }
                else {
                    _this.userlist = [{ _id: '', name: 'Empty list...' }];
                }
            }
        }, function (err) {
            _this.loading = false;
            _this.userlist = [{ _id: '', name: 'Error label list' }];
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    PendingtrfbalancereqComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.reportForm.value);
            if (this.reportForm.value.rptype === 'opt2') {
                var pstartdt, penddt;
                try {
                    pstartdt = this.datePipe.transform(this.reportForm.value.startdt, 'yyyy-MM-dd');
                }
                catch (error) {
                    pstartdt = this.qstartdt;
                }
                try {
                    penddt = this.datePipe.transform(this.reportForm.value.enddt, 'yyyy-MM-dd');
                }
                catch (error) {
                    penddt = this.qenddt;
                }
                if (!pstartdt || !penddt) {
                    this.toastr.error('Date format is invalid.');
                }
                else {
                    if (pstartdt > penddt) {
                        this.toastr.error('Start date cannot be greater than end date.');
                    }
                    else {
                        this.router.navigate(['pendingtrfbalancereq'], {
                            queryParams: {
                                labelid: this.reportForm.value.labelid,
                                fromamt: this.reportForm.value.fromamt,
                                toamt: this.reportForm.value.toamt,
                                rptype: this.reportForm.value.rptype,
                                startdt: pstartdt,
                                enddt: penddt,
                                page: 1,
                                sortby: null
                            }
                        });
                    }
                }
            }
            else {
                this.router.navigate(['pendingtrfbalancereq'], {
                    queryParams: {
                        labelid: this.reportForm.value.labelid,
                        fromamt: this.reportForm.value.fromamt,
                        toamt: this.reportForm.value.toamt,
                        rptype: this.reportForm.value.rptype,
                        startdt: null,
                        enddt: null,
                        page: 1,
                        sortby: null
                    }
                });
            }
        }
    };
    PendingtrfbalancereqComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.trfbalancemgtService.getTrfbalancereqAggs(userid, formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.trfbalancereqs = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelid = formval.labelid,
                    _this.qfromamt = formval.fromamt;
                _this.qtoamt = formval.toamt;
                _this.qrptype = formval.rptype;
                if (formval.startdt) {
                    _this.qstartdt = formval.startdt;
                    _this.qenddt = formval.enddt;
                }
                /* if (formval.rptype === 'opt1') {
                  this.reportTitle = 'Song purchase for ' + this.datePipe.transform(new Date(), 'MMM y');
                } else if (formval.rptype === 'opt2') {
                    this.reportTitle = 'Song purchase between ' + this.datePipe.transform(new Date(formval.startdt), 'd MMM y') + ' and ' + this.datePipe.transform(new Date(formval.enddt), 'd MMM y');
                    //this.reportTitle = 'Song purchase between ' + formval.startdt + ' and ' + formval.enddt;
                } else if (formval.rptype === 'opt3') {
                  this.reportTitle = 'Song purchase for today'
                } */
                _this.reportTitle = 'Search Result - ';
                _this.reportForm.patchValue({
                    labelid: _this.qlabelid,
                    fromamt: _this.qfromamt,
                    toamt: _this.qtoamt,
                    rptype: _this.qrptype,
                    startdt: _this.qstartdt,
                    enddt: _this.qenddt,
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    PendingtrfbalancereqComponent.prototype.setPage = function (page) {
        this.router.navigate(['pendingtrfbalancereq'], {
            queryParams: {
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: page,
                sortby: this.qsort
            }
        });
    };
    PendingtrfbalancereqComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    PendingtrfbalancereqComponent.prototype.sortTrfbalancereq = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['pendingtrfbalancereq'], {
            queryParams: {
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    PendingtrfbalancereqComponent.prototype.showTrfbalancereq = function (trfbalancereqid) {
        this.router.navigate(["viewtrfbalancereq/" + trfbalancereqid], {
            queryParams: {
                src: 'pend',
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    PendingtrfbalancereqComponent.prototype.rejectTrfbalancereq = function (idx, trfbalancereqid, label) {
        var _this = this;
        if (confirm('Do you really want to reject this transfer from: ' + label + ' record?')) {
            this.loading = true;
            var payloadData = {};
            payloadData.status = 'STSRJCT';
            this.trfbalancemgtService.updateStatustrfbalance(trfbalancereqid, payloadData)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.trfbalancereqs.splice(idx, 1);
                    _this.totalrows = _this.totalrows - 1;
                    _this.toastr.success(data.message);
                }
            }, function (err) {
                _this.loading = false;
                _this.toastr.error(err);
            });
        }
    };
    PendingtrfbalancereqComponent.prototype.updateTrfbalancereq = function (idx, trfbalancereqid) {
        this.router.navigate(["updatetrfbalancereq/" + trfbalancereqid], {
            queryParams: {
                labelid: this.qlabelid,
                fromamt: this.qfromamt,
                toamt: this.qtoamt,
                rptype: this.qrptype,
                startdt: this.qstartdt,
                enddt: this.qenddt,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    PendingtrfbalancereqComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-pendingtrfbalancereq',
            template: __webpack_require__("./src/app/components/trfbalancereq/pendingtrfbalancereq/pendingtrfbalancereq.component.html"),
            styles: [__webpack_require__("./src/app/components/trfbalancereq/pendingtrfbalancereq/pendingtrfbalancereq.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_trfbalancemgt_service__["a" /* TrfbalancemgtService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_usermgt_service__["a" /* UsermgtService */]])
    ], PendingtrfbalancereqComponent);
    return PendingtrfbalancereqComponent;
}());



/***/ }),

/***/ "./src/app/components/trfbalancereq/updatetrfbalancereq/updatetrfbalancereq.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/trfbalancereq/updatetrfbalancereq/updatetrfbalancereq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Complete Transfer Balance</h3>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n        <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n        <form [formGroup]=\"trfbalancereqForm\" (ngSubmit)=\"completeTrfbalancereq(trfbalancereqForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n\n          <div class=\"form-group\">\n              <label for=\"account\" class=\"col-sm-1\"></label>\n              <div class=\"col-xs-12 col-sm-11 input-group\">\n                <h4>Request Detail</h4>            \n                <ul class=\"list-group\">\n                    <li class=\"list-group-item borderless bordersideless\">Request Date <span class=\"badge\"><b><i>{{ trfbalancereq?.requestdt | date: 'd MMM y'}}</i></b></span></li>\n                    <li class=\"list-group-item borderless bordersideless\">Amount <span class=\"badge\"><b><i>{{ trfbalancereq?.amount | currency: 'IDR':'symbol-narrow' }}</i></b></span></li>\n                    <li class=\"list-group-item borderless bordersideless\">Ins Reference <span class=\"badge\"><b><i>{{ trfbalancereq?.insref }}</i></b></span></li>\n                    <li class=\"list-group-item borderless bordersideless\">Status <span class=\"badge\"><b><i>{{ trfbalancereq?.stsvalue }}</i></b></span></li>\n                </ul>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"account\" class=\"col-sm-1\"></label>\n              <div class=\"col-xs-12 col-sm-11 input-group\">\n                <h4>Will be Transfered To</h4>            \n                <ul class=\"list-group\">\n                    <li class=\"list-group-item borderless bordersideless\">Account No <span class=\"badge\"><b><i>{{ trfbalancereq?.bankaccno }}</i></b></span></li>\n                    <li class=\"list-group-item borderless bordersideless\">Account Name <span class=\"badge\"><b><i>{{ trfbalancereq?.bankaccname }}</i></b></span></li>\n                    <li class=\"list-group-item borderless bordersideless\">Bank Name <span class=\"badge\"><b><i>{{ trfbalancereq?.bankname }}</i></b></span></li>\n                </ul>\n              </div>\n            </div>\n            <hr class=\"line-grey-center\">\n            <div class=\"form-group\" [ngClass]=\"{'has-error': trfbalancereqForm.get('bankref').invalid && trfbalancereqForm.get('bankref').dirty}\">\n                <label for=\"bankref\" class=\"col-sm-2 control-label\">Bank Reference <sup>*</sup></label>\n                <div class=\"input-group col-sm-10\">\n                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                    <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"bankref\" id=\"bankref\" placeholder=\"Bank Reference\">\n                </div>\n                <div class=\"text-danger\" *ngIf=\"trfbalancereqForm.get('bankref').dirty && trfbalancereqForm.get('bankref').errors\">\n                    <span class=\"col-sm-2\"></span>\n                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"trfbalancereqForm.get('bankref').errors.required\">\n                        Please enter the bank reference\n                    </span>\n                </div>\n            </div>\n            <div class=\"form-group\" [ngClass]=\"{'has-error': trfbalancereqForm.get('transferdt').invalid && trfbalancereqForm.get('transferdt').dirty}\">\n                <label for=\"transferdt\" class=\"col-sm-2 control-label\">Transfer date <sup>*</sup></label>  \n              <div class=\"input-group col-sm-10\">\n                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></div>\n                    <input type=\"text\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showWeekNumbers: false }\" class=\"form-control\" [formControl]=\"transferdt\" placeholder=\"Transfer Date\">\n                </div>\n                <div class=\"text-danger\" *ngIf=\"trfbalancereqForm.get('transferdt').dirty && trfbalancereqForm.get('transferdt').invalid\">\n                    <span class=\"col-sm-2\"></span>\n                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter valid transfer date</span>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"remarks\" class=\"col-sm-2 control-label\">Remarks <sup>&nbsp;</sup></label>\n                <div class=\"input-group col-xs-12 col-sm-10\">\n                    <textarea [disabled]=\"this.loading == true\" class=\"form-control\" id=\"remarks\" rows=\"10\" [formControl]=\"remarks\" placeholder=\"Remarks\"></textarea>\n                </div>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"col-sm-2 control-label\"></label>\n              <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"submit\" [disabled]=\"trfbalancereqForm.invalid || this.loading == true\" class=\"btn btn-primary\">Update</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Back</button>\n              </div>\n            </div>\n        </form>\n    </div>\n    \n  </div>\n</div>"

/***/ }),

/***/ "./src/app/components/trfbalancereq/updatetrfbalancereq/updatetrfbalancereq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UpdatetrfbalancereqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_admin_trfbalancemgt_service__ = __webpack_require__("./src/app/services/admin/trfbalancemgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UpdatetrfbalancereqComponent = /** @class */ (function () {
    function UpdatetrfbalancereqComponent(fb, authService, trfbalancemgtService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.trfbalancemgtService = trfbalancemgtService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
        this.loading = false;
        this.bankref = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.transferdt = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.remarks = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
    }
    UpdatetrfbalancereqComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            _this.trfbalancereqid = params['id'];
        });
        this.getSelectedTrfbalancereq(this.trfbalancereqid);
        this.userObj = this.authService.currentUser;
        this.trfbalancereqForm = this.fb.group({
            bankref: this.bankref,
            transferdt: this.transferdt,
            remarks: this.remarks,
        });
    };
    UpdatetrfbalancereqComponent.prototype.getSelectedTrfbalancereq = function (id) {
        var _this = this;
        this.trfbalancemgtService.getTrfbalancereqAgg(id).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    _this.trfbalancereq = data.data[0];
                    _this.populateForm(data.data[0]);
                }
                else {
                    _this.toastr.error('Empty transfer balance request result');
                    _this.router.navigate(['pendingtrfbalancereq']);
                }
            }
            else {
                _this.toastr.error('Transfer request id is incorrect in the URL');
                _this.router.navigate(['pendingtrfbalancereq']);
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
            _this.router.navigate(['pendingtrfbalancereq']);
        });
    };
    UpdatetrfbalancereqComponent.prototype.populateForm = function (data) {
        this.trfbalancereqForm.patchValue({
            bankref: data.bankref,
            transferdt: data.transferdt,
            remarks: data.remarks
        });
    };
    UpdatetrfbalancereqComponent.prototype.completeTrfbalancereq = function (formdata) {
        var _this = this;
        if (this.trfbalancereqForm.valid) {
            var theForm = this.trfbalancereqForm.value;
            theForm.status = 'STSCMPL';
            theForm.adminuser = this.userObj.username;
            theForm.adminuserid = this.userObj.userid;
            this.loading = true;
            this.trfbalancemgtService.completetrfbalance(this.trfbalancereqid, theForm)
                .subscribe(function (data) {
                _this.loading = false;
                if (data.success === false) {
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.toastr.success(data.message);
                }
                if (!_this.trfbalancereqid) {
                    _this.trfbalancereqForm.reset();
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    UpdatetrfbalancereqComponent.prototype.onBack = function () {
        this.router.navigate(['/pendingtrfbalancereq'], { preserveQueryParams: true });
    };
    UpdatetrfbalancereqComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-updatetrfbalancereq',
            template: __webpack_require__("./src/app/components/trfbalancereq/updatetrfbalancereq/updatetrfbalancereq.component.html"),
            styles: [__webpack_require__("./src/app/components/trfbalancereq/updatetrfbalancereq/updatetrfbalancereq.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_admin_trfbalancemgt_service__["a" /* TrfbalancemgtService */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], UpdatetrfbalancereqComponent);
    return UpdatetrfbalancereqComponent;
}());



/***/ }),

/***/ "./src/app/components/trfbalancereq/viewtrfbalancereq/viewtrfbalancereq.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/trfbalancereq/viewtrfbalancereq/viewtrfbalancereq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>VIEW TRANSFER REQUEST</h3>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-10\">\n            <form class=\"form-horizontal\">\n                <div class=\"form-group\">\n                    <label for=\"reqdate\" class=\"col-sm-4 control-label\">Request Date</label>\n                    <div class=\"form-ele col-sm-8\"> {{ trfbalancereq?.requestdt | date: 'd MMM y'}}</div>\n                </div> \n                <div class=\"form-group\">\n                    <label for=\"amount\" class=\"col-sm-4 control-label\">Amount</label>\n                    <div class=\"form-ele col-sm-8\">{{ trfbalancereq?.amount | currency: 'IDR':'symbol-narrow' }}\n                        <!-- <div class=\"input-group-addon\">Rp</div> -->\n                        <!-- <div class=\"form-ele\">{{ song?.songprice | currency: 'IDR':true }}</div> -->\n                    </div>\n                </div>\n              <div class=\"form-group\">\n                    <label for=\"insref\" class=\"col-sm-4 control-label\">Ins Reference</label>\n                    <div class=\"col-sm-8 form-ele\">{{ trfbalancereq?.insref }}\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"status\" class=\"col-sm-4 control-label\">Status</label>\n                    <div class=\"col-sm-8 form-ele\">{{ trfbalancereq?.stsvalue }}</div>\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"account\" class=\"col-sm-2\"></label>\n                  <div class=\"col-xs-12 col-sm-10 input-group\">\n                    <h4>Will be Transfered To</h4>            \n                    <ul class=\"list-group\">\n                        <li class=\"list-group-item borderless bordersideless\">Account No <span class=\"badge\"><b><i>{{ trfbalancereq?.bankaccno }}</i></b></span></li>\n                        <li class=\"list-group-item borderless bordersideless\">Account Name <span class=\"badge\"><b><i>{{ trfbalancereq?.bankaccname }}</i></b></span></li>\n                        <li class=\"list-group-item borderless bordersideless\">Bank Name <span class=\"badge\"><b><i>{{ trfbalancereq?.bankname }}</i></b></span></li>\n                    </ul>\n                  </div>\n                </div>\n                <hr class=\"line-grey-center\">\n                <div class=\"form-group\">\n                    <label for=\"bankref\" class=\"col-sm-4 control-label\">Bank Reference</label>\n                    <div class=\"col-sm-8 form-ele\">{{ trfbalancereq?.bankref }}\n                      <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                        <div class=\"form-ele\">{{ artist?.artistname }}</div> -->\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"trfdate\" class=\"col-sm-4 control-label\">Transfer Date</label>\n                    <div class=\"form-ele col-sm-8\"> {{ trfbalancereq?.transferdt | date: 'd MMM y'}}</div>\n                </div> \n                \n                <div class=\"form-group\">\n                    <label for=\"remarks\" class=\"col-sm-4 control-label\">Remarks</label>\n                    <div class=\"form-ele col-sm-8\">{{ trfbalancereq?.remarks }}</div>\n                </div>\n                \n            </form>\n        </div>\n        <div class=\"col-sm-2 thumbpadding\">\n            <label *ngIf=\"trfslip\" for=\"slip\" class=\"control-label\">Transfer Slip</label>        \n            <img *ngIf=\"trfslip\" src=\"{{ trfbalancereq?.transferslippath }}\" class=\"img-thumbnail thumbviewsize\">\n        </div>\n    </div>\n    <div class=\"form-group\">\n         <label class=\"col-sm-1\"></label>\n        <div class=\"col-sm-11\">\n            <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n        </div>\n    </div>\n    <hr>    \n</div>"

/***/ }),

/***/ "./src/app/components/trfbalancereq/viewtrfbalancereq/viewtrfbalancereq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewtrfbalancereqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_trfbalance_service__ = __webpack_require__("./src/app/services/trfbalance.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ViewtrfbalancereqComponent = /** @class */ (function () {
    function ViewtrfbalancereqComponent(fb, authService, trfbalanceService, toastr, route, router) {
        this.fb = fb;
        this.authService = authService;
        this.trfbalanceService = trfbalanceService;
        this.toastr = toastr;
        this.route = route;
        this.router = router;
    }
    ViewtrfbalancereqComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.sub = this.route.params.subscribe(function (params) {
            var trfreqid = params['id'];
            _this.trfreqid = trfreqid;
            _this.getTrfrequest(trfreqid);
        });
        this.route.queryParams.forEach(function (params) {
            _this.qsrcpg = params['src'] || '';
        });
    };
    ViewtrfbalancereqComponent.prototype.getTrfrequest = function (id) {
        var _this = this;
        this.trfbalanceService.getTrfbalancereqAgg(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                if (data.data[0]) {
                    _this.trfbalancereq = data.data[0];
                    if (_this.trfbalancereq.transferslippath) {
                        _this.trfslip = true;
                    }
                    else {
                        _this.trfslip = false;
                    }
                }
                else {
                    _this.toastr.error('TRF REQUEST id is incorrect in the URL');
                }
            }
        }, function (err) {
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewtrfbalancereqComponent.prototype.onBack = function () {
        if (this.qsrcpg === 'list') {
            this.router.navigate(['/listtrfbalancereq'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'pend') {
            this.router.navigate(['/pendingtrfbalancereq'], { preserveQueryParams: true });
        }
        else if (this.qsrcpg === 'cmpl') {
            this.router.navigate(['/admlisttrfbalancereq'], { preserveQueryParams: true });
        }
    };
    ViewtrfbalancereqComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewtrfbalancereq',
            template: __webpack_require__("./src/app/components/trfbalancereq/viewtrfbalancereq/viewtrfbalancereq.component.html"),
            styles: [__webpack_require__("./src/app/components/trfbalancereq/viewtrfbalancereq/viewtrfbalancereq.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3__services_trfbalance_service__["a" /* TrfbalanceService */],
            __WEBPACK_IMPORTED_MODULE_5__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */]])
    ], ViewtrfbalancereqComponent);
    return ViewtrfbalancereqComponent;
}());



/***/ }),

/***/ "./src/app/components/user/emailverification/emailverification.component.css":
/***/ (function(module, exports) {

module.exports = "\n/* Base ------------------------------ */\n\n*:not(br):not(tr):not(html) {\n  font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\nbody {\n  width: 100% !important;\n  height: 100%;\n  margin: 0;\n  line-height: 1.4;\n  background-color: #F2F4F6;\n  color: #74787E;\n  -webkit-text-size-adjust: none;\n}\n\np,\nul,\nol,\nblockquote {\n  line-height: 1.4;\n  text-align: left;\n}\n\na {\n  color: #3869D4;\n}\n\na img {\n  border: none;\n}\n\ntd {\n  word-break: break-word;\n}\n\n/* Layout ------------------------------ */\n\n.email-wrapper {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  -premailer-width: 100%;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n  background-color: #F2F4F6;\n}\n\n.email-content {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  -premailer-width: 100%;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n}\n\n/* Masthead ----------------------- */\n\n.email-masthead {\n  padding: 25px 0;\n  text-align: center;\n}\n\n.email-masthead_logo {\n  width: 94px;\n}\n\n.email-masthead_name {\n  font-size: 16px;\n  font-weight: bold;\n  color: #bbbfc3;\n  text-decoration: none;\n  text-shadow: 0 1px 0 white;\n}\n\n/* Body ------------------------------ */\n\n.email-body {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  -premailer-width: 100%;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n  border-top: 1px solid #EDEFF2;\n  border-bottom: 1px solid #EDEFF2;\n  background-color: #FFFFFF;\n}\n\n.email-body_inner {\n  width: 570px;\n  margin: 0 auto;\n  padding: 0;\n  -premailer-width: 570px;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n  background-color: #FFFFFF;\n}\n\n.email-footer {\n  width: 570px;\n  margin: 0 auto;\n  padding: 0;\n  -premailer-width: 570px;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n  text-align: center;\n}\n\n.email-footer p {\n  color: #AEAEAE;\n}\n\n.body-action {\n  width: 100%;\n  margin: 30px auto;\n  padding: 0;\n  -premailer-width: 100%;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n  text-align: center;\n}\n\n.body-sub {\n  margin-top: 25px;\n  padding-top: 25px;\n  border-top: 1px solid #EDEFF2;\n}\n\n.content-cell {\n  padding: 35px;\n}\n\n.preheader {\n  display: none !important;\n  visibility: hidden;\n  mso-hide: all;\n  font-size: 1px;\n  line-height: 1px;\n  max-height: 0;\n  max-width: 0;\n  opacity: 0;\n  overflow: hidden;\n}\n\n/* Attribute list ------------------------------ */\n\n.attributes {\n  margin: 0 0 21px;\n}\n\n.attributes_content {\n  background-color: #EDEFF2;\n  padding: 16px;\n}\n\n.attributes_item {\n  padding: 0;\n}\n\n/* Related Items ------------------------------ */\n\n.related {\n  width: 100%;\n  margin: 0;\n  padding: 25px 0 0 0;\n  -premailer-width: 100%;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n}\n\n.related_item {\n  padding: 10px 0;\n  color: #74787E;\n  font-size: 15px;\n  line-height: 18px;\n}\n\n.related_item-title {\n  display: block;\n  margin: .5em 0 0;\n}\n\n.related_item-thumb {\n  display: block;\n  padding-bottom: 10px;\n}\n\n.related_heading {\n  border-top: 1px solid #EDEFF2;\n  text-align: center;\n  padding: 25px 0 10px;\n}\n\n/* Discount Code ------------------------------ */\n\n.discount {\n  width: 100%;\n  margin: 0;\n  padding: 24px;\n  -premailer-width: 100%;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n  background-color: #EDEFF2;\n  border: 2px dashed #9BA2AB;\n}\n\n.discount_heading {\n  text-align: center;\n}\n\n.discount_body {\n  text-align: center;\n  font-size: 15px;\n}\n\n/* Social Icons ------------------------------ */\n\n.social {\n  width: auto;\n}\n\n.social td {\n  padding: 0;\n  width: auto;\n}\n\n.social_icon {\n  height: 20px;\n  margin: 0 8px 10px 8px;\n  padding: 0;\n}\n\n/* Data table ------------------------------ */\n\n.purchase {\n  width: 100%;\n  margin: 0;\n  padding: 35px 0;\n  -premailer-width: 100%;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n}\n\n.purchase_content {\n  width: 100%;\n  margin: 0;\n  padding: 25px 0 0 0;\n  -premailer-width: 100%;\n  -premailer-cellpadding: 0;\n  -premailer-cellspacing: 0;\n}\n\n.purchase_item {\n  padding: 10px 0;\n  color: #74787E;\n  font-size: 15px;\n  line-height: 18px;\n}\n\n.purchase_heading {\n  padding-bottom: 8px;\n  border-bottom: 1px solid #EDEFF2;\n}\n\n.purchase_heading p {\n  margin: 0;\n  color: #9BA2AB;\n  font-size: 12px;\n}\n\n.purchase_footer {\n  padding-top: 15px;\n  border-top: 1px solid #EDEFF2;\n}\n\n.purchase_total {\n  margin: 0;\n  text-align: right;\n  font-weight: bold;\n  color: #2F3133;\n}\n\n.purchase_total--label {\n  padding: 0 15px 0 0;\n}\n\n/* Utilities ------------------------------ */\n\n.align-right {\n  text-align: right;\n}\n\n.align-left {\n  text-align: left;\n}\n\n.align-center {\n  text-align: center;\n}\n\n/*Media Queries ------------------------------ */\n\n@media only screen and (max-width: 600px) {\n  .email-body_inner,\n  .email-footer {\n    width: 100% !important;\n  }\n}\n\n@media only screen and (max-width: 500px) {\n  .button {\n    width: 100% !important;\n  }\n}\n\n/* Buttons ------------------------------ */\n\n.button {\n  background-color: #3869D4;\n  border-top: 10px solid #3869D4;\n  border-right: 18px solid #3869D4;\n  border-bottom: 10px solid #3869D4;\n  border-left: 18px solid #3869D4;\n  display: inline-block;\n  color: #FFF;\n  text-decoration: none;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 2px 3px rgba(0, 0, 0, 0.16);\n          box-shadow: 0 2px 3px rgba(0, 0, 0, 0.16);\n  -webkit-text-size-adjust: none;\n}\n\n.button--green {\n  background-color: #22BC66;\n  border-top: 10px solid #22BC66;\n  border-right: 18px solid #22BC66;\n  border-bottom: 10px solid #22BC66;\n  border-left: 18px solid #22BC66;\n}\n\n.button--red {\n  background-color: #FF6136;\n  border-top: 10px solid #FF6136;\n  border-right: 18px solid #FF6136;\n  border-bottom: 10px solid #FF6136;\n  border-left: 18px solid #FF6136;\n}\n\n/* Type ------------------------------ */\n\nh1 {\n  margin-top: 0;\n  color: #2F3133;\n  font-size: 19px;\n  font-weight: bold;\n  text-align: left;\n}\n\nh2 {\n  margin-top: 0;\n  color: #2F3133;\n  font-size: 16px;\n  font-weight: bold;\n  text-align: left;\n}\n\nh3 {\n  margin-top: 0;\n  color: #2F3133;\n  font-size: 14px;\n  font-weight: bold;\n  text-align: left;\n}\n\np {\n  margin-top: 0;\n  color: #74787E;\n  font-size: 16px;\n  line-height: 1.5em;\n  text-align: left;\n}\n\np.sub {\n  font-size: 12px;\n}\n\np.center {\n  text-align: center;\n}"

/***/ }),

/***/ "./src/app/components/user/emailverification/emailverification.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <table class=\"email-wrapper\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n    <tr>\n      <td align=\"center\">\n        <table class=\"email-content\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n          <!-- Email Body -->\n          <tr>\n            <td class=\"email-body\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n              <table class=\"email-body_inner\" align=\"center\" width=\"570\" cellpadding=\"0\" cellspacing=\"0\">\n                <!-- Body content -->\n                <tr>\n                  <td class=\"content-cell\">\n                    <h1>Hi, {{name}}!</h1>\n                    <p><strong>Thanks for the email confirmation !</strong></p>\n                    <p>{{ this.remarks1?.value }}</p>\n                    <p>{{ this.remarks2?.value }} <a href=\"mailto:{{ this.csemail?.value }}\">{{ this.csemail?.value }}</a></p>\n                    <p>For reference, here's your account information:</p>\n                    <table class=\"attributes\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n                      <tr>\n                        <td class=\"attributes_content\">\n                          <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n                            <tr>\n                              <td class=\"attributes_item\"><strong>Username:</strong> {{this.username}}</td>\n                            </tr>\n                                                          <tr>\n                              <td class=\"attributes_item\"><strong>Name:</strong> {{this.name}}</td>\n                            </tr>\n                                                          <tr>\n                              <td class=\"attributes_item\"><strong>Email:</strong> {{ this.email }}</td>\n                            </tr>\n                              <tr>\n                              <td class=\"attributes_item\"><strong>Usertype:</strong> label</td>\n                            </tr>\n                          </table>\n                        </td>\n                      </tr>\n                    </table>\n                    <!-- Sub copy -->\n                  </td>\n                </tr>\n              </table>\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n  </table>\n </div> "

/***/ }),

/***/ "./src/app/components/user/emailverification/emailverification.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EmailverificationComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var EmailverificationComponent = /** @class */ (function () {
    function EmailverificationComponent(route, router, notifService, msconfigService, toastr, nav) {
        this.route = route;
        this.router = router;
        this.notifService = notifService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.nav = nav;
        this.loading = false;
    }
    EmailverificationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.nav.disableLink();
        this.loading = true;
        this.sub = this.route.queryParams.subscribe(function (params) {
            var hash = params['id'];
            var postind = params['post'];
            //this.getMsconfigGroupList('REMARKS');
            _this.notifService.recvemailverification(hash)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.router.navigate(['../errorpage']);
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.username = data.message.username;
                    _this.name = data.message.name;
                    _this.email = data.message.email;
                    _this.utype = data.message.usertype;
                    if (postind === 'Y') {
                        _this.remarks1 = { code: '0', value: "Your email has been verified." };
                        _this.remarks2 = { code: '0', value: "If you have any queries, please send email to " };
                    }
                    else {
                        _this.getMsconfigVal('REMARKS1', 'REMARKS');
                        _this.getMsconfigVal('REMARKS2', 'REMARKS');
                    }
                }
            }, function (err) {
                _this.loading = false;
                _this.router.navigate(['../errorpage']);
                //console.log(err);
                _this.toastr.error(err);
            });
        });
        this.getMsconfigVal('CSEML', 'EMAIL');
    };
    EmailverificationComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    /* getMsconfigGroupList(groupid){
      this.msconfigService.getMsconfigbygroup(groupid).subscribe(data => {
        if (data.success === true) {
          if (data.data[0]) {
            this.remarks = data.data;
          } else {
            this.remarks = [{code:'', value:'Error ms config list'}];
          }
        }
      });
      
    } */
    EmailverificationComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (code === 'CSEML') {
                        _this.csemail = data.data[0];
                    }
                    else if (code === 'REMARKS1') {
                        _this.remarks1 = data.data[0];
                    }
                    else if (code === 'REMARKS2') {
                        _this.remarks2 = data.data[0];
                    }
                }
                else {
                    _this.csemail = { code: '', value: 'Error ms config list' };
                    _this.remarks1 = { code: '', value: 'Error ms config list' };
                    _this.remarks2 = { code: '', value: 'Error ms config list' };
                }
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    EmailverificationComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-emailverification',
            template: __webpack_require__("./src/app/components/user/emailverification/emailverification.component.html"),
            styles: [__webpack_require__("./src/app/components/user/emailverification/emailverification.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__services_notif_service__["a" /* NotifService */],
            __WEBPACK_IMPORTED_MODULE_3__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_5__services_navbar_service__["a" /* NavbarService */]])
    ], EmailverificationComponent);
    return EmailverificationComponent;
}());



/***/ }),

/***/ "./src/app/components/user/forgotpassword/forgotpassword.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/forgotpassword/forgotpassword.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Reset Password</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  \n    <form [formGroup]=\"profileForm\" (ngSubmit)=\"sendEmail(profileForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\">\n            <p style=\"margin:0;padding-right:20px;\" class=\"col-sm-12\">\n                If you forgot your password, we can help you reset your password using your email address link to your account.\n            </p>\n        </div>        \n        <div class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('email').invalid && profileForm.get('email').dirty}\">\n            <label for=\"email\" class=\"col-sm-2 control-label\">Email <sup>*</sup></label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\">@</div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"email\" id=\"email\" placeholder=\"Email\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"profileForm.get('email').dirty && profileForm.get('email').errors\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"profileForm.get('email').invalid\">\n                    Please enter a valid email\n                </span>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"email\" class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-5\" style=\"margin:0;padding:0;\">\n                <button type=\"submit\" [disabled]=\"profileForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n                <button type=\"button\" [disabled]=\"this.loading == true\" (click)=\"onLogin()\" class=\"btn btn-info\">Back to Login</button>\n            </div>\n            <div class=\"col-sm-5\" style=\"text-align:right\">\n                <sup>*</sup> required\n            </div>\n        </div>\n    </form>\n</div>"

/***/ }),

/***/ "./src/app/components/user/forgotpassword/forgotpassword.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ForgotpasswordComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__kx_info_dialog_kx_info_dialog_component__ = __webpack_require__("./src/app/components/kx-info-dialog/kx-info-dialog.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ForgotpasswordComponent = /** @class */ (function () {
    function ForgotpasswordComponent(fb, userService, notifService, router, toastr, dialog, globals, nav) {
        this.fb = fb;
        this.userService = userService;
        this.notifService = notifService;
        this.router = router;
        this.toastr = toastr;
        this.dialog = dialog;
        this.globals = globals;
        this.nav = nav;
        this.loading = false;
        this.email = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].email]);
    }
    ForgotpasswordComponent.prototype.ngOnInit = function () {
        this.nav.disableLink();
        this.kaxeturl = this.globals.kaxeturl;
        this.profileForm = this.fb.group({
            email: this.email,
        });
    };
    ForgotpasswordComponent.prototype.sendEmail = function (formdata) {
        var _this = this;
        var payload = {};
        payload.email = this.profileForm.value.email;
        payload.usertype = 'LBL';
        this.loading = true;
        this.userService.resetPasswd(payload)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                var dialogRef = _this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__kx_info_dialog_kx_info_dialog_component__["a" /* KxInfoDialogComponent */], {
                    disableClose: true,
                    width: '400px',
                    data: 'Email to reset password has been sent to ' + _this.profileForm.value.email + '. Please follow the instruction in the email.'
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ForgotpasswordComponent.prototype.sendEmail_OLD = function (formdata) {
        var _this = this;
        var payload = {};
        payload.email = this.profileForm.value.email;
        this.loading = true;
        this.userService.resetPasswd(payload)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                _this.toastr.error(data.message);
            }
            else {
                var payload1 = {};
                payload1.emailto = _this.profileForm.value.email;
                payload1.vlink = data.vlink;
                _this.notifService.sendresetpasswd(payload1)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        var dialogRef = _this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__kx_info_dialog_kx_info_dialog_component__["a" /* KxInfoDialogComponent */], {
                            disableClose: true,
                            width: '400px',
                            data: 'Hi, We are sorry to inform that the email to reset password failed to be sent to ' + _this.profileForm.value.email + '. Please try again in few minutes.'
                        });
                        //below code is to get result from modal dialog
                        /*       dialogRef.afterClosed().subscribe(result => {
                                console.log(`Dialog closed: ${result}`);
                                this.dialogResult = result;
                              }); */
                    }
                    else {
                        _this.loading = false;
                        var dialogRef = _this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__kx_info_dialog_kx_info_dialog_component__["a" /* KxInfoDialogComponent */], {
                            disableClose: true,
                            width: '400px',
                            data: 'Email to reset password has been sent to ' + _this.profileForm.value.email + '. Please follow the instruction in the email.'
                        });
                    }
                }, function (err) {
                    _this.loading = false;
                    //console.log(err);
                    var dialogRef = _this.dialog.open(__WEBPACK_IMPORTED_MODULE_6__kx_info_dialog_kx_info_dialog_component__["a" /* KxInfoDialogComponent */], {
                        disableClose: true,
                        width: '400px',
                        data: err
                    });
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ForgotpasswordComponent.prototype.onLogin = function () {
        window.open(this.kaxeturl.toString());
    };
    ForgotpasswordComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-forgotpassword',
            template: __webpack_require__("./src/app/components/user/forgotpassword/forgotpassword.component.html"),
            styles: [__webpack_require__("./src/app/components/user/forgotpassword/forgotpassword.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_7__services_notif_service__["a" /* NotifService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_material__["d" /* MatDialog */],
            __WEBPACK_IMPORTED_MODULE_8__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_9__services_navbar_service__["a" /* NavbarService */]])
    ], ForgotpasswordComponent);
    return ForgotpasswordComponent;
}());



/***/ }),

/***/ "./src/app/components/user/login/login.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/login/login.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <form [formGroup]=\"loginForm\" (ngSubmit)=\"loginUser(loginForm.value)\" class=\"form-signin\" novalidate autocomplete=\"off\">\n      <h3>Please sign in</h3>\n      <label for=\"inputUser\" class=\"sr-only\">Username</label>\n      <input type=\"text\" id=\"inputUser\" class=\"form-control\" [formControl]=\"username\" placeholder=\"Username\" autofocus>\n      <div class=\"text-danger\" *ngIf=\"loginForm.get('username').dirty && loginForm.get('username').invalid\">\n          Please enter username\n      </div>\n      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n      <input type=\"password\" id=\"inputPassword\" class=\"form-control\" [formControl]=\"password\" placeholder=\"Password\">\n      <div class=\"text-danger\" *ngIf=\"loginForm.get('password').dirty && loginForm.get('password').invalid\">\n          Please enter password\n      </div>\n      <br><br>\n      <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\" [disabled]=\"loginForm.invalid\" >Sign In</button>\n      <br>\n      <div class=\"row\">\n          <div class=\"col-md-6 col-sm-6 col-xs-6\"><a [routerLink]=\"['/forgotpassword']\">Forgot Password  <i class=\"fa fa-question fa-lg\"></i></a></div>\n          <div class=\"col-md-6 col-sm-6 col-xs-6\" style=\"text-align: right\"><a [routerLink]=\"['/register']\"><i class=\"fa fa-user fa-lg\"></i>  Register</a></div>\n      </div>\n  </form>\n</div>"

/***/ }),

/***/ "./src/app/components/user/login/login.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LoginComponent = /** @class */ (function () {
    function LoginComponent(fb, authService, router, toastr, nav) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.router = router;
        this.toastr = toastr;
        this.nav = nav;
        this.loading = false;
        this.username = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.password = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.loginForm = this.fb.group({
            username: this.username,
            password: this.password,
        });
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    LoginComponent.prototype.ngOnInit = function () {
        this.authService.logout();
    };
    LoginComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    LoginComponent.prototype.loginUser = function (formdata) {
        var _this = this;
        this.authService.logout();
        if (this.loginForm.dirty && this.loginForm.valid) {
            this.loading = true;
            this.authService.login(this.loginForm.value)
                .subscribe(function (data) {
                if (data.json().success === false) {
                    _this.loading = false;
                    _this.toastr.error(data.json().message);
                }
                else {
                    _this.loading = false;
                    _this.toastr.success('Login successful.');
                    _this.router.navigate(['report']);
                }
                _this.loginForm.reset();
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    LoginComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-login',
            template: __webpack_require__("./src/app/components/user/login/login.component.html"),
            styles: [__webpack_require__("./src/app/components/user/login/login.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_5__services_navbar_service__["a" /* NavbarService */]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/components/user/logout.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LogoutComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LogoutComponent = /** @class */ (function () {
    function LogoutComponent(authService, router, toastr) {
        var _this = this;
        this.authService = authService;
        this.router = router;
        this.toastr = toastr;
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    LogoutComponent.prototype.ngOnInit = function () {
        this.authService.logout();
        this.toastr.success('You have been logged out.');
        this.router.navigate(['login']);
    };
    LogoutComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    LogoutComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: ''
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__common_toastr_service__["a" /* ToastrService */]])
    ], LogoutComponent);
    return LogoutComponent;
}());



/***/ }),

/***/ "./src/app/components/user/password/password.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/password/password.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Change Password</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"passwordForm\" (ngSubmit)=\"updatePassword(passwordForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\" [ngClass]=\"{'has-error': passwordForm.get('oldpassword').invalid && passwordForm.get('oldpassword').dirty}\">\n            <label for=\"oldpassword\" class=\"col-sm-3 control-label\">Existing Password</label>\n            <div class=\"input-group col-sm-9\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-lock\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"password\" class=\"form-control\" id=\"oldpassword\" [formControl]=\"oldpassword\" placeholder=\"Existing Password\">\n            </div>\n            <div class=\"text-danger\" *ngIf=\"passwordForm.get('oldpassword').dirty && passwordForm.get('oldpassword').errors\">\n                <span class=\"col-sm-3\"></span>\n                <span class=\"col-sm-9\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('oldpassword').errors.required\">\n                    Please enter existing password\n                </span>\n            </div>\n        </div>\n  \n        <div formGroupName=\"passwordGroup\" [ngClass]=\"{'has-error': passwordForm.get('passwordGroup').errors }\">\n  \n            <div class=\"form-group\" [ngClass]=\"{'has-error': passwordForm.get('passwordGroup.password').invalid && passwordForm.get('passwordGroup.password').dirty}\">\n                <label for=\"password\" class=\"col-sm-3 control-label\">New Password</label>\n                <div class=\"input-group col-sm-9\">\n                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-asterisk\"></i></div>\n                    <input [disabled]=\"this.loading == true\" type=\"password\" class=\"form-control\" id=\"password\" [formControl]=\"password\" placeholder=\"New Pasword\">\n                </div>\n                <div class=\"text-danger\"  *ngIf=\"passwordForm.get('passwordGroup.password').dirty && passwordForm.get('passwordGroup.password').errors\">\n                    <span class=\"col-sm-3\"></span>\n                    <span class=\"col-sm-9\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('passwordGroup.password').errors.required\">\n                        Please enter password\n                    </span>\n                    <span class=\"col-sm-9\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('passwordGroup.password').errors.pattern\">\n                        Password must be minimum 6 and maximum 12 characters AND contain one letter, number & special characters\n                    </span>\n                </div>\n            </div>\n            <div class=\"form-group\" [ngClass]=\"{'has-error': passwordForm.get('passwordGroup.retypepass').invalid && passwordForm.get('passwordGroup.retypepass').dirty}\">\n                <label for=\"retypepass\" class=\"col-sm-3 control-label\">Retype Password <sup>*</sup></label>\n                <div class=\"input-group col-sm-9\">\n                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-asterisk\"></i></div>\n                    <input [disabled]=\"this.loading == true\" type=\"password\" class=\"form-control\" [formControl]=\"retypepass\" id=\"retypepass\" placeholder=\"Retype Password\">\n                </div>\n                <div class=\"text-danger\" *ngIf=\"(passwordForm.get('passwordGroup.retypepass').touched || passwordForm.get('passwordGroup.retypepass').dirty) && (passwordForm.get('passwordGroup.retypepass').errors || passwordForm.get('passwordGroup').errors)\">\n                    <span class=\"col-sm-3\"></span>\n                    <span class=\"col-sm-9\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('passwordGroup.retypepass').errors?.required\">\n                        Please confirm your password\n                    </span>\n                    <span class=\"col-sm-9\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('passwordGroup').errors?.mismatchedPassword\">\n                        Password do not match\n                    </span>\n                </div>\n            </div>\n  \n        </div>\n    \n        <div class=\"form-group\">\n            <label class=\"col-sm-3 control-label\"></label>\n            <div class=\"col-sm-9\" style=\"padding:0;margin:0;\">\n                <button type=\"submit\" [disabled]=\"passwordForm.invalid || this.loading == true\" class=\"btn btn-primary\">Update</button>\n                <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Cancel</button>\n            </div>\n        </div>\n    </form>\n  \n  </div>\n  "

/***/ }),

/***/ "./src/app/components/user/password/password.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PasswordComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PasswordComponent = /** @class */ (function () {
    function PasswordComponent(fb, authService, userService, router, toastr) {
        this.fb = fb;
        this.authService = authService;
        this.userService = userService;
        this.router = router;
        this.toastr = toastr;
        this.loading = false;
        this.oldpassword = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.password = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{6,12}$')]);
        this.retypepass = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    PasswordComponent.prototype.ngOnInit = function () {
        this.userObj = this.authService.currentUser;
        this.passwordForm = this.fb.group({
            oldpassword: this.oldpassword,
            passwordGroup: this.fb.group({
                password: this.password,
                retypepass: this.retypepass,
            }, { validator: comparePassword })
        });
    };
    PasswordComponent.prototype.updatePassword = function (formdata) {
        var _this = this;
        if (this.passwordForm.dirty && this.passwordForm.valid) {
            var theForm = this.passwordForm.value;
            var thePass = this.passwordForm.value.passwordGroup.password;
            theForm.password = thePass;
            delete theForm.passwordGroup;
            this.loading = true;
            this.userService.updatePassword(this.userObj.userid, theForm)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['../errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.toastr.success(data.message);
                }
                _this.passwordForm.reset();
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    PasswordComponent.prototype.onBack = function () {
        this.router.navigate(['/report']);
    };
    PasswordComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-password',
            template: __webpack_require__("./src/app/components/user/password/password.component.html"),
            styles: [__webpack_require__("./src/app/components/user/password/password.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */]])
    ], PasswordComponent);
    return PasswordComponent;
}());

function comparePassword(c) {
    var passwordControl = c.get('password');
    var confirmControl = c.get('retypepass');
    if (passwordControl.pristine || confirmControl.pristine) {
        return null;
    }
    if (passwordControl.value === confirmControl.value) {
        return null;
    }
    return { 'mismatchedPassword': true };
}


/***/ }),

/***/ "./src/app/components/user/postregistered/postregistered.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/postregistered/postregistered.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Confirmation</h3>\n  </div>\n  <div *ngIf=\"this.uname != 'err'\" class=\"panel panel-success\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">Success</h3>\n      </div>\n      <div class=\"panel-body\">\n          <h4>Thank You !</h4>\n          <!-- <p>{{ this.remarks3.value }}</p> -->\n          <p>An email has been sent to your email address. Please access your email account and do verification.</p>\n          <p>Below is the account information for your reference,</p>\n          <div class=\"row rowmarginsearch\">\n              <div class=\"col-xs-3 col-sm-2\" style=\"text-align:right;\">Label:</div>\n              <div class=\"col-xs-9 col-sm-10\" style=\"padding:0;\">{{ this.uname }}</div>\n            </div>\n            <div class=\"row rowmarginsearch\">\n              <div class=\"col-xs-3 col-sm-2\" style=\"text-align:right;\">Email:</div>\n              <div class=\"col-xs-9 col-sm-10\" style=\"padding:0;\">{{ this.qemailto }}</div>\n            </div>\n          <br>\n          <div class=\"col-sm-12\" style=\"margin:0;padding:0;\">\n              <button type=\"button\" (click)=\"onLogin()\" class=\"btn btn-info\">Back to Login</button>\n          </div>  \n      </div>\n  </div>\n  <div *ngIf=\"this.uname == 'err'\" class=\"panel panel-danger\">\n      <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">Error</h3>\n      </div>\n      <div class=\"panel-body\">\n          <!-- <p>Oops, Sorry.. {{ this.remarks4.value }}</p> -->\n          <p>Oops, Sorry.. There is failure while our system process the registration. Please try again later.</p>\n          <br>\n          <div class=\"col-sm-12\" style=\"margin:0;padding:0;\">\n              <button type=\"button\" (click)=\"onLogin()\" class=\"btn btn-info\">Back to Login</button>\n          </div>  \n      </div>\n  </div>\n\n</div>"

/***/ }),

/***/ "./src/app/components/user/postregistered/postregistered.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PostregisteredComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PostregisteredComponent = /** @class */ (function () {
    function PostregisteredComponent(route, router, msconfigService, nav, globals) {
        this.route = route;
        this.router = router;
        this.msconfigService = msconfigService;
        this.nav = nav;
        this.globals = globals;
    }
    PostregisteredComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.nav.disableLink();
        this.kaxeturl = this.globals.kaxeturl;
        this.sub = this.route.params.subscribe(function (params) {
            var param = params['nm'];
            var strlist = param.split("?");
            _this.uname = strlist[0];
            _this.qemailto = strlist[1];
        });
        //this.getMsconfigGroupList('REMARKS');
        this.getMsconfigVal('REMARKS3', 'REMARKS');
        this.getMsconfigVal('REMARKS4', 'REMARKS');
        this.getMsconfigVal('CSEML', 'EMAIL');
    };
    PostregisteredComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    /*   getMsconfigGroupList(groupid){
        this.msconfigService.getMsconfigbygroup(groupid).subscribe(data => {
          if (data.success === true) {
            if (data.data[0]) {
              this.remarks = data.data;
            } else {
              this.remarks = [{code:'', value:'Empty list...'}];
            }
          }
        },
        err => {
          this.remarks = [{code:'', value:'Error ms config list'}];
          //console.log(err);
        });
        
      } */
    PostregisteredComponent.prototype.getMsconfigVal = function (code, groupid) {
        var _this = this;
        this.msconfigService.getMsconfigvalue(code, groupid).subscribe(function (data) {
            if (data.success === true) {
                if (data.data[0]) {
                    if (code === 'CSEML') {
                        _this.csemail = data.data[0];
                    }
                    else if (code === 'REMARKS3') {
                        _this.remarks3 = data.data[0];
                    }
                    else if (code === 'REMARKS4') {
                        _this.remarks4 = data.data[0];
                    }
                }
                else {
                    _this.csemail = { code: '', value: 'Empty list...' };
                    _this.remarks3 = { code: '', value: 'Empty list...' };
                    _this.remarks4 = { code: '', value: 'Empty list...' };
                }
            }
        }, function (err) {
            _this.csemail = { code: '', value: 'Error ms config list' };
            _this.remarks3 = { code: '', value: 'Error ms config list' };
            _this.remarks4 = { code: '', value: 'Error ms config list' };
            //console.log(err);
        });
    };
    /*   getremarksvalue(premarks) : String {
        var result: String = '';
    
        for (let oremark of this.remarks) {
          if (premarks === oremark.code){
            result = oremark.value;
         }
        }
        return result;
      } */
    PostregisteredComponent.prototype.onLogin = function () {
        //this.router.navigate(['/login']);
        window.open(this.kaxeturl.toString());
    };
    PostregisteredComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-postregistered',
            template: __webpack_require__("./src/app/components/user/postregistered/postregistered.component.html"),
            styles: [__webpack_require__("./src/app/components/user/postregistered/postregistered.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_3__services_navbar_service__["a" /* NavbarService */],
            __WEBPACK_IMPORTED_MODULE_4__app_global__["a" /* Globals */]])
    ], PostregisteredComponent);
    return PostregisteredComponent;
}());



/***/ }),

/***/ "./src/app/components/user/postresetpasswd/postresetpasswd.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/postresetpasswd/postresetpasswd.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n    <h3>Reset Password</h3>\n  </div>\n  <div *ngIf=\"this.hash && this.hasl === 'scs'\" class=\"panel panel-success\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Success</h3>\n    </div>\n    <div class=\"panel-body\">\n        <h4>Thank You !</h4>\n        <!-- <p>{{ this.remarks3.value }}</p> -->\n        <p>Your password has been successfully reset. Please access your kaxet account with the new password.</p>\n<!--         <p>Below is the account information for your reference,</p>\n        <div class=\"row rowmarginsearch\">\n            <div class=\"col-xs-3 col-sm-2\" style=\"text-align:right;\">Label:</div>\n            <div class=\"col-xs-9 col-sm-10\" style=\"padding:0;\">{{ this.uname }}</div>\n          </div>\n          <div class=\"row rowmarginsearch\">\n            <div class=\"col-xs-3 col-sm-2\" style=\"text-align:right;\">Email:</div>\n            <div class=\"col-xs-9 col-sm-10\" style=\"padding:0;\">{{ this.qemailto }}</div>\n          </div> -->\n        <br>\n        <div class=\"col-sm-12\" style=\"margin:0;padding:0;\">\n            <button type=\"button\" (click)=\"onLogin()\" class=\"btn btn-info\">Login</button>\n        </div>  \n    </div>\n  </div>\n  <div *ngIf=\"this.hash && this.hasl !== 'scs'\" class=\"panel panel-danger\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Error</h3>\n    </div>\n    <div class=\"panel-body\">\n        <!-- <p>Oops, Sorry.. {{ this.remarks4.value }}</p> -->\n        <p>Oops, Sorry.. There is failure while our system process the password reset. Please try again later.</p>\n    </div>\n  </div>\n<!--   <div *ngIf=\"!this.hash || !this.hasl\" class=\"panel panel-danger\">\n    <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">Error</h3>\n    </div>\n    <div class=\"panel-body\">\n        <p>Unauthorised activity !!</p>\n    </div>\n  </div> -->\n</div>"

/***/ }),

/***/ "./src/app/components/user/postresetpasswd/postresetpasswd.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PostresetpasswdComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var PostresetpasswdComponent = /** @class */ (function () {
    function PostresetpasswdComponent(route, router, notifService, toastr, userService, globals, nav) {
        this.route = route;
        this.router = router;
        this.notifService = notifService;
        this.toastr = toastr;
        this.userService = userService;
        this.globals = globals;
        this.nav = nav;
        this.loading = false;
    }
    PostresetpasswdComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.nav.disableLink();
        this.kaxeturl = this.globals.kaxeturl;
        this.loading = true;
        this.sub = this.route.queryParams.subscribe(function (params) {
            var phash = params['id'];
            _this.hasl = params['hasl'];
            _this.notifService.pageverification(phash)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.toastr.error(data.message);
                    _this.router.navigate(['../errorpage']);
                }
                else {
                    //this.loading = false;
                    _this.hash = data.hash;
                    _this.userService.updatehash(_this.hash)
                        .subscribe(function (data) {
                        if (data.success === false) {
                            _this.loading = false;
                            _this.toastr.error(data.message);
                            _this.router.navigate(['../errorpage']);
                        }
                        else {
                            _this.loading = false;
                            _this.toastr.success(data.message);
                        }
                    }, function (err) {
                        _this.loading = false;
                        //console.log(err);
                        _this.toastr.error(err);
                        _this.router.navigate(['../errorpage']);
                    });
                }
            }, function (err) {
                _this.loading = false;
                _this.toastr.error(err);
                _this.router.navigate(['../errorpage']);
                //console.log(err);
            });
        });
    };
    PostresetpasswdComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    PostresetpasswdComponent.prototype.onLogin = function () {
        window.open(this.kaxeturl.toString());
    };
    PostresetpasswdComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-postresetpasswd',
            template: __webpack_require__("./src/app/components/user/postresetpasswd/postresetpasswd.component.html"),
            styles: [__webpack_require__("./src/app/components/user/postresetpasswd/postresetpasswd.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_notif_service__["a" /* NotifService */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_5__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_6__services_navbar_service__["a" /* NavbarService */]])
    ], PostresetpasswdComponent);
    return PostresetpasswdComponent;
}());



/***/ }),

/***/ "./src/app/components/user/profile/profile.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/profile/profile.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>My Profile</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <div class=\"clearfix\">\n      <form [formGroup]=\"profileForm\" (ngSubmit)=\"updateUser(profileForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n          <div class=\"form-group\">\n              <label for=\"username\" class=\"col-sm-2 control-label\">Username</label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-user\"></i></div>\n                  <div class=\"form-ele\">{{ userObj.username }}</div>\n              </div>\n          </div>\n          <div class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('name').invalid && profileForm.get('name').dirty}\">\n              <label for=\"name\" class=\"col-sm-2 control-label\">Name</label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                  <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"name\" [formControl]=\"name\" placeholder=\"Name\">\n              </div>\n              <div class=\"text-danger\" *ngIf=\"profileForm.get('name').dirty && profileForm.get('name').invalid\">\n                  <span class=\"col-sm-2\"></span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter your {{ userObj.username }} name</span>\n              </div>\n          </div>\n<!--           <div class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('email').invalid && profileForm.get('email').dirty}\">\n              <label for=\"email\" class=\"col-sm-2 control-label\">Email</label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\">@</div>\n                  <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"email\" [formControl]=\"email\" placeholder=\"Email\">\n              </div>\n              <div class=\"text-danger\" *ngIf=\"profileForm.get('email').dirty && profileForm.get('email').invalid\">\n                  <span class=\"col-sm-2\"></span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter a valid email</span>\n              </div>\n          </div> -->\n          <div class=\"form-group\">\n            <label for=\"email\" class=\"col-sm-2 control-label\">Email</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\">@</div>\n                <div class=\"form-ele\">{{ userObj.email }}</div>\n            </div>\n            <div class=\"text-warning\" *ngIf=\"authService.currentUser.verified_email == 'N'\">\n                <span class=\"col-sm-2\"></span>\n                <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Email is not verified yet. Please verify by clicking <a style=\"cursor:pointer\" (click)=\"verifyEmail(userObj.username, userObj.name, userObj.email)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Verify\">HERE</a> !</span>\n            </div>\n          </div>\n          <div *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\" class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('contactno').invalid && profileForm.get('contactno').dirty}\">\n              <label for=\"contactno\" class=\"col-sm-2 control-label\">Contact No</label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-pencil\"></i></div>\n                  <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"contactno\" [formControl]=\"contactno\" placeholder=\"Contact No\">\n              </div>\n              <div class=\"text-danger\" *ngIf=\"profileForm.get('contactno').dirty && profileForm.get('contactno').invalid\">\n                  <span class=\"col-sm-2\"></span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter your Contact Number</span>\n              </div>\n          </div>\n          <div *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\" class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('bankaccno').invalid && profileForm.get('bankaccno').dirty}\">\n              <label for=\"bankaccno\" class=\"col-sm-2 control-label\">Bank Account No</label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-pencil\"></i></div>\n                  <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"bankaccno\" [formControl]=\"bankaccno\" placeholder=\"Bank Account No\">\n              </div>\n              <div class=\"text-danger\" *ngIf=\"profileForm.get('bankaccno').dirty && profileForm.get('bankaccno').invalid\">\n                  <span class=\"col-sm-2\"></span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter your Bank Account Number</span>\n              </div>\n          </div>\n          <div *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\" class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('bankaccname').invalid && profileForm.get('bankaccname').dirty}\">\n                <label for=\"bankaccname\" class=\"col-sm-2 control-label\">Bank Account Name</label>\n                <div class=\"input-group col-sm-10\">\n                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-pencil\"></i></div>\n                    <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"bankaccname\" [formControl]=\"bankaccname\" placeholder=\"Bank Account Name\">\n                </div>\n                <div class=\"text-danger\" *ngIf=\"profileForm.get('bankaccname').dirty && profileForm.get('bankaccname').invalid\">\n                    <span class=\"col-sm-2\"></span>\n                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter your Bank Account Name</span>\n                </div>\n          </div>\n          <div *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\" class=\"form-group\">\n            <label for=\"bankcode\" class=\"col-sm-2 control-label\">Bank Code</label>\n            <div class=\"input-group col-sm-10\">\n                <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n                <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"bankcode\" id=\"bankcode\" placeholder=\"Bank Code\">\n            </div>\n          </div>\n          <div *ngIf=\"authService.isLoggedIn() && authService.currentUser.usertype == 'LBL'\" class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('bankname').invalid && profileForm.get('bankname').dirty}\">\n              <label for=\"bankname\" class=\"col-sm-2 control-label\">Bank Name</label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-pencil\"></i></div>\n                  <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"bankname\" [formControl]=\"bankname\" placeholder=\"Bank Name\">\n              </div>\n              <div class=\"text-danger\" *ngIf=\"profileForm.get('bankname').dirty && profileForm.get('bankname').invalid\">\n                  <span class=\"col-sm-2\"></span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\">Please enter your Bank Name</span>\n              </div>\n          </div>\n<!--           <div class=\"form-group\">\n              <label for=\"usertype\" class=\"col-sm-2 control-label\">User Type</label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-user\"></i></div>\n                  <div class=\"form-ele\">{{ userObj.usertype }}</div>\n              </div>\n          </div> -->\n          <div class=\"form-group\">\n              <label for=\"lastlogin\" class=\"col-sm-2 control-label\">Last Login</label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-calendar\"></i></div>\n                  <div class=\"form-ele\">{{ userObj.lastlogin | date:'medium' }}</div>\n              </div>\n          </div>\n          <div class=\"form-group\">\n              <label class=\"col-sm-2 control-label\"></label>\n              <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                  <button type=\"submit\" [disabled]=\"profileForm.invalid || this.loading == true\" class=\"btn btn-primary\">Update</button>\n                  <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Cancel</button>\n              </div>\n          </div>\n      </form>                \n    </div>\n  </div>"

/***/ }),

/***/ "./src/app/components/user/profile/profile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__kx_info_dialog_kx_info_dialog_component__ = __webpack_require__("./src/app/components/kx-info-dialog/kx-info-dialog.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ProfileComponent = /** @class */ (function () {
    //  dialogResult = "";
    function ProfileComponent(fb, authService, userService, notifService, router, toastr, dialog) {
        this.fb = fb;
        this.authService = authService;
        this.userService = userService;
        this.notifService = notifService;
        this.router = router;
        this.toastr = toastr;
        this.dialog = dialog;
        this.loading = false;
        this.name = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        //email = new FormControl('', [Validators.email]);
        this.contactno = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankaccno = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankaccname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankcode = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.bankname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ProfileComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.profileForm = this.fb.group({
            name: this.name,
            contactno: this.contactno,
            bankaccno: this.bankaccno,
            bankaccname: this.bankaccname,
            bankcode: this.bankcode,
            bankname: this.bankname
        });
        this.userService.getUser(this.userObj.userid).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['../errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.user = data.data[0];
                _this.populateForm(_this.user);
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ProfileComponent.prototype.populateForm = function (data) {
        this.profileForm.patchValue({
            name: data.name,
            //email: data.email,
            contactno: data.contactno,
            bankaccno: data.bankaccno,
            bankaccname: data.bankaccname,
            bankcode: data.bankcode,
            bankname: data.bankname
        });
    };
    ProfileComponent.prototype.updateUser = function (formdata) {
        var _this = this;
        if (this.profileForm.dirty && this.profileForm.valid) {
            this.loading = true;
            this.userService.updateUser(this.userObj.userid, this.profileForm.value)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['../errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.toastr.success(data.message);
                    var theUser = JSON.parse(localStorage.getItem('currentUser'));
                    theUser.user.name = _this.profileForm.value.name;
                    localStorage.setItem('currentUser', JSON.stringify(theUser));
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    ProfileComponent.prototype.verifyEmail = function (username, name, email) {
        var _this = this;
        var payload = {};
        payload.userid = this.userObj.userid;
        payload.email = email;
        payload.name = name;
        payload.username = username;
        this.loading = true;
        this.userService.pubemailVerify(payload)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                var dialogRef = _this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__kx_info_dialog_kx_info_dialog_component__["a" /* KxInfoDialogComponent */], {
                    disableClose: true,
                    width: '400px',
                    data: 'Hi ' + name + ', We are sorry to inform that the email verification failed to be sent to ' + email + '. Please try again in few minutes.'
                });
                //this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                var dialogRef = _this.dialog.open(__WEBPACK_IMPORTED_MODULE_7__kx_info_dialog_kx_info_dialog_component__["a" /* KxInfoDialogComponent */], {
                    disableClose: true,
                    width: '400px',
                    data: 'Hi ' + name + ', email verification has been sent to ' + email + '. Please follow the instruction in the email.'
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    /*  verifyEmail(username, name, email) {
          let payload: any = {};
          payload.email = email;
          payload.name = name;
          payload.username = username;
          this.loading = true;
          this.userService.emailVerify(payload)
          .subscribe(data => {
            if (data.success === false) {
              this.loading = false;
              this.toastr.error(data.message);
            } else {
              const nm = data.name;
              let payload1: any = {};
              payload1.emailto = email;
              payload1.vlink = data.vlink;
              this.notifService.sendemailverification(payload1)
              .subscribe(data => {
                if (data.success === false) {
                  this.loading = false;
                  let dialogRef = this.dialog.open(KxInfoDialogComponent, {
                    disableClose: true,
                    width: '400px',
                    data: 'Hi ' + name + ', We are sorry to inform that the email verification failed to be sent to ' + email + '. Please try again in few minutes.'
                  });
                  //below code is to get result from modal dialog
                  // dialogRef.afterClosed().subscribe(result => {
                  //  console.log(`Dialog closed: ${result}`);
                  //  this.dialogResult = result;
                  //});
                } else {
                  this.loading = false;
                  let dialogRef = this.dialog.open(KxInfoDialogComponent, {
                    disableClose: true,
                    width: '400px',
                    data: 'Hi ' + name + ', email verification has been sent to ' + email + '. Please follow the instruction in the email.'
                  });
                }
              },
              err => {
                this.loading = false;
                let dialogRef = this.dialog.open(KxInfoDialogComponent, {
                  disableClose: true,
                  width: '400px',
                  data: err
                });
                //console.log(err);
              });
            }
          },
          err => {
            this.loading = false;
            //console.log(err);
            this.toastr.error(err);
          });
        } */
    ProfileComponent.prototype.onBack = function () {
        this.router.navigate(['/report']);
    };
    ProfileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-profile',
            template: __webpack_require__("./src/app/components/user/profile/profile.component.html"),
            styles: [__webpack_require__("./src/app/components/user/profile/profile.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_8__services_notif_service__["a" /* NotifService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_6__angular_material__["d" /* MatDialog */]])
    ], ProfileComponent);
    return ProfileComponent;
}());



/***/ }),

/***/ "./src/app/components/user/register/register.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/register/register.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Register Label</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <form [formGroup]=\"registerForm\" (ngSubmit)=\"registerUser(registerForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n      <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('name').invalid && registerForm.get('name').dirty}\">\n          <label for=\"name\" class=\"col-sm-2 control-label\">Label Name <sup>*</sup></label>\n          <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n              <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"name\" id=\"name\" placeholder=\"Label Name\">\n          </div>\n          <div class=\"text-danger\" *ngIf=\"registerForm.get('name').dirty && registerForm.get('name').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('name').errors.required\">\n                  Please enter your label name\n              </span>\n          </div>\n      </div>\n\n      <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('email').invalid && registerForm.get('email').dirty}\">\n          <label for=\"email\" class=\"col-sm-2 control-label\">Email <sup>*</sup></label>\n          <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\">@</div>\n              <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"email\" id=\"email\" placeholder=\"Email\">\n          </div>\n          <div class=\"text-danger\" *ngIf=\"registerForm.get('email').dirty && registerForm.get('email').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('email').invalid\">\n                  Please enter a valid email\n              </span>\n          </div>\n      </div>\n      <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('contactno').invalid && registerForm.get('contactno').dirty}\">\n        <label for=\"contactno\" class=\"col-sm-2 control-label\">Contact No <sup>*</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-earphone\"></i></div>\n            <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"contactno\" id=\"contactno\" placeholder=\"Contact No\">\n        </div>\n        <div class=\"text-danger\" *ngIf=\"registerForm.get('contactno').dirty && registerForm.get('contactno').errors\">\n            <span class=\"col-sm-2\"></span>\n            <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('contactno').errors.required\">\n                Please enter your contact no\n            </span>\n        </div>\n      </div>\n\n      <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('bankaccno').invalid && registerForm.get('bankaccno').dirty}\">\n        <label for=\"bankaccno\" class=\"col-sm-2 control-label\">Bank Account No <sup>*</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n            <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"bankaccno\" id=\"bankaccno\" placeholder=\"Bank Account No\">\n        </div>\n        <div class=\"text-danger\" *ngIf=\"registerForm.get('bankaccno').dirty && registerForm.get('bankaccno').errors\">\n            <span class=\"col-sm-2\"></span>\n            <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('bankaccno').errors.required\">\n                Please enter your bank account no\n            </span>\n        </div>\n      </div>\n      <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('bankaccname').invalid && registerForm.get('bankaccname').dirty}\">\n        <label for=\"bankaccname\" class=\"col-sm-2 control-label\">Bank Account Name <sup>*</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n            <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"bankaccname\" id=\"bankaccname\" placeholder=\"Bank Account Name\">\n        </div>\n        <div class=\"text-danger\" *ngIf=\"registerForm.get('bankaccname').dirty && registerForm.get('bankaccname').errors\">\n            <span class=\"col-sm-2\"></span>\n            <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('bankaccname').errors.required\">\n                Please enter your bank account name\n            </span>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"bankcode\" class=\"col-sm-2 control-label\">Bank Code</label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n            <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"bankcode\" id=\"bankcode\" placeholder=\"Bank Code\">\n        </div>\n      </div>\n      <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('bankname').invalid && registerForm.get('bankname').dirty}\">\n        <label for=\"bankname\" class=\"col-sm-2 control-label\">Bank Name <sup>*</sup></label>\n        <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-pencil\"></i></div>\n            <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"bankname\" id=\"bankname\" placeholder=\"Bank Name\">\n        </div>\n        <div class=\"text-danger\" *ngIf=\"registerForm.get('bankname').dirty && registerForm.get('bankname').errors\">\n            <span class=\"col-sm-2\"></span>\n            <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('bankname').errors.required\">\n                Please enter your bank name\n            </span>\n        </div>\n      </div>\n      <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('username').invalid && registerForm.get('username').dirty}\">\n          <label for=\"username\" class=\"col-sm-2 control-label\">Username <sup>*</sup></label>\n          <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-user\"></i></div>\n              <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" [formControl]=\"username\" id=\"username\" placeholder=\"Username\">\n          </div>\n          <div class=\"text-danger\" *ngIf=\"registerForm.get('username').dirty && registerForm.get('username').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('username').errors.required\">\n                  Please enter username\n              </span>\n              <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('username').errors.minlength\">\n                  Username must be longer than 3 characters.\n              </span>\n              <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('username').errors.maxlength\">\n                  Username cannot be longer than 16 characters.\n              </span>\n          </div>\n      </div>\n\n       <div formGroupName=\"passwordGroup\" [ngClass]=\"{'has-error': registerForm.get('passwordGroup').errors }\">\n           \n          <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('passwordGroup.password').invalid && registerForm.get('passwordGroup.password').dirty}\">\n              <label for=\"password\" class=\"col-sm-2 control-label\">Password <sup>*</sup></label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-asterisk\"></i></div>\n                  <input [disabled]=\"this.loading == true\" type=\"password\" class=\"form-control\" [formControl]=\"password\" id=\"password\" placeholder=\"Pasword\">\n              </div>\n              <div class=\"text-danger\"  *ngIf=\"registerForm.get('passwordGroup.password').dirty && registerForm.get('passwordGroup.password').errors\">\n                  <span class=\"col-sm-2\"></span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('passwordGroup.password').errors.required\">\n                      Please enter password\n                  </span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('passwordGroup.password').errors.pattern\">\n                      Password must be minimum 6 and maximum 12 characters AND contain capital letter, number or special characters\n                  </span>\n              </div>\n          \n          </div>\n          <div class=\"form-group\" [ngClass]=\"{'has-error': registerForm.get('passwordGroup.retypepass').invalid && registerForm.get('passwordGroup.retypepass').dirty}\">\n              <label for=\"retypepass\" class=\"col-sm-2 control-label\">Retype Password <sup>*</sup></label>\n              <div class=\"input-group col-sm-10\">\n                  <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-asterisk\"></i></div>\n                  <input [disabled]=\"this.loading == true\" type=\"password\" class=\"form-control\" [formControl]=\"retypepass\" id=\"retypepass\" placeholder=\"Retype Password\">\n              </div>\n              <div class=\"text-danger\" *ngIf=\"(registerForm.get('passwordGroup.retypepass').touched || registerForm.get('passwordGroup.retypepass').dirty) && (registerForm.get('passwordGroup.retypepass').errors || registerForm.get('passwordGroup').errors)\">\n                  <span class=\"col-sm-2\"></span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('passwordGroup.retypepass').errors?.required\">\n                      Please confirm your password\n                  </span>\n                  <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"registerForm.get('passwordGroup').errors?.mismatchedPassword\">\n                      Password do not match\n                  </span>\n              </div>\n          </div>\n       </div>\n      <div class=\"form-group\">\n          <label class=\"col-sm-2 control-label\"></label>\n          <div class=\"col-sm-5\" style=\"padding:0;margin:0;\">\n              <button type=\"submit\" [disabled]=\"registerForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n              <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\">Reset</button>\n              <button type=\"button\" [disabled]=\"this.loading == true\" (click)=\"onLogin()\" class=\"btn btn-info\">Back to Login</button>\n          </div>\n          <div class=\"col-sm-5\" style=\"text-align:right\">\n              <sup>*</sup> required\n          </div>\n      </div>\n  </form>\n\n</div>"

/***/ }),

/***/ "./src/app/components/user/register/register.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var RegisterComponent = /** @class */ (function () {
    function RegisterComponent(fb, userService, notifService, router, toastr, globals, nav) {
        this.fb = fb;
        this.userService = userService;
        this.notifService = notifService;
        this.router = router;
        this.toastr = toastr;
        this.globals = globals;
        this.nav = nav;
        this.loading = false;
        this.name = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.email = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].email]);
        this.contactno = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankaccno = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankaccname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankcode = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.bankname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.username = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].minLength(4), __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].maxLength(16)]);
        this.password = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{6,12}$')]);
        this.retypepass = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    RegisterComponent.prototype.ngOnInit = function () {
        this.nav.disableLink();
        this.kaxeturl = this.globals.kaxeturl;
        this.registerForm = this.fb.group({
            name: this.name,
            email: this.email,
            contactno: this.contactno,
            bankaccno: this.bankaccno,
            bankaccname: this.bankaccname,
            bankcode: this.bankcode,
            bankname: this.bankname,
            username: this.username,
            passwordGroup: this.fb.group({
                password: this.password,
                retypepass: this.retypepass,
            }, { validator: comparePassword })
        });
    };
    /*   registerUser(formdata:any): void {
        if (this.registerForm.dirty && this.registerForm.valid) {
          let theForm = this.registerForm.value;
          const thePass = this.registerForm.value.passwordGroup.password;
          theForm.password = thePass;
          delete theForm.passwordGroup;
          this.loading = true;
          this.userService.register(theForm)
          .subscribe(data => {
            if (data.success === false) {
              this.loading = false;
              this.registerForm.reset();
              this.toastr.error(data.message);
            } else {
              //this.toastr.success(data.message);
              //this.loading = false;
              const nm = data.name;
              let payload: any = {};
              payload.emailto = theForm.email;
              payload.vlink = data.vlink;
              this.notifService.sendemailverification(payload)
              .subscribe(data => {
                if (data.success === false) {
                  this.loading = false;
                  this.router.navigate([`postregistered/err?${theForm.email}`]);
                } else {
                  this.loading = false;
                  this.router.navigate([`postregistered/${nm}?${theForm.email}`]);
                }
              },
              err => {
                this.loading = false;
                this.toastr.error(err);
                //console.log(err);
              });
              this.registerForm.reset();
            }
            //this.registerForm.reset();
          },
          err => {
            this.loading = false;
            //console.log(err);
            this.toastr.error(err);
          });
    
        }
      } */
    RegisterComponent.prototype.registerUser = function (formdata) {
        var _this = this;
        if (this.registerForm.dirty && this.registerForm.valid) {
            var theForm_1 = this.registerForm.value;
            var thePass = this.registerForm.value.passwordGroup.password;
            theForm_1.password = thePass;
            delete theForm_1.passwordGroup;
            this.loading = true;
            this.userService.registerlabel(theForm_1)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.toastr.error(data.message);
                    _this.router.navigate(["postregistered/err?" + theForm_1.email]);
                }
                else {
                    //this.toastr.success(data.message);
                    //this.loading = false;
                    var nm = data.name;
                    _this.loading = false;
                    _this.router.navigate(["postregistered/" + nm + "?" + theForm_1.email]);
                }
                _this.registerForm.reset();
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    RegisterComponent.prototype.onLogin = function () {
        window.open(this.kaxeturl.toString());
    };
    RegisterComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-register',
            template: __webpack_require__("./src/app/components/user/register/register.component.html"),
            styles: [__webpack_require__("./src/app/components/user/register/register.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_5__services_notif_service__["a" /* NotifService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_6__app_global__["a" /* Globals */],
            __WEBPACK_IMPORTED_MODULE_7__services_navbar_service__["a" /* NavbarService */]])
    ], RegisterComponent);
    return RegisterComponent;
}());

function comparePassword(c) {
    var passwordControl = c.get('password');
    var confirmControl = c.get('retypepass');
    if (passwordControl.pristine || confirmControl.pristine) {
        return null;
    }
    if (passwordControl.value === confirmControl.value) {
        return null;
    }
    return { 'mismatchedPassword': true };
}


/***/ }),

/***/ "./src/app/components/user/resetuserpasswd/resetuserpasswd.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/resetuserpasswd/resetuserpasswd.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n    <div class=\"page-header\">\n        <h3>Reset Password</h3>\n    </div>\n    <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n    <form [formGroup]=\"passwordForm\" (ngSubmit)=\"resetPassword(passwordForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n  \n        <div formGroupName=\"passwordGroup\" [ngClass]=\"{'has-error': passwordForm.get('passwordGroup').errors }\">\n  \n            <div class=\"form-group\" [ngClass]=\"{'has-error': passwordForm.get('passwordGroup.password').invalid && passwordForm.get('passwordGroup.password').dirty}\">\n                <label for=\"password\" class=\"col-sm-2 control-label\">New Password</label>\n                <div class=\"input-group col-sm-10\">\n                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-asterisk\"></i></div>\n                    <input [disabled]=\"this.loading == true\" type=\"password\" class=\"form-control\" id=\"password\" [formControl]=\"password\" placeholder=\"New Pasword\">\n                </div>\n                <div class=\"text-danger\"  *ngIf=\"passwordForm.get('passwordGroup.password').dirty && passwordForm.get('passwordGroup.password').errors\">\n                    <span class=\"col-sm-2\"></span>\n                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('passwordGroup.password').errors.required\">\n                        Please enter password\n                    </span>\n                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('passwordGroup.password').errors.pattern\">\n                        Password must be minimum 6 and maximum 12 characters AND contain one letter, number & special characters\n                    </span>\n                </div>\n            </div>\n            <div class=\"form-group\" [ngClass]=\"{'has-error': passwordForm.get('passwordGroup.retypepass').invalid && passwordForm.get('passwordGroup.retypepass').dirty}\">\n                <label for=\"retypepass\" class=\"col-sm-2 control-label\">Retype Password <sup>*</sup></label>\n                <div class=\"input-group col-sm-10\">\n                    <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-asterisk\"></i></div>\n                    <input [disabled]=\"this.loading == true\" type=\"password\" class=\"form-control\" [formControl]=\"retypepass\" id=\"retypepass\" placeholder=\"Retype Password\">\n                </div>\n                <div class=\"text-danger\" *ngIf=\"(passwordForm.get('passwordGroup.retypepass').touched || passwordForm.get('passwordGroup.retypepass').dirty) && (passwordForm.get('passwordGroup.retypepass').errors || passwordForm.get('passwordGroup').errors)\">\n                    <span class=\"col-sm-2\"></span>\n                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('passwordGroup.retypepass').errors?.required\">\n                        Please confirm your password\n                    </span>\n                    <span class=\"col-sm-10\" style=\"padding:4px 0 0\" *ngIf=\"passwordForm.get('passwordGroup').errors?.mismatchedPassword\">\n                        Password do not match\n                    </span>\n                </div>\n            </div>\n  \n        </div>\n    \n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\"></label>\n            <div class=\"col-sm-10\">\n                <button type=\"submit\" [disabled]=\"passwordForm.invalid || this.loading == true\" class=\"btn btn-primary\">Submit</button>\n            </div>\n        </div>\n    </form>\n  \n  </div>\n  "

/***/ }),

/***/ "./src/app/components/user/resetuserpasswd/resetuserpasswd.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ResetuserpasswdComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_navbar_service__ = __webpack_require__("./src/app/services/navbar.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ResetuserpasswdComponent = /** @class */ (function () {
    function ResetuserpasswdComponent(fb, route, router, notifService, msconfigService, toastr, userService, nav) {
        this.fb = fb;
        this.route = route;
        this.router = router;
        this.notifService = notifService;
        this.msconfigService = msconfigService;
        this.toastr = toastr;
        this.userService = userService;
        this.nav = nav;
        this.loading = false;
        this.password = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].pattern('^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{6,12}$')]);
        this.retypepass = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ResetuserpasswdComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.nav.disableLink();
        this.loading = true;
        this.sub = this.route.queryParams.subscribe(function (params) {
            var hash = params['id'];
            _this.notifService.pageverification(hash)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.router.navigate(['../errorpage']);
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.vhash = data.hash;
                }
            }, function (err) {
                _this.loading = false;
                _this.router.navigate(['../errorpage']);
                //console.log(err);
                _this.toastr.error(err);
            });
        });
        this.passwordForm = this.fb.group({
            passwordGroup: this.fb.group({
                password: this.password,
                retypepass: this.retypepass,
            }, { validator: comparePassword })
        });
    };
    ResetuserpasswdComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ResetuserpasswdComponent.prototype.resetPassword = function (formdata) {
        var _this = this;
        if (this.passwordForm.dirty && this.passwordForm.valid) {
            var theForm = this.passwordForm.value;
            var thePass = this.passwordForm.value.passwordGroup.password;
            theForm.password = thePass;
            theForm.hash = this.vhash;
            delete theForm.passwordGroup;
            this.loading = true;
            this.userService.doResetPasswd(theForm)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    _this.toastr.error(data.message);
                    _this.router.navigate(['postresetpasswd'], {
                        queryParams: {
                            id: _this.vhash,
                            hasl: 'err'
                        }
                    });
                }
                else {
                    _this.loading = false;
                    //this.toastr.success(data.message);
                    _this.router.navigate(['postresetpasswd'], {
                        queryParams: {
                            id: _this.vhash,
                            hasl: 'scs'
                        }
                    });
                }
                _this.passwordForm.reset();
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    ResetuserpasswdComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-resetuserpasswd',
            template: __webpack_require__("./src/app/components/user/resetuserpasswd/resetuserpasswd.component.html"),
            styles: [__webpack_require__("./src/app/components/user/resetuserpasswd/resetuserpasswd.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__services_notif_service__["a" /* NotifService */],
            __WEBPACK_IMPORTED_MODULE_4__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_5__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_7__services_navbar_service__["a" /* NavbarService */]])
    ], ResetuserpasswdComponent);
    return ResetuserpasswdComponent;
}());

function comparePassword(c) {
    var passwordControl = c.get('password');
    var confirmControl = c.get('retypepass');
    if (passwordControl.pristine || confirmControl.pristine) {
        return null;
    }
    if (passwordControl.value === confirmControl.value) {
        return null;
    }
    return { 'mismatchedPassword': true };
}


/***/ }),

/***/ "./src/app/components/user/updateemail/updateemail.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user/updateemail/updateemail.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>Change email</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div class=\"clearfix\">\n    <form [formGroup]=\"profileForm\" (ngSubmit)=\"updateEmail(profileForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\">\n            <label for=\"oldemail\" class=\"col-sm-2 control-label\">Existing Email</label>\n            <div class=\"input-group col-sm-10\">\n              <div class=\"input-group-addon\">@</div>\n                <div class=\"form-ele\">{{ userObj.email }}</div>\n            </div>\n        </div>\n        <div class=\"form-group\" [ngClass]=\"{'has-error': profileForm.get('email').invalid && profileForm.get('email').dirty}\">\n          <label for=\"email\" class=\"col-sm-2 control-label\">New Email</label>\n          <div class=\"input-group col-sm-10\">\n            <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-pencil\"></i></div>\n              <input [disabled]=\"this.loading == true\" type=\"text\" class=\"form-control\" id=\"email\" [formControl]=\"email\" placeholder=\"New Email\">\n          </div>\n          <div class=\"text-danger\"  *ngIf=\"profileForm.get('email').dirty && profileForm.get('email').errors\">\n              <span class=\"col-sm-2\"></span>\n              <span class=\"col-sm-10\" style=\"padding:4px 0 0\">\n                  Please enter email\n              </span>\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <label class=\"col-sm-2 control-label\"></label>\n          <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n              <button type=\"submit\" [disabled]=\"profileForm.invalid || this.loading == true\" class=\"btn btn-primary\">Update</button>\n              <button type=\"reset\" [disabled]=\"this.loading == true\" class=\"btn btn-default\" (click)=\"onBack()\">Cancel</button>\n          </div>\n      </div>\n    </form>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/components/user/updateemail/updateemail.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UpdateemailComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UpdateemailComponent = /** @class */ (function () {
    function UpdateemailComponent(fb, authService, userService, router, toastr) {
        this.fb = fb;
        this.authService = authService;
        this.userService = userService;
        this.router = router;
        this.toastr = toastr;
        this.loading = false;
        this.email = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].email]);
    }
    UpdateemailComponent.prototype.ngOnInit = function () {
        this.userObj = this.authService.currentUser;
        this.profileForm = this.fb.group({
            email: this.email
        });
    };
    UpdateemailComponent.prototype.updateEmail = function (formdata) {
        var _this = this;
        if (this.profileForm.dirty && this.profileForm.valid) {
            this.profileForm.value.usertype = this.userObj.usertype;
            this.loading = true;
            this.userService.updateEmail(this.userObj.userid, this.profileForm.value)
                .subscribe(function (data) {
                if (data.success === false) {
                    _this.loading = false;
                    if (data.errcode) {
                        _this.authService.logout();
                        _this.router.navigate(['../errorpage']);
                    }
                    _this.toastr.error(data.message);
                }
                else {
                    _this.loading = false;
                    _this.toastr.success(data.message);
                    var theUser = JSON.parse(localStorage.getItem('currentUser'));
                    theUser.user.email = _this.profileForm.value.email;
                    theUser.user.verified_email = "N";
                    localStorage.setItem('currentUser', JSON.stringify(theUser));
                }
            }, function (err) {
                _this.loading = false;
                //console.log(err);
                _this.toastr.error(err);
            });
        }
    };
    UpdateemailComponent.prototype.onBack = function () {
        this.router.navigate(['/report']);
    };
    UpdateemailComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-updateemail',
            template: __webpack_require__("./src/app/components/user/updateemail/updateemail.component.html"),
            styles: [__webpack_require__("./src/app/components/user/updateemail/updateemail.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */]])
    ], UpdateemailComponent);
    return UpdateemailComponent;
}());



/***/ }),

/***/ "./src/app/components/usermgt/usermgt.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/usermgt/usermgt.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>LABEL APPROVAL</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div *ngIf=\"this.loading == false\" class=\"panel panel-info\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Search Parameter</h3>\n        </div>\n        <div class=\"panel-body\">\n          <form [formGroup]=\"reportForm\" (ngSubmit)=\"getReport(reportForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n    \n              <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label for=\"username\" class=\"col-sm-2 paddingsearch\">Username</label>\n                      <div class=\"col-sm-10\">\n                          <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                          <input type=\"text\" class=\"form-control\" id=\"username\" [formControl]=\"username\" placeholder=\"User Name\">\n                      </div>\n                  </div>\n                  <div class=\"col-sm-6 col-md-6\">\n                    <label for=\"name\" class=\"col-sm-2 paddingsearch\">Name</label>\n                    <div class=\"col-sm-10\">\n                        <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div> -->\n                        <input type=\"text\" class=\"form-control\" id=\"name\" [formControl]=\"name\" placeholder=\"Label Name\">\n                    </div>\n                  </div>\n              </div>\n                <div class=\"row rowmarginsearch\">\n                  <div class=\"col-sm-6 col-md-6\">\n                      <label class=\"col-sm-2 paddingsearch\">      </label>\n                      <div class=\"col-sm-5\">\n                        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reportForm.invalid\">Submit</button>\n                      </div>\n                  </div>                  \n              </div>\n          </form>\n        </div>\n    </div>\n\n  <div class=\"panel panel-danger\" *ngIf=\"this.loading == false && labellist && totalrows < 1\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Pending Approval List</h3> \n        </div>\n  \n        <div class=\"panel-body\">\n            No Pending Labels found.\n        </div>\n    </div>\n  \n    <div class=\"panel panel-default\" *ngIf=\"this.loading == false && labellist && totalrows > 0 && this.loading == false\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">{{reportTitle}} <b> ({{ totalrows }} records found)</b> </h3> \n        </div>\n        <div class=\"panel-body\">\n                <div class=\"table-responsive\"> \n                        <table class=\"table table-hover\">\n                            <thead>\n                                    <tr>\n                                        <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('username')\">User Name</a></th>\n                                        <th scope=\"col\" width=\"30%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('name')\">Label Name</a></th>\n                                        <th scope=\"col\" width=\"20%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('email')\">Email</a></th>\n                                        <!-- <th width=\"10%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('verified_email')\">Email Verified?</a></th> -->\n                                        <th scope=\"col\" width=\"10%\"><a style=\"cursor:pointer\" (click)=\"sortLabel('status')\">Status</a></th>\n                                        <th scope=\"col\" width=\"20%\">Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr *ngFor='let lbl of labellist; let lblIndex = index'>\n                                        <td scope=\"row\" data-label=\"Username\"><a style=\"cursor:pointer\" (click)=\"showLabel(lbl._id)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Detail\">{{ lbl.username}}</a></td>\n                                        <td data-label=\"Name\">{{ lbl.name}}</td>\n                                        <td data-label=\"Email\">{{ lbl.email}}</td>\n                                        <!-- <td>{{ lbl.verified_email }}</td> -->\n                                        <td data-label=\"Status\">{{ lbl.stsvalue}}</td>\n                                        <td data-label=\"Action\">\n                                            <!-- <button type=\"button\" class=\"btn-xs btn-success\" aria-label=\"Activate\" (click)=\"activateLabel(lbl._id, lbl.name, lbl.status)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Activate Label\">\n                                                <span class=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span>\n                                            </button> -->\n                                            <a style=\"cursor:pointer;color:darkgreen\" aria-label=\"Approve\" (click)=\"activateLabel(lblIndex, lbl._id, lbl.name, lbl.status, lbl.email,lbl.username)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Approve Label\"><i class=\"fa fa-check fa-2x\"></i></a>\n                                            <!-- <button type=\"button\" class=\"btn-xs btn-danger\" aria-label=\"Deactivate\" (click)=\"deactivateLabel(lbl._id, lbl.name, lbl.status)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Deactivate Label\">\n                                                <span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span>\n                                            </button> -->\n                                            &nbsp;&nbsp;&nbsp;\n                                            <a style=\"cursor:pointer;color:red\" aria-label=\"Reject\" (click)=\"deactivateLabel(lblIndex, lbl._id, lbl.name, lbl.status, lbl.email, lbl.username)\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Reject Label\"><i class=\"fa fa-times fa-2x\"></i></a>\n                                        </td>\n                                    </tr>     \n                                </tbody>    \n                        </table>\n                </div>\n                <div style=\"text-align:center\" *ngIf=\"labellist && totalrows > 10\">\n                        <nav aria-label=\"Page navigation\">\n                            <ul class=\"pagination\">\n                                <li *ngFor=\"let item of createPager(pgCounter); let idx = index\">\n                                    <a [ngClass]=\"{'selected': qpage == idx + 1 }\" class=\"selected\" style=\"cursor:pointer\" (click) = \"setPage(idx + 1)\">{{ idx + 1 }}</a>\n                                </li>\n                            </ul>\n                        </nav>\n                </div> \n        </div>\n    </div>\n</div>\n"

/***/ }),

/***/ "./src/app/components/usermgt/usermgt.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsermgtComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_admin_usermgt_service__ = __webpack_require__("./src/app/services/admin/usermgt.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__ = __webpack_require__("./src/app/services/admin/msconfig.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_notif_service__ = __webpack_require__("./src/app/services/notif.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_global__ = __webpack_require__("./src/app/app.global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var UsermgtComponent = /** @class */ (function () {
    function UsermgtComponent(fb, authService, labelmgtService, msconfigService, route, router, toastr, datePipe, notifService, globals) {
        var _this = this;
        this.fb = fb;
        this.authService = authService;
        this.labelmgtService = labelmgtService;
        this.msconfigService = msconfigService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.datePipe = datePipe;
        this.notifService = notifService;
        this.globals = globals;
        this.loading = false;
        this.name = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        this.username = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].nullValidator]);
        // subscribe to the router events. Store the subscription so we can
        // unsubscribe later.
        this.navigationSubscription = this.router.events.subscribe(function (e) {
            // If it is a NavigationEnd event re-initalise the component
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* NavigationEnd */]) {
                _this.ngOnInit();
            }
        });
    }
    UsermgtComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userObj = this.authService.currentUser;
        this.reportForm = this.fb.group({
            name: this.name,
            username: this.username,
        });
        this.urlkaxet = this.globals.kaxeturl;
        this.route.queryParams.forEach(function (params) {
            _this.qlabelname = params['name'] || '';
            _this.qusername = params['username'] || '';
            _this.qpage = params['page'] || '';
            _this.qsort = params['sortby'] || '';
            var payload = {};
            payload.name = _this.qlabelname;
            payload.username = _this.qusername;
            payload.page = _this.qpage;
            payload.sortby = _this.qsort;
            _this.fetchReport(_this.userObj.userid, payload);
            _this.reportForm.patchValue({
                name: _this.qlabelname,
                username: _this.qusername
            });
        });
    };
    UsermgtComponent.prototype.ngOnDestroy = function () {
        if (this.navigationSubscription) {
            this.navigationSubscription.unsubscribe();
        }
    };
    UsermgtComponent.prototype.getReport = function (formdata) {
        if (this.reportForm.valid) {
            //this.fetchReport(this.userObj.userid, this.reportForm.value);
            this.router.navigate(['usermanagement'], {
                queryParams: {
                    name: this.reportForm.value.name,
                    username: this.reportForm.value.username,
                    page: 1,
                    sortby: null
                }
            });
        }
    };
    UsermgtComponent.prototype.fetchReport = function (userid, formval) {
        var _this = this;
        this.loading = true;
        this.labelmgtService.getPendingUserLabels(formval)
            .subscribe(function (data) {
            if (data.success === false) {
                _this.loading = false;
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.loading = false;
                _this.labellist = data.data;
                _this.totalrows = +data.totalcount;
                _this.pgCounter = Math.floor((_this.totalrows + 10 - 1) / 10);
                _this.qlabelname = formval.name;
                _this.qusername = formval.username;
                _this.reportTitle = 'Pending Approval List ';
                _this.reportForm.patchValue({
                    name: _this.qlabelname,
                    username: _this.qusername
                });
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    UsermgtComponent.prototype.setPage = function (page) {
        this.router.navigate(['usermanagement'], {
            queryParams: {
                name: this.qlabelname,
                username: this.qusername,
                page: page,
                sortby: this.qsort
            }
        });
    };
    UsermgtComponent.prototype.createPager = function (number) {
        var items = [];
        for (var i = 1; i <= number; i++) {
            items.push(i);
        }
        return items;
    };
    UsermgtComponent.prototype.sortLabel = function (sortby) {
        if (this.qsort === '') {
            this.qsort = sortby;
        }
        else if (this.qsort.indexOf('-') > -1) {
            this.qsort = sortby;
        }
        else {
            this.qsort = '-' + sortby;
        }
        this.router.navigate(['usermanagement'], {
            queryParams: {
                name: this.qlabelname,
                username: this.qusername,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    UsermgtComponent.prototype.activateLabel = function (idx, userid, labelname, status, email, username) {
        var _this = this;
        this.loading = true;
        if (status == 'STSACT') {
            this.loading = false;
            this.toastr.warning('The label is already active.');
        }
        else {
            if (status === 'STSRJCT') {
                this.loading = false;
                this.toastr.warning('The label is already rejected.');
            }
            else {
                if (confirm('Do you really want to activate this label: ' + labelname + ' record?')) {
                    var payloadData = {};
                    payloadData.labelid = userid;
                    payloadData.emailto = email;
                    payloadData.vlink = this.urlkaxet;
                    payloadData.username = username;
                    payloadData.status = 'STSACT';
                    this.labelmgtService.pubupdateLabelstatus(this.userObj.userid, payloadData)
                        .subscribe(function (data) {
                        if (data.success === false) {
                            _this.loading = false;
                            if (data.errcode) {
                                _this.authService.logout();
                                _this.router.navigate(['errorpage']);
                            }
                            _this.toastr.error(data.message);
                        }
                        else {
                            _this.loading = false;
                            _this.labellist.splice(idx, 1);
                            _this.totalrows = _this.totalrows - 1;
                            _this.toastr.success(data.message);
                            /* this.router.navigate(['usermanagement'],
                              {
                                queryParams: {
                                  name: this.qlabelname,
                                  username: this.qusername,
                                  page: this.qpage || 1,
                                  sortby: this.qsort }
                              }
                            ); */
                        }
                    }, function (err) {
                        _this.loading = false;
                        //console.log(err);
                        _this.toastr.error(err);
                    });
                }
                else {
                    this.loading = false;
                }
            }
        }
    };
    /*   activateLabel(userid: string, labelname: string, status: string, email: string, username: string) {
    
        this.loading = true;
        if (status == 'STSACT') {
          this.loading = false;
          this.toastr.warning('The label is already active.');
        } else {
          if (status === 'STSRJCT') {
            this.loading = false;
            this.toastr.warning('The label is already rejected.');
          } else {
            if(confirm('Do you really want to activate this label: ' + labelname + ' record?')){
              let payloadData: any = {};
              payloadData.status = 'STSACT';
              this.labelmgtService.updateLabelStatus(userid, payloadData)
              .subscribe(data => {
                if (data.success === false) {
                  this.loading = false;
                  if (data.errcode){
                    this.authService.logout();
                    this.router.navigate(['errorpage']);
                  }
                  this.toastr.error(data.message);
                } else {
                  let payload: any = {};
                  payload.emailto = email;
                  payload.vlink = this.urlkaxet;
                  payload.username = username;
                  let successmsg = data.message;
                  this.notifService.sendemailwelcome(payload)
                  .subscribe(data => {
                    this.loading = false;
                    if (data.success === true) {
                      this.toastr.success(successmsg);
                    } else {
                      this.toastr.warning(successmsg + '. However welcome email not send. ' + data.message);
                    }
                    this.router.navigate(['usermanagement'],
                      {
                        queryParams: {
                          name: this.qlabelname,
                          username: this.qusername,
                          page: this.qpage || 1,
                          sortby: this.qsort }
                      }
                    );
                  },
                  err => {
                    this.loading = false;
                    //console.log(err);
                    this.toastr.error(err);
                  });
                }
              },
              err => {
                this.loading = false;
                //console.log(err);
                this.toastr.error(err);
              });
            } else {
              this.loading = false;
            }
          }
        }
      } */
    UsermgtComponent.prototype.deactivateLabel = function (idx, userid, labelname, status, email, username) {
        var _this = this;
        this.loading = true;
        if (status === 'STSPEND') {
            if (confirm('Do you really want to reject this label: ' + labelname + ' record?')) {
                var payloadData = {};
                payloadData.labelid = userid;
                payloadData.username = username;
                payloadData.status = 'STSRJCT';
                this.labelmgtService.pubupdateLabelstatus(this.userObj.userid, payloadData)
                    .subscribe(function (data) {
                    if (data.success === false) {
                        _this.loading = false;
                        if (data.errcode) {
                            _this.authService.logout();
                            _this.router.navigate(['errorpage']);
                        }
                        _this.toastr.error(data.message);
                    }
                    else {
                        _this.loading = false;
                        _this.labellist.splice(idx, 1);
                        _this.totalrows = _this.totalrows - 1;
                        _this.toastr.success(data.message);
                        /* this.router.navigate(['usermanagement'],
                            {
                              queryParams: {
                                name: this.qlabelname,
                                username: this.qusername,
                                page: this.qpage || 1,
                                sortby: this.qsort }
                            }
                        ); */
                    }
                }, function (err) {
                    _this.loading = false;
                    //console.log(err);
                    _this.toastr.error(err);
                });
            }
            else {
                this.loading = false;
            }
        }
        else {
            if (status != 'STSACT') {
                this.loading = false;
                this.toastr.warning('The label is already NOT active.');
            }
            else {
                if (confirm('Do you really want to deactivate this label: ' + labelname + ' record?')) {
                    var payloadData = {};
                    payloadData.labelid = userid;
                    payloadData.emailto = email;
                    payloadData.username = username;
                    payloadData.status = 'STSINACT';
                    this.labelmgtService.pubupdateLabelstatus(this.userObj.userid, payloadData)
                        .subscribe(function (data) {
                        if (data.success === false) {
                            _this.loading = false;
                            if (data.errcode) {
                                _this.authService.logout();
                                _this.router.navigate(['errorpage']);
                            }
                            _this.toastr.error(data.message);
                        }
                        else {
                            _this.loading = false;
                            _this.labellist.splice(idx, 1);
                            _this.totalrows = _this.totalrows - 1;
                            _this.toastr.success(data.message);
                            /*               this.router.navigate(['usermanagement'],
                                              {
                                                queryParams: {
                                                  name: this.qlabelname,
                                                  username: this.qusername,
                                                  page: this.qpage || 1,
                                                  sortby: this.qsort }
                                              }
                                          ); */
                        }
                    }, function (err) {
                        _this.loading = false;
                        //console.log(err);
                        _this.toastr.error(err);
                    });
                }
                else {
                    this.loading = false;
                }
            }
        }
    };
    /*   deactivateLabel(userid: string, labelname: string, status: string, email: string, username: string) {
        
        this.loading = true;
        if (status === 'STSPEND') {
          if(confirm('Do you really want to reject this label: ' + labelname + ' record?')){
            let payloadData: any = {};
            payloadData.status = 'STSRJCT';
            this.labelmgtService.updateLabelStatus(userid, payloadData)
            .subscribe(data => {
              if (data.success === false) {
                this.loading = false;
                if (data.errcode){
                  this.authService.logout();
                  this.router.navigate(['errorpage']);
                }
                this.toastr.error(data.message);
              } else {
                this.loading = false;
                this.toastr.success(data.message);
                this.router.navigate(['usermanagement'],
                    {
                      queryParams: {
                        name: this.qlabelname,
                        username: this.qusername,
                        page: this.qpage || 1,
                        sortby: this.qsort }
                    }
                );
              }
            },
            err => {
              this.loading = false;
              //console.log(err);
              this.toastr.error(err);
            });
          } else {
            this.loading = false;
          }
        } else {
          if (status != 'STSACT') {
            this.loading = false;
            this.toastr.warning('The label is already NOT active.');
          } else {
            if(confirm('Do you really want to deactivate this label: ' + labelname + ' record?')){
              let payloadData: any = {};
              payloadData.status = 'STSINACT';
              this.labelmgtService.updateLabelStatus(userid, payloadData)
              .subscribe(data => {
                if (data.success === false) {
                  this.loading = false;
                  if (data.errcode){
                    this.authService.logout();
                    this.router.navigate(['errorpage']);
                  }
                  this.toastr.error(data.message);
                } else {
                  let payload: any = {};
                  payload.emailto = email;
                  payload.username = username;
                  let successmsg = data.message;
                  this.notifService.senddeactivation(payload)
                  .subscribe(data => {
                    this.loading = false;
                    if (data.success === true) {
                      this.toastr.success(successmsg);
                    } else {
                      this.toastr.warning(successmsg + '. However welcome email not send. ' + data.message);
                    }
                    this.router.navigate(['usermanagement'],
                        {
                          queryParams: {
                            name: this.qlabelname,
                            username: this.qusername,
                            page: this.qpage || 1,
                            sortby: this.qsort }
                        }
                    );
                  },
                  err => {
                    this.loading = false;
                    //console.log(err);
                    this.toastr.error(err);
                  });
                }
              },
              err => {
                this.loading = false;
                //console.log(err);
                this.toastr.error(err);
              });
            } else {
              this.loading = false;
            }
          }
        }
      } */
    UsermgtComponent.prototype.showLabel = function (userid) {
        this.router.navigate(["viewlabel/" + userid], {
            queryParams: {
                name: this.qlabelname,
                username: this.qusername,
                page: this.qpage || 1,
                sortby: this.qsort
            }
        });
    };
    UsermgtComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-usermgt',
            template: __webpack_require__("./src/app/components/usermgt/usermgt.component.html"),
            styles: [__webpack_require__("./src/app/components/usermgt/usermgt.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_6__services_admin_usermgt_service__["a" /* UsermgtService */],
            __WEBPACK_IMPORTED_MODULE_7__services_admin_msconfig_service__["a" /* MsconfigService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__common_toastr_service__["a" /* ToastrService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common__["DatePipe"],
            __WEBPACK_IMPORTED_MODULE_8__services_notif_service__["a" /* NotifService */],
            __WEBPACK_IMPORTED_MODULE_9__app_global__["a" /* Globals */]])
    ], UsermgtComponent);
    return UsermgtComponent;
}());



/***/ }),

/***/ "./src/app/components/usermgt/viewlabel/viewlabel.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/usermgt/viewlabel/viewlabel.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container pagecontainer\">\n  <div class=\"page-header\">\n      <h3>LABEL DETAILS</h3>\n  </div>\n  <ngx-loading [show]=\"loading\" [config]=\"{ backdropBorderRadius: '14px' }\"></ngx-loading>\n  <div class=\"clearfix\">\n    <form [formGroup]=\"profileForm\" (ngSubmit)=\"updateUser(profileForm.value)\" class=\"form-horizontal\" novalidate autocomplete=\"off\">\n        <div class=\"form-group\">\n            <label for=\"username\" class=\"col-sm-2 control-label\">Username</label>\n            <div class=\"form-ele col-sm-10\">{{ user.username }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-user\"></i></div>\n                <div class=\"form-ele\">{{ user.username }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"name\" class=\"col-sm-2 control-label\">Name</label>\n            <div class=\"form-ele col-sm-10\">{{ user.name }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon-font\"></i></div>\n                <div class=\"form-ele\">{{ user.name }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"email\" class=\"col-sm-2 control-label\">Email</label>\n            <div class=\"form-ele col-sm-10\">{{ user.email }}\n                <!-- <div class=\"input-group-addon\">@</div>\n                <div class=\"form-ele\">{{ user.email }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"contactno\" class=\"col-sm-2 control-label\">Contact No</label>\n            <div class=\"form-ele col-sm-10\">{{ user.contactno }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-bold\"></i></div>\n                <div class=\"form-ele\">{{ user.contactno }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"bankaccno\" class=\"col-sm-2 control-label\">Bank Account No</label>\n            <div class=\"form-ele col-sm-10\">{{ user.bankaccno }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-bold\"></i></div>\n                <div class=\"form-ele\">{{ user.bankaccno }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"bankaccname\" class=\"col-sm-2 control-label\">Bank Account Name</label>\n            <div class=\"form-ele col-sm-10\">{{ user.bankaccname }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-bold\"></i></div>\n                <div class=\"form-ele\">{{ user.bankaccno }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"bankname\" class=\"col-sm-2 control-label\">Bank Name</label>\n            <div class=\"form-ele col-sm-10\">{{ user.bankname }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-bold\"></i></div>\n                <div class=\"form-ele\">{{ user.bankname }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"lastlogin\" class=\"col-sm-2 control-label\">Last Login</label>\n            <div class=\"form-ele col-sm-10\">{{ user.lastlogin | date:'medium' }}\n                <!-- <div class=\"input-group-addon\"><i class=\"glyphicon glyphicon glyphicon-calendar\"></i></div>\n                <div class=\"form-ele\">{{ user.lastlogin | date:'medium' }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"balance\" class=\"col-sm-2 control-label\">Balance</label>\n            <div class=\"form-ele col-sm-10\">{{ user.balance | currency:'IDR'}}\n                <!-- <div class=\"input-group-addon\">Rp</div>\n                <div class=\"form-ele\">{{ user.balance }}</div> -->\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">       </label>\n            <div class=\"col-sm-10\" style=\"padding:0;margin:0;\">\n                <button type=\"button\" (click)=\"onBack()\" class=\"btn btn-default\">Back</button>\n            </div>\n        </div>\n    </form>                \n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/components/usermgt/viewlabel/viewlabel.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewlabelComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ViewlabelComponent = /** @class */ (function () {
    function ViewlabelComponent(fb, authService, userService, route, router, toastr) {
        this.fb = fb;
        this.authService = authService;
        this.userService = userService;
        this.route = route;
        this.router = router;
        this.toastr = toastr;
        this.loading = false;
        this.name = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.email = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].email]);
        this.contactno = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankaccno = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.bankname = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.lastlogin = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
        this.balance = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormControl */]('', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["k" /* Validators */].required]);
    }
    ViewlabelComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.sub = this.route.params.subscribe(function (params) {
            var labelid = params['id'];
            _this.getLabel(labelid);
        });
        this.profileForm = this.fb.group({
            name: this.name,
            email: this.email,
            contactno: this.contactno,
            bankaccno: this.bankaccno,
            bankname: this.bankname,
            lastlogin: this.lastlogin,
            balance: this.balance
        });
    };
    ViewlabelComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ViewlabelComponent.prototype.getLabel = function (id) {
        var _this = this;
        this.userService.getUser(id).subscribe(function (data) {
            if (data.success === false) {
                if (data.errcode) {
                    _this.authService.logout();
                    _this.router.navigate(['errorpage']);
                }
                _this.toastr.error(data.message);
            }
            else {
                _this.user = data.data[0];
                _this.populateForm(_this.user);
            }
        }, function (err) {
            _this.loading = false;
            //console.log(err);
            _this.toastr.error(err);
        });
    };
    ViewlabelComponent.prototype.populateForm = function (data) {
        this.profileForm.patchValue({
            name: data.name,
            email: data.email,
            contactno: data.contactno,
            bankaccno: data.bankaccno,
            bankname: data.bankname,
            lastlogin: this.lastlogin,
            balance: this.balance
        });
    };
    ViewlabelComponent.prototype.onBack = function () {
        this.router.navigate(['../usermanagement'], { preserveQueryParams: true });
    };
    ViewlabelComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-viewlabel',
            template: __webpack_require__("./src/app/components/usermgt/viewlabel/viewlabel.component.html"),
            styles: [__webpack_require__("./src/app/components/usermgt/viewlabel/viewlabel.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_5__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */]])
    ], ViewlabelComponent);
    return ViewlabelComponent;
}());



/***/ }),

/***/ "./src/app/guards/auth.guard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_auth_service__ = __webpack_require__("./src/app/services/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__ = __webpack_require__("./src/app/common/toastr.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AuthGuard = /** @class */ (function () {
    function AuthGuard(authService, router, toastr) {
        this.authService = authService;
        this.router = router;
        this.toastr = toastr;
    }
    AuthGuard.prototype.canActivate = function (route, state) {
        return this.checkLoggedIn(state.url);
    };
    AuthGuard.prototype.checkLoggedIn = function (url) {
        if (this.authService.isLoggedIn()) {
            return true;
        }
        this.toastr.info("Please login to access this page.");
        this.router.navigate(['/login']);
        return false;
    };
    AuthGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__services_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__common_toastr_service__["a" /* ToastrService */]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./src/app/services/activitylog.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActivitylogService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ActivitylogService = /** @class */ (function () {
    function ActivitylogService(http) {
        this.http = http;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    ActivitylogService.prototype.getActivitylogAggs = function (userid, oActivitylog) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/activitylogagg/" + userid, JSON.stringify(oActivitylog), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ActivitylogService.prototype.getAdmActivitylogAggs = function (userid, oActivitylog) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/admactivitylogagg/" + userid, JSON.stringify(oActivitylog), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ActivitylogService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    ActivitylogService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], ActivitylogService);
    return ActivitylogService;
}());



/***/ }),

/***/ "./src/app/services/admin/adjustment.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdjustmentService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AdjustmentService = /** @class */ (function () {
    function AdjustmentService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.adminurl = globals.adminurl;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    AdjustmentService.prototype.saveAdjustment = function (userid, oAdjustment) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/saveadjustment/" + userid, JSON.stringify(oAdjustment), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AdjustmentService.prototype.getSumAdjustmentAggs = function (userid, oAdjustment) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/adjustmentagg/" + userid, JSON.stringify(oAdjustment), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AdjustmentService.prototype.getAdjustmentAgg = function (adjid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/api/getadjustmentagg/" + adjid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AdjustmentService.prototype.editAdjustment = function (adjid, oAdjustment) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put(this.adminurl + "/api/editadjustment/" + adjid, JSON.stringify(oAdjustment), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AdjustmentService.prototype.updateStatusadjustment = function (adjid, oAdjustment) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/updatestatusadjustment/" + adjid, JSON.stringify(oAdjustment), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AdjustmentService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    AdjustmentService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_3__app_global__["a" /* Globals */]])
    ], AdjustmentService);
    return AdjustmentService;
}());



/***/ }),

/***/ "./src/app/services/admin/msconfig.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MsconfigService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var MsconfigService = /** @class */ (function () {
    function MsconfigService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.adminurl = globals.adminurl;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    MsconfigService.prototype.uploadGenrephoto = function (oFile) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/genrephotoupload", oFile, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.deleteGenrephoto = function (oGenre) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/genrephotodelete", oGenre, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.saveMsconfig = function (userid, oMsconfig) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/msconfig/" + userid, JSON.stringify(oMsconfig), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.deleteMsconfig = function (msconfigid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.delete(this.adminurl + "/api/msconfig/" + msconfigid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.updateMsconfigfile = function (userid, oMsconfig) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put(this.adminurl + "/api/msconfig/" + userid, JSON.stringify(oMsconfig), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.getAggMsconfig = function (oMsconfig) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/mscfgaggreport", JSON.stringify(oMsconfig), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.getMsconfigAgg = function (msconfigid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/api/msconfigagg/" + msconfigid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.getMsconfig = function (msconfigid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/api/msconfig/" + msconfigid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.getMsconfigbygroup = function (msconfiggroup) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/msconfigbygroup/" + msconfiggroup, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.getMsconfigvalue = function (msconfigcode, msconfiggroup) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/msconfigvalue/" + msconfigcode + "?group=" + msconfiggroup, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.getMsconfiggroup = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/msconfiggroup", options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    MsconfigService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    MsconfigService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_3__app_global__["a" /* Globals */]])
    ], MsconfigService);
    return MsconfigService;
}());



/***/ }),

/***/ "./src/app/services/admin/songadmin.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SongadminService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SongadminService = /** @class */ (function () {
    function SongadminService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.adminurl = globals.adminurl;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    SongadminService.prototype.publishSong = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put(this.adminurl + "/api/publishsong/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongadminService.prototype.cancelpublishSong = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put(this.adminurl + "/api/cancelpublishsong/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongadminService.prototype.getAggSongs = function (oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/songadm/aggreport", JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongadminService.prototype.getAggSongsnonpublish = function (oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/songadm/aggreportnonpublish", JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongadminService.prototype.getPendingSongCount = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/songadm/pendingsongcount/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongadminService.prototype.getSong = function (songid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/api/songadm/" + songid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongadminService.prototype.getSongAgg = function (songid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/api/songaggregate/" + songid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongadminService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    SongadminService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_3__app_global__["a" /* Globals */]])
    ], SongadminService);
    return SongadminService;
}());



/***/ }),

/***/ "./src/app/services/admin/trfbalancemgt.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrfbalancemgtService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var TrfbalancemgtService = /** @class */ (function () {
    function TrfbalancemgtService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.adminurl = globals.adminurl;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    TrfbalancemgtService.prototype.getTrfbalancereqAggs = function (userid, oTrfbalancereq) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/pendingtrfbalancereq/" + userid, JSON.stringify(oTrfbalancereq), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalancemgtService.prototype.getTrfbalancereqAgg = function (trfreqid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/api/gettrfbalancereqagg/" + trfreqid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalancemgtService.prototype.getSumTrfbalancereqAggs = function (userid, oTrfbalancereq) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/trfbalancereqagg/" + userid, JSON.stringify(oTrfbalancereq), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalancemgtService.prototype.updateStatustrfbalance = function (trfbalancereqid, oTrfbalancereq) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put(this.adminurl + "/api/updatestatustrfbalancereq/" + trfbalancereqid, JSON.stringify(oTrfbalancereq), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalancemgtService.prototype.editposttrfbalance = function (trfbalancereqid, oTrfbalancereq) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put(this.adminurl + "/api/editposttrfbalancereq/" + trfbalancereqid, JSON.stringify(oTrfbalancereq), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalancemgtService.prototype.completetrfbalance = function (trfbalancereqid, oTrfbalancereq) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/completetrfbalancereq/" + trfbalancereqid, JSON.stringify(oTrfbalancereq), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalancemgtService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    TrfbalancemgtService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_3__app_global__["a" /* Globals */]])
    ], TrfbalancemgtService);
    return TrfbalancemgtService;
}());



/***/ }),

/***/ "./src/app/services/admin/usermgt.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsermgtService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var UsermgtService = /** @class */ (function () {
    function UsermgtService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.adminurl = globals.adminurl;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    UsermgtService.prototype.registerAdmin = function (oUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/registerAdmin", JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UsermgtService.prototype.getUserLabels = function (oLabels) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/userlabelreport", JSON.stringify(oLabels), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UsermgtService.prototype.getPendingUserLabels = function (oLabels) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/pendinglabelreport", JSON.stringify(oLabels), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UsermgtService.prototype.getPendingLabelCount = function (userid, oLabels) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.adminurl + "/api/pendinglabelcount/" + userid, JSON.stringify(oLabels), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UsermgtService.prototype.updateLabelStatus = function (labelid, oLabel) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put(this.adminurl + "/api/changelabelstatus/" + labelid, JSON.stringify(oLabel), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UsermgtService.prototype.pubupdateLabelstatus = function (userid, oUser) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubchangelabelstatus/" + userid, JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UsermgtService.prototype.updateLabelBalance = function (labelid, oLabel) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put(this.adminurl + "/api/changelabelbalance/" + labelid, JSON.stringify(oLabel), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UsermgtService.prototype.getLabelList = function () {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.adminurl + "/api/labellist", options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UsermgtService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    UsermgtService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_3__app_global__["a" /* Globals */]])
    ], UsermgtService);
    return UsermgtService;
}());



/***/ }),

/***/ "./src/app/services/album.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlbumService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var AlbumService = /** @class */ (function () {
    function AlbumService(http) {
        this.http = http;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    AlbumService.prototype.saveAlbum = function (userid, artistid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/album/" + userid + "?artistid=" + artistid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.checkAlbum = function (userid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/checkalbumname/" + userid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.updateAlbumphoto = function (albumid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/updatealbumphoto/" + albumid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getAlbums = function (userid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/album/report/" + userid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getAlbumCount = function (userid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/albumcount/" + userid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getArtistAlbums = function (userid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/album/artistalbumreport/" + userid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getArtistAlbumsStats = function (userid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/album/artistalbumreportstats/" + userid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getAggAlbums = function (userid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/album/aggreport/" + userid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getAggAlbumstats = function (userid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/album/aggstats/" + userid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getAlbum = function (albumid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/album/" + albumid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getAlbumList = function (userid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/albumlist/" + userid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.getAlbumListbyArtist = function (userid, artistid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/albumlistbyartist/" + userid + "?artistid=" + artistid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.deleteAlbum = function (albumid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.delete("api/album/" + albumid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.pubsaveAlbum = function (userid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubaddalbum/" + userid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.pubupdateAlbumphoto = function (albumid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubeditalbumphoto/" + albumid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.pubdeleteAlbum = function (albumid, oAlbum) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubdeletealbum/" + albumid, JSON.stringify(oAlbum), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    AlbumService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    AlbumService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], AlbumService);
    return AlbumService;
}());



/***/ }),

/***/ "./src/app/services/artist.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ArtistService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ArtistService = /** @class */ (function () {
    function ArtistService(http) {
        this.http = http;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    ArtistService.prototype.saveArtist = function (userid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/artist/" + userid, JSON.stringify(oArtist), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.pubsaveArtist = function (userid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubartist/" + userid, oArtist, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.updateArtistphoto = function (artistid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/updateartistphoto/" + artistid, JSON.stringify(oArtist), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.pubupdateArtistphoto = function (artistid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubupdateartistphoto/" + artistid, oArtist, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.getArtists = function (userid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/artist/report/" + userid, JSON.stringify(oArtist), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.checkArtist = function (userid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/checkartistname/" + userid, oArtist, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.getArtistCount = function (userid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/artistcount/" + userid, JSON.stringify(oArtist), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.getAggArtists = function (userid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/artist/aggreport/" + userid, JSON.stringify(oArtist), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.getAggArtiststats = function (userid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/artist/aggstats/" + userid, JSON.stringify(oArtist), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.getArtist = function (artistid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/artist/" + artistid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.getArtistList = function (userid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/artistlist/" + userid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.deleteArtist = function (artistid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.delete("api/artist/" + artistid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.pubdeleteArtist = function (artistid, oArtist) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubdelartist/" + artistid, JSON.stringify(oArtist), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ArtistService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    ArtistService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], ArtistService);
    return ArtistService;
}());



/***/ }),

/***/ "./src/app/services/auth.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var AuthService = /** @class */ (function () {
    function AuthService(http) {
        this.http = http;
    }
    AuthService.prototype.isLoggedIn = function () {
        try {
            var theUser = JSON.parse(localStorage.getItem('currentUser'));
            /* var theUser: any;
            setTimeout( theUser = JSON.parse(localStorage.getItem('currentUser')), 100);  */
            if (theUser) {
                this.currentUser = theUser.user;
            }
        }
        catch (e) {
            return false;
        }
        return !!this.currentUser;
    };
    AuthService.prototype.login = function (oUser) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post('api/login', JSON.stringify(oUser), options)
            .do(function (response) {
            if (response.json().success) {
                _this.currentUser = response.json().message;
                var userObj = {};
                userObj.user = response.json().message;
                userObj.token = response.json().token;
                localStorage.setItem('currentUser', JSON.stringify(userObj));
            }
            response.json();
        })
            .catch(this.handleError);
    };
    AuthService.prototype.logout = function () {
        this.currentUser = null;
        //setTimeout(localStorage.removeItem('currentUser'),100);
        localStorage.removeItem('currentUser');
        //Clear storage after specific time
        //var logoutTimer = setTimeout(localStorage.clear(), 100);
        localStorage.clear();
    };
    AuthService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    AuthService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/services/filetransfer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FiletransferService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var FiletransferService = /** @class */ (function () {
    function FiletransferService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.filetransferurl = globals.filetransferurl;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    FiletransferService.prototype.uploadInputFile = function (oFile) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        //console.log(oFile.getAll('artistimage'));
        return this.http.post(this.filetransferurl + "/api/inputfileupload", oFile, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    FiletransferService.prototype.deleteInputFile = function (oFile) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.filetransferurl + "/api/inputfiledelete", oFile, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    FiletransferService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    FiletransferService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_3__app_global__["a" /* Globals */]])
    ], FiletransferService);
    return FiletransferService;
}());



/***/ }),

/***/ "./src/app/services/navbar.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NavbarService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NavbarService = /** @class */ (function () {
    function NavbarService() {
        this.visible = true;
        this.linkaccess = true;
    }
    NavbarService.prototype.hide = function () { this.visible = false; };
    NavbarService.prototype.show = function () { this.visible = true; };
    NavbarService.prototype.toggle = function () { this.visible = !this.visible; };
    NavbarService.prototype.disableLink = function () { this.linkaccess = false; };
    NavbarService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], NavbarService);
    return NavbarService;
}());



/***/ }),

/***/ "./src/app/services/notif.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotifService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_global__ = __webpack_require__("./src/app/app.global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var NotifService = /** @class */ (function () {
    function NotifService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.notifurl = globals.notifurl;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    NotifService.prototype.sendemailverification = function (oLink) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.notifurl + "/sendverification", JSON.stringify(oLink), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    NotifService.prototype.sendresetpasswd = function (oLink) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.notifurl + "/sendresetpassword", JSON.stringify(oLink), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    NotifService.prototype.recvemailverification = function (hash) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.notifurl + "/verify?id=" + hash, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    NotifService.prototype.pageverification = function (hash) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get(this.notifurl + "/pgverify?id=" + hash, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    NotifService.prototype.sendemailwelcome = function (oLink) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.notifurl + "/welcomemail", JSON.stringify(oLink), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    NotifService.prototype.senddeactivation = function (oLink) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post(this.notifurl + "/deactivationemail", JSON.stringify(oLink), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    NotifService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    NotifService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_3__app_global__["a" /* Globals */]])
    ], NotifService);
    return NotifService;
}());



/***/ }),

/***/ "./src/app/services/song.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SongService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SongService = /** @class */ (function () {
    function SongService(http) {
        this.http = http;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    SongService.prototype.saveSong = function (userid, artistid, albumid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/song/" + userid + "?artistid=" + artistid + "&albumid=" + albumid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.checkSong = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/checksongname/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.pubsaveSong = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubsong/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.pubeditSong = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubeditsong/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.uploadSongfiles = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/uploadsong/" + userid, oSong, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.publishSong = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/publishsong/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.cancelPublishSong = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/cancelpublishsong/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.updateSongPreview = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/updatesongpreview/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.pubupdateSongPreview = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubeditsongprvw/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.updateSongFile = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/updatesongfile/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.pubupdateSongFile = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubeditsongfile/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.getSong = function (songid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/song/" + songid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.getSongAgg = function (songid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/songaggregate/" + songid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.getAggTopSongs = function (oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/topaggreportln", JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.deleteSong = function (songid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.delete("api/song/" + songid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.pubdeleteSong = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pubdeletesong/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.getAggSongs = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/song/aggreport/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.getSongs = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/song/report/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.getSongCount = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/songcount/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.getSongList = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/song/list/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.getSongListstats = function (userid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/song/stats/" + userid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.songbuyincrement = function (songid, oSong) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/songbuyincrement/" + songid, JSON.stringify(oSong), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    SongService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], SongService);
    return SongService;
}());



/***/ }),

/***/ "./src/app/services/songpurchase.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SongpurchaseService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SongpurchaseService = /** @class */ (function () {
    function SongpurchaseService(http) {
        this.http = http;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    SongpurchaseService.prototype.saveSongpurchase = function (userid, oSongpurchase) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/songpurchase/" + userid, JSON.stringify(oSongpurchase), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.getSongpurchase = function (songpurchaseid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/songpurchase/" + songpurchaseid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.deleteSongpurchase = function (songpurchaseid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.delete("api/songpurchase/" + songpurchaseid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.updateStatuspurchase = function (songpurchaseid, oSongpurchase) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/songpurchase/" + songpurchaseid, JSON.stringify(oSongpurchase), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.getSongpurchaseAggs = function (userid, oSongpurchase) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/songpurchaseagg/" + userid, JSON.stringify(oSongpurchase), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.getSongpurchaseAgg = function (songpurchaseid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/songpurchaseagg/" + songpurchaseid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.getPendingsongpurchaseAggs = function (userid, oSongpurchase) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pendingsongpurchaseagg/" + userid, JSON.stringify(oSongpurchase), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.getPendingSongpurchaseCount = function (userid, oSongpurchase) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/pendingsongpurchasecount/" + userid, JSON.stringify(oSongpurchase), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.getAdmSongpurchaseAggs = function (userid, oSongpurchase) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/admsongpurchaseagg/" + userid, JSON.stringify(oSongpurchase), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.pubSaveSongpurchasePayment = function (userid, oSongpurchase) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/actionpmtpurchase/" + userid, JSON.stringify(oSongpurchase), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    SongpurchaseService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    SongpurchaseService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], SongpurchaseService);
    return SongpurchaseService;
}());



/***/ }),

/***/ "./src/app/services/transaction.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TransactionService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var TransactionService = /** @class */ (function () {
    function TransactionService(http) {
        this.http = http;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    TransactionService.prototype.saveTransaction = function (userid, oTransaction) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/transaction/" + userid, JSON.stringify(oTransaction), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TransactionService.prototype.getTransactionAggs = function (userid, oTransaction) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/transactionagg/" + userid, JSON.stringify(oTransaction), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TransactionService.prototype.getOtherTransactionAggs = function (userid, oTransaction) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/othertransactionagg/" + userid, JSON.stringify(oTransaction), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TransactionService.prototype.getAdmTransactionAggs = function (userid, oTransaction) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/admtransactionagg/" + userid, JSON.stringify(oTransaction), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TransactionService.prototype.getAdmOtherTransactionAggs = function (userid, oTransaction) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/admothertransactionagg/" + userid, JSON.stringify(oTransaction), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TransactionService.prototype.getLabelbalance = function (userid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/labelbalance/" + userid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TransactionService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    TransactionService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], TransactionService);
    return TransactionService;
}());



/***/ }),

/***/ "./src/app/services/trfbalance.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrfbalanceService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var TrfbalanceService = /** @class */ (function () {
    function TrfbalanceService(http) {
        this.http = http;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    TrfbalanceService.prototype.saveTrfbalancereq = function (userid, oTrfbalancereq) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/trfbalancereq/" + userid, JSON.stringify(oTrfbalancereq), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalanceService.prototype.getTrfbalancereqAggs = function (userid, oTrfbalancereq) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("api/trfbalancereqagg/" + userid, JSON.stringify(oTrfbalancereq), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalanceService.prototype.getTrfbalancereqAgg = function (trfreqid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/gettrfbalancereqagg/" + trfreqid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    TrfbalanceService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    TrfbalanceService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], TrfbalanceService);
    return TrfbalanceService;
}());



/***/ }),

/***/ "./src/app/services/user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_do__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/do.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/throw.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var UserService = /** @class */ (function () {
    function UserService(http) {
        this.http = http;
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
    }
    /*   uploadpreview(oFile){
        console.log(oFile.getAll('usrimage'));
        return this.http.post('http://localhost:2000/flupload', oFile)
          .map((response: Response) => response.json())
          .catch(this.handleError);
      }
     */
    UserService.prototype.register = function (oUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post('register', JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.registerlabel = function (oUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post('registerlabel', JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.getUser = function (userid) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.get("api/user/" + userid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.updateUser = function (userid, oUser) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/user/" + userid, JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    /*   updatePhoto(userid, oUser){
        let headers = new Headers();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', `${this.jwtToken}`);
        let options = new RequestOptions({ headers: headers });
    
        return this.http.put(`http://localhost:2000/api/editphoto/${userid}`, JSON.stringify(oUser), options)
            .map((response: Response) => response.json())
            .catch(this.handleError);
      }
     
      deletePhoto(oUser){
        let headers = new Headers();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', `${this.jwtToken}`);
        let options = new RequestOptions({ headers: headers });
    
        return this.http.post('http://localhost:2000/api/delphoto', JSON.stringify(oUser), options)
            .map((response: Response) => response.json())
            .catch(this.handleError);
      }
    */
    UserService.prototype.updatePassword = function (userid, oUser) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/password/" + userid, JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.updateEmail = function (userid, oUser) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/email/" + userid, JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.updatehash = function (hashid) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("updatehash/" + hashid, options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.emailVerify = function (oUser) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/emailverify", JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.pubemailVerify = function (oUser) {
        var theUser = JSON.parse(localStorage.getItem('currentUser'));
        if (theUser) {
            this.jwtToken = theUser.token;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        headers.append('Authorization', "" + this.jwtToken);
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.put("api/pubemailverify", JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.resetPasswd = function (oUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("resetpwd", JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.doResetPasswd = function (oUser) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        return this.http.post("doresetpwd", JSON.stringify(oUser), options)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    UserService.prototype.handleError = function (error) {
        var errMsg = error.status ? error.status + " - " + error.statusText : 'Ooops sorry...a server error occured. Please try again shortly.';
        //console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    UserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
var environment = {
    production: true
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map